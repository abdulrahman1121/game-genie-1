(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))s(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function s(u){if(u.ep)return;u.ep=!0;const h=i(u);fetch(u.href,h)}})();function zE(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Rf={exports:{}},Pl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ry;function PE(){if(ry)return Pl;ry=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,u,h){var d=null;if(h!==void 0&&(d=""+h),u.key!==void 0&&(d=""+u.key),"key"in u){h={};for(var g in u)g!=="key"&&(h[g]=u[g])}else h=u;return u=h.ref,{$$typeof:a,type:s,key:d,ref:u!==void 0?u:null,props:h}}return Pl.Fragment=e,Pl.jsx=i,Pl.jsxs=i,Pl}var ay;function BE(){return ay||(ay=1,Rf.exports=PE()),Rf.exports}var G=BE(),wf={exports:{}},bt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sy;function jE(){if(sy)return bt;sy=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),D=Symbol.iterator;function b(x){return x===null||typeof x!="object"?null:(x=D&&x[D]||x["@@iterator"],typeof x=="function"?x:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,X={};function Y(x,et,ot){this.props=x,this.context=et,this.refs=X,this.updater=ot||j}Y.prototype.isReactComponent={},Y.prototype.setState=function(x,et){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,et,"setState")},Y.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function Q(){}Q.prototype=Y.prototype;function nt(x,et,ot){this.props=x,this.context=et,this.refs=X,this.updater=ot||j}var J=nt.prototype=new Q;J.constructor=nt,L(J,Y.prototype),J.isPureReactComponent=!0;var rt=Array.isArray,ut={H:null,A:null,T:null,S:null,V:null},ct=Object.prototype.hasOwnProperty;function N(x,et,ot,it,pt,Ct){return ot=Ct.ref,{$$typeof:a,type:x,key:et,ref:ot!==void 0?ot:null,props:Ct}}function A(x,et){return N(x.type,et,void 0,void 0,void 0,x.props)}function R(x){return typeof x=="object"&&x!==null&&x.$$typeof===a}function V(x){var et={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(ot){return et[ot]})}var O=/\/+/g;function M(x,et){return typeof x=="object"&&x!==null&&x.key!=null?V(""+x.key):et.toString(36)}function w(){}function Rt(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(w,w):(x.status="pending",x.then(function(et){x.status==="pending"&&(x.status="fulfilled",x.value=et)},function(et){x.status==="pending"&&(x.status="rejected",x.reason=et)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function Pt(x,et,ot,it,pt){var Ct=typeof x;(Ct==="undefined"||Ct==="boolean")&&(x=null);var Tt=!1;if(x===null)Tt=!0;else switch(Ct){case"bigint":case"string":case"number":Tt=!0;break;case"object":switch(x.$$typeof){case a:case e:Tt=!0;break;case T:return Tt=x._init,Pt(Tt(x._payload),et,ot,it,pt)}}if(Tt)return pt=pt(x),Tt=it===""?"."+M(x,0):it,rt(pt)?(ot="",Tt!=null&&(ot=Tt.replace(O,"$&/")+"/"),Pt(pt,et,ot,"",function(Mn){return Mn})):pt!=null&&(R(pt)&&(pt=A(pt,ot+(pt.key==null||x&&x.key===pt.key?"":(""+pt.key).replace(O,"$&/")+"/")+Tt)),et.push(pt)),1;Tt=0;var De=it===""?".":it+":";if(rt(x))for(var Jt=0;Jt<x.length;Jt++)it=x[Jt],Ct=De+M(it,Jt),Tt+=Pt(it,et,ot,Ct,pt);else if(Jt=b(x),typeof Jt=="function")for(x=Jt.call(x),Jt=0;!(it=x.next()).done;)it=it.value,Ct=De+M(it,Jt++),Tt+=Pt(it,et,ot,Ct,pt);else if(Ct==="object"){if(typeof x.then=="function")return Pt(Rt(x),et,ot,it,pt);throw et=String(x),Error("Objects are not valid as a React child (found: "+(et==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":et)+"). If you meant to render a collection of children, use an array instead.")}return Tt}function K(x,et,ot){if(x==null)return x;var it=[],pt=0;return Pt(x,it,"","",function(Ct){return et.call(ot,Ct,pt++)}),it}function lt(x){if(x._status===-1){var et=x._result;et=et(),et.then(function(ot){(x._status===0||x._status===-1)&&(x._status=1,x._result=ot)},function(ot){(x._status===0||x._status===-1)&&(x._status=2,x._result=ot)}),x._status===-1&&(x._status=0,x._result=et)}if(x._status===1)return x._result.default;throw x._result}var ft=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var et=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(et))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)};function kt(){}return bt.Children={map:K,forEach:function(x,et,ot){K(x,function(){et.apply(this,arguments)},ot)},count:function(x){var et=0;return K(x,function(){et++}),et},toArray:function(x){return K(x,function(et){return et})||[]},only:function(x){if(!R(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},bt.Component=Y,bt.Fragment=i,bt.Profiler=u,bt.PureComponent=nt,bt.StrictMode=s,bt.Suspense=y,bt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ut,bt.__COMPILER_RUNTIME={__proto__:null,c:function(x){return ut.H.useMemoCache(x)}},bt.cache=function(x){return function(){return x.apply(null,arguments)}},bt.cloneElement=function(x,et,ot){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var it=L({},x.props),pt=x.key,Ct=void 0;if(et!=null)for(Tt in et.ref!==void 0&&(Ct=void 0),et.key!==void 0&&(pt=""+et.key),et)!ct.call(et,Tt)||Tt==="key"||Tt==="__self"||Tt==="__source"||Tt==="ref"&&et.ref===void 0||(it[Tt]=et[Tt]);var Tt=arguments.length-2;if(Tt===1)it.children=ot;else if(1<Tt){for(var De=Array(Tt),Jt=0;Jt<Tt;Jt++)De[Jt]=arguments[Jt+2];it.children=De}return N(x.type,pt,void 0,void 0,Ct,it)},bt.createContext=function(x){return x={$$typeof:d,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:h,_context:x},x},bt.createElement=function(x,et,ot){var it,pt={},Ct=null;if(et!=null)for(it in et.key!==void 0&&(Ct=""+et.key),et)ct.call(et,it)&&it!=="key"&&it!=="__self"&&it!=="__source"&&(pt[it]=et[it]);var Tt=arguments.length-2;if(Tt===1)pt.children=ot;else if(1<Tt){for(var De=Array(Tt),Jt=0;Jt<Tt;Jt++)De[Jt]=arguments[Jt+2];pt.children=De}if(x&&x.defaultProps)for(it in Tt=x.defaultProps,Tt)pt[it]===void 0&&(pt[it]=Tt[it]);return N(x,Ct,void 0,void 0,null,pt)},bt.createRef=function(){return{current:null}},bt.forwardRef=function(x){return{$$typeof:g,render:x}},bt.isValidElement=R,bt.lazy=function(x){return{$$typeof:T,_payload:{_status:-1,_result:x},_init:lt}},bt.memo=function(x,et){return{$$typeof:p,type:x,compare:et===void 0?null:et}},bt.startTransition=function(x){var et=ut.T,ot={};ut.T=ot;try{var it=x(),pt=ut.S;pt!==null&&pt(ot,it),typeof it=="object"&&it!==null&&typeof it.then=="function"&&it.then(kt,ft)}catch(Ct){ft(Ct)}finally{ut.T=et}},bt.unstable_useCacheRefresh=function(){return ut.H.useCacheRefresh()},bt.use=function(x){return ut.H.use(x)},bt.useActionState=function(x,et,ot){return ut.H.useActionState(x,et,ot)},bt.useCallback=function(x,et){return ut.H.useCallback(x,et)},bt.useContext=function(x){return ut.H.useContext(x)},bt.useDebugValue=function(){},bt.useDeferredValue=function(x,et){return ut.H.useDeferredValue(x,et)},bt.useEffect=function(x,et,ot){var it=ut.H;if(typeof ot=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return it.useEffect(x,et)},bt.useId=function(){return ut.H.useId()},bt.useImperativeHandle=function(x,et,ot){return ut.H.useImperativeHandle(x,et,ot)},bt.useInsertionEffect=function(x,et){return ut.H.useInsertionEffect(x,et)},bt.useLayoutEffect=function(x,et){return ut.H.useLayoutEffect(x,et)},bt.useMemo=function(x,et){return ut.H.useMemo(x,et)},bt.useOptimistic=function(x,et){return ut.H.useOptimistic(x,et)},bt.useReducer=function(x,et,ot){return ut.H.useReducer(x,et,ot)},bt.useRef=function(x){return ut.H.useRef(x)},bt.useState=function(x){return ut.H.useState(x)},bt.useSyncExternalStore=function(x,et,ot){return ut.H.useSyncExternalStore(x,et,ot)},bt.useTransition=function(){return ut.H.useTransition()},bt.version="19.1.0",bt}var ly;function md(){return ly||(ly=1,wf.exports=jE()),wf.exports}var q=md(),Bl={},uy;function kE(){if(uy)return Bl;uy=1,Object.defineProperty(Bl,"__esModule",{value:!0}),Bl.parse=d,Bl.serialize=p;const a=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,u=Object.prototype.toString,h=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function d(b,j){const L=new h,X=b.length;if(X<2)return L;const Y=j?.decode||T;let Q=0;do{const nt=b.indexOf("=",Q);if(nt===-1)break;const J=b.indexOf(";",Q),rt=J===-1?X:J;if(nt>rt){Q=b.lastIndexOf(";",nt-1)+1;continue}const ut=g(b,Q,nt),ct=y(b,nt,ut),N=b.slice(ut,ct);if(L[N]===void 0){let A=g(b,nt+1,rt),R=y(b,rt,A);const V=Y(b.slice(A,R));L[N]=V}Q=rt+1}while(Q<X);return L}function g(b,j,L){do{const X=b.charCodeAt(j);if(X!==32&&X!==9)return j}while(++j<L);return L}function y(b,j,L){for(;j>L;){const X=b.charCodeAt(--j);if(X!==32&&X!==9)return j+1}return L}function p(b,j,L){const X=L?.encode||encodeURIComponent;if(!a.test(b))throw new TypeError(`argument name is invalid: ${b}`);const Y=X(j);if(!e.test(Y))throw new TypeError(`argument val is invalid: ${j}`);let Q=b+"="+Y;if(!L)return Q;if(L.maxAge!==void 0){if(!Number.isInteger(L.maxAge))throw new TypeError(`option maxAge is invalid: ${L.maxAge}`);Q+="; Max-Age="+L.maxAge}if(L.domain){if(!i.test(L.domain))throw new TypeError(`option domain is invalid: ${L.domain}`);Q+="; Domain="+L.domain}if(L.path){if(!s.test(L.path))throw new TypeError(`option path is invalid: ${L.path}`);Q+="; Path="+L.path}if(L.expires){if(!D(L.expires)||!Number.isFinite(L.expires.valueOf()))throw new TypeError(`option expires is invalid: ${L.expires}`);Q+="; Expires="+L.expires.toUTCString()}if(L.httpOnly&&(Q+="; HttpOnly"),L.secure&&(Q+="; Secure"),L.partitioned&&(Q+="; Partitioned"),L.priority)switch(typeof L.priority=="string"?L.priority.toLowerCase():void 0){case"low":Q+="; Priority=Low";break;case"medium":Q+="; Priority=Medium";break;case"high":Q+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${L.priority}`)}if(L.sameSite)switch(typeof L.sameSite=="string"?L.sameSite.toLowerCase():L.sameSite){case!0:case"strict":Q+="; SameSite=Strict";break;case"lax":Q+="; SameSite=Lax";break;case"none":Q+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${L.sameSite}`)}return Q}function T(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function D(b){return u.call(b)==="[object Date]"}return Bl}kE();var oy="popstate";function qE(a={}){function e(s,u){let{pathname:h,search:d,hash:g}=s.location;return Zo("",{pathname:h,search:d,hash:g},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function i(s,u){return typeof u=="string"?u:ys(u)}return xv(e,i,null,a)}function HE(a={}){function e(u,h){let{pathname:d="/",search:g="",hash:y=""}=fa(u.location.hash.substring(1));return!d.startsWith("/")&&!d.startsWith(".")&&(d="/"+d),Zo("",{pathname:d,search:g,hash:y},h.state&&h.state.usr||null,h.state&&h.state.key||"default")}function i(u,h){let d=u.document.querySelector("base"),g="";if(d&&d.getAttribute("href")){let y=u.location.href,p=y.indexOf("#");g=p===-1?y:y.slice(0,p)}return g+"#"+(typeof h=="string"?h:ys(h))}function s(u,h){In(u.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(h)})`)}return xv(e,i,s,a)}function re(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}function In(a,e){if(!a){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function GE(){return Math.random().toString(36).substring(2,10)}function cy(a,e){return{usr:a.state,key:a.key,idx:e}}function Zo(a,e,i=null,s){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof e=="string"?fa(e):e,state:i,key:e&&e.key||s||GE()}}function ys({pathname:a="/",search:e="",hash:i=""}){return e&&e!=="?"&&(a+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(a+=i.charAt(0)==="#"?i:"#"+i),a}function fa(a){let e={};if(a){let i=a.indexOf("#");i>=0&&(e.hash=a.substring(i),a=a.substring(0,i));let s=a.indexOf("?");s>=0&&(e.search=a.substring(s),a=a.substring(0,s)),a&&(e.pathname=a)}return e}function xv(a,e,i,s={}){let{window:u=document.defaultView,v5Compat:h=!1}=s,d=u.history,g="POP",y=null,p=T();p==null&&(p=0,d.replaceState({...d.state,idx:p},""));function T(){return(d.state||{idx:null}).idx}function D(){g="POP";let Y=T(),Q=Y==null?null:Y-p;p=Y,y&&y({action:g,location:X.location,delta:Q})}function b(Y,Q){g="PUSH";let nt=Zo(X.location,Y,Q);i&&i(nt,Y),p=T()+1;let J=cy(nt,p),rt=X.createHref(nt);try{d.pushState(J,"",rt)}catch(ut){if(ut instanceof DOMException&&ut.name==="DataCloneError")throw ut;u.location.assign(rt)}h&&y&&y({action:g,location:X.location,delta:1})}function j(Y,Q){g="REPLACE";let nt=Zo(X.location,Y,Q);i&&i(nt,Y),p=T();let J=cy(nt,p),rt=X.createHref(nt);d.replaceState(J,"",rt),h&&y&&y({action:g,location:X.location,delta:0})}function L(Y){return QE(Y)}let X={get action(){return g},get location(){return a(u,d)},listen(Y){if(y)throw new Error("A history only accepts one active listener");return u.addEventListener(oy,D),y=Y,()=>{u.removeEventListener(oy,D),y=null}},createHref(Y){return e(u,Y)},createURL:L,encodeLocation(Y){let Q=L(Y);return{pathname:Q.pathname,search:Q.search,hash:Q.hash}},push:b,replace:j,go(Y){return d.go(Y)}};return X}function QE(a,e=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),re(i,"No window.location.(origin|href) available to create URL");let s=typeof a=="string"?a:ys(a);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=i+s),new URL(s,i)}function Ov(a,e,i="/"){return YE(a,e,i,!1)}function YE(a,e,i,s){let u=typeof e=="string"?fa(e):e,h=Oi(u.pathname||"/",i);if(h==null)return null;let d=Vv(a);FE(d);let g=null;for(let y=0;g==null&&y<d.length;++y){let p=rT(h);g=nT(d[y],p,s)}return g}function Vv(a,e=[],i=[],s=""){let u=(h,d,g)=>{let y={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:d,route:h};y.relativePath.startsWith("/")&&(re(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length));let p=xi([s,y.relativePath]),T=i.concat(y);h.children&&h.children.length>0&&(re(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),Vv(h.children,e,T,p)),!(h.path==null&&!h.index)&&e.push({path:p,score:tT(p,h.index),routesMeta:T})};return a.forEach((h,d)=>{if(h.path===""||!h.path?.includes("?"))u(h,d);else for(let g of Iv(h.path))u(h,d,g)}),e}function Iv(a){let e=a.split("/");if(e.length===0)return[];let[i,...s]=e,u=i.endsWith("?"),h=i.replace(/\?$/,"");if(s.length===0)return u?[h,""]:[h];let d=Iv(s.join("/")),g=[];return g.push(...d.map(y=>y===""?h:[h,y].join("/"))),u&&g.push(...d),g.map(y=>a.startsWith("/")&&y===""?"/":y)}function FE(a){a.sort((e,i)=>e.score!==i.score?i.score-e.score:eT(e.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}var KE=/^:[\w-]+$/,XE=3,$E=2,ZE=1,JE=10,WE=-2,hy=a=>a==="*";function tT(a,e){let i=a.split("/"),s=i.length;return i.some(hy)&&(s+=WE),e&&(s+=$E),i.filter(u=>!hy(u)).reduce((u,h)=>u+(KE.test(h)?XE:h===""?ZE:JE),s)}function eT(a,e){return a.length===e.length&&a.slice(0,-1).every((s,u)=>s===e[u])?a[a.length-1]-e[e.length-1]:0}function nT(a,e,i=!1){let{routesMeta:s}=a,u={},h="/",d=[];for(let g=0;g<s.length;++g){let y=s[g],p=g===s.length-1,T=h==="/"?e:e.slice(h.length)||"/",D=Jo({path:y.relativePath,caseSensitive:y.caseSensitive,end:p},T),b=y.route;if(!D&&p&&i&&!s[s.length-1].route.index&&(D=Jo({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},T)),!D)return null;Object.assign(u,D.params),d.push({params:u,pathname:xi([h,D.pathname]),pathnameBase:uT(xi([h,D.pathnameBase])),route:b}),D.pathnameBase!=="/"&&(h=xi([h,D.pathnameBase]))}return d}function Jo(a,e){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[i,s]=iT(a.path,a.caseSensitive,a.end),u=e.match(i);if(!u)return null;let h=u[0],d=h.replace(/(.)\/+$/,"$1"),g=u.slice(1);return{params:s.reduce((p,{paramName:T,isOptional:D},b)=>{if(T==="*"){let L=g[b]||"";d=h.slice(0,h.length-L.length).replace(/(.)\/+$/,"$1")}const j=g[b];return D&&!j?p[T]=void 0:p[T]=(j||"").replace(/%2F/g,"/"),p},{}),pathname:h,pathnameBase:d,pattern:a}}function iT(a,e=!1,i=!0){In(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let s=[],u="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,g,y)=>(s.push({paramName:g,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)"));return a.endsWith("*")?(s.push({paramName:"*"}),u+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?u+="\\/*$":a!==""&&a!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,e?void 0:"i"),s]}function rT(a){try{return a.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return In(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),a}}function Oi(a,e){if(e==="/")return a;if(!a.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,s=a.charAt(i);return s&&s!=="/"?null:a.slice(i)||"/"}function aT(a,e="/"){let{pathname:i,search:s="",hash:u=""}=typeof a=="string"?fa(a):a;return{pathname:i?i.startsWith("/")?i:sT(i,e):e,search:oT(s),hash:cT(u)}}function sT(a,e){let i=e.replace(/\/+$/,"").split("/");return a.split("/").forEach(u=>{u===".."?i.length>1&&i.pop():u!=="."&&i.push(u)}),i.length>1?i.join("/"):"/"}function Cf(a,e,i,s){return`Cannot include a '${a}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function lT(a){return a.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function Mv(a){let e=lT(a);return e.map((i,s)=>s===e.length-1?i.pathname:i.pathnameBase)}function Uv(a,e,i,s=!1){let u;typeof a=="string"?u=fa(a):(u={...a},re(!u.pathname||!u.pathname.includes("?"),Cf("?","pathname","search",u)),re(!u.pathname||!u.pathname.includes("#"),Cf("#","pathname","hash",u)),re(!u.search||!u.search.includes("#"),Cf("#","search","hash",u)));let h=a===""||u.pathname==="",d=h?"/":u.pathname,g;if(d==null)g=i;else{let D=e.length-1;if(!s&&d.startsWith("..")){let b=d.split("/");for(;b[0]==="..";)b.shift(),D-=1;u.pathname=b.join("/")}g=D>=0?e[D]:"/"}let y=aT(u,g),p=d&&d!=="/"&&d.endsWith("/"),T=(h||d===".")&&i.endsWith("/");return!y.pathname.endsWith("/")&&(p||T)&&(y.pathname+="/"),y}var xi=a=>a.join("/").replace(/\/\/+/g,"/"),uT=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),oT=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,cT=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function hT(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}var Lv=["POST","PUT","PATCH","DELETE"];new Set(Lv);var fT=["GET",...Lv];new Set(fT);var Rs=q.createContext(null);Rs.displayName="DataRouter";var cc=q.createContext(null);cc.displayName="DataRouterState";var zv=q.createContext({isTransitioning:!1});zv.displayName="ViewTransition";var dT=q.createContext(new Map);dT.displayName="Fetchers";var mT=q.createContext(null);mT.displayName="Await";var ii=q.createContext(null);ii.displayName="Navigation";var ru=q.createContext(null);ru.displayName="Location";var Mi=q.createContext({outlet:null,matches:[],isDataRoute:!1});Mi.displayName="Route";var gd=q.createContext(null);gd.displayName="RouteError";function gT(a,{relative:e}={}){re(au(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:s}=q.useContext(ii),{hash:u,pathname:h,search:d}=su(a,{relative:e}),g=h;return i!=="/"&&(g=h==="/"?i:xi([i,h])),s.createHref({pathname:g,search:d,hash:u})}function au(){return q.useContext(ru)!=null}function Ar(){return re(au(),"useLocation() may be used only in the context of a <Router> component."),q.useContext(ru).location}var Pv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Bv(a){q.useContext(ii).static||q.useLayoutEffect(a)}function da(){let{isDataRoute:a}=q.useContext(Mi);return a?DT():pT()}function pT(){re(au(),"useNavigate() may be used only in the context of a <Router> component.");let a=q.useContext(Rs),{basename:e,navigator:i}=q.useContext(ii),{matches:s}=q.useContext(Mi),{pathname:u}=Ar(),h=JSON.stringify(Mv(s)),d=q.useRef(!1);return Bv(()=>{d.current=!0}),q.useCallback((y,p={})=>{if(In(d.current,Pv),!d.current)return;if(typeof y=="number"){i.go(y);return}let T=Uv(y,JSON.parse(h),u,p.relative==="path");a==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:xi([e,T.pathname])),(p.replace?i.replace:i.push)(T,p.state,p)},[e,i,h,u,a])}q.createContext(null);function su(a,{relative:e}={}){let{matches:i}=q.useContext(Mi),{pathname:s}=Ar(),u=JSON.stringify(Mv(i));return q.useMemo(()=>Uv(a,JSON.parse(u),s,e==="path"),[a,u,s,e])}function yT(a,e){return jv(a,e)}function jv(a,e,i,s){re(au(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=q.useContext(ii),{matches:h}=q.useContext(Mi),d=h[h.length-1],g=d?d.params:{},y=d?d.pathname:"/",p=d?d.pathnameBase:"/",T=d&&d.route;{let Q=T&&T.path||"";kv(y,!T||Q.endsWith("*")||Q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${Q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Q}"> to <Route path="${Q==="/"?"*":`${Q}/*`}">.`)}let D=Ar(),b;if(e){let Q=typeof e=="string"?fa(e):e;re(p==="/"||Q.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${Q.pathname}" was given in the \`location\` prop.`),b=Q}else b=D;let j=b.pathname||"/",L=j;if(p!=="/"){let Q=p.replace(/^\//,"").split("/");L="/"+j.replace(/^\//,"").split("/").slice(Q.length).join("/")}let X=Ov(a,{pathname:L});In(T||X!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),In(X==null||X[X.length-1].route.element!==void 0||X[X.length-1].route.Component!==void 0||X[X.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Y=ST(X&&X.map(Q=>Object.assign({},Q,{params:Object.assign({},g,Q.params),pathname:xi([p,u.encodeLocation?u.encodeLocation(Q.pathname).pathname:Q.pathname]),pathnameBase:Q.pathnameBase==="/"?p:xi([p,u.encodeLocation?u.encodeLocation(Q.pathnameBase).pathname:Q.pathnameBase])})),h,i,s);return e&&Y?q.createElement(ru.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},Y):Y}function vT(){let a=CT(),e=hT(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),i=a instanceof Error?a.stack:null,s="rgba(200,200,200, 0.5)",u={padding:"0.5rem",backgroundColor:s},h={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",a),d=q.createElement(q.Fragment,null,q.createElement("p",null,"ðŸ’¿ Hey developer ðŸ‘‹"),q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",q.createElement("code",{style:h},"ErrorBoundary")," or"," ",q.createElement("code",{style:h},"errorElement")," prop on your route.")),q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},e),i?q.createElement("pre",{style:u},i):null,d)}var _T=q.createElement(vT,null),ET=class extends q.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,e){return e.location!==a.location||e.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:e.error,location:e.location,revalidation:a.revalidation||e.revalidation}}componentDidCatch(a,e){console.error("React Router caught the following error during render",a,e)}render(){return this.state.error!==void 0?q.createElement(Mi.Provider,{value:this.props.routeContext},q.createElement(gd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function TT({routeContext:a,match:e,children:i}){let s=q.useContext(Rs);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),q.createElement(Mi.Provider,{value:a},i)}function ST(a,e=[],i=null,s=null){if(a==null){if(!i)return null;if(i.errors)a=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)a=i.matches;else return null}let u=a,h=i?.errors;if(h!=null){let y=u.findIndex(p=>p.route.id&&h?.[p.route.id]!==void 0);re(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,y+1))}let d=!1,g=-1;if(i)for(let y=0;y<u.length;y++){let p=u[y];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(g=y),p.route.id){let{loaderData:T,errors:D}=i,b=p.route.loader&&!T.hasOwnProperty(p.route.id)&&(!D||D[p.route.id]===void 0);if(p.route.lazy||b){d=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}return u.reduceRight((y,p,T)=>{let D,b=!1,j=null,L=null;i&&(D=h&&p.route.id?h[p.route.id]:void 0,j=p.route.errorElement||_T,d&&(g<0&&T===0?(kv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,L=null):g===T&&(b=!0,L=p.route.hydrateFallbackElement||null)));let X=e.concat(u.slice(0,T+1)),Y=()=>{let Q;return D?Q=j:b?Q=L:p.route.Component?Q=q.createElement(p.route.Component,null):p.route.element?Q=p.route.element:Q=y,q.createElement(TT,{match:p,routeContext:{outlet:y,matches:X,isDataRoute:i!=null},children:Q})};return i&&(p.route.ErrorBoundary||p.route.errorElement||T===0)?q.createElement(ET,{location:i.location,revalidation:i.revalidation,component:j,error:D,children:Y(),routeContext:{outlet:null,matches:X,isDataRoute:!0}}):Y()},null)}function pd(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function AT(a){let e=q.useContext(Rs);return re(e,pd(a)),e}function bT(a){let e=q.useContext(cc);return re(e,pd(a)),e}function RT(a){let e=q.useContext(Mi);return re(e,pd(a)),e}function yd(a){let e=RT(a),i=e.matches[e.matches.length-1];return re(i.route.id,`${a} can only be used on routes that contain a unique "id"`),i.route.id}function wT(){return yd("useRouteId")}function CT(){let a=q.useContext(gd),e=bT("useRouteError"),i=yd("useRouteError");return a!==void 0?a:e.errors?.[i]}function DT(){let{router:a}=AT("useNavigate"),e=yd("useNavigate"),i=q.useRef(!1);return Bv(()=>{i.current=!0}),q.useCallback(async(u,h={})=>{In(i.current,Pv),i.current&&(typeof u=="number"?a.navigate(u):await a.navigate(u,{fromRouteId:e,...h}))},[a,e])}var fy={};function kv(a,e,i){!e&&!fy[a]&&(fy[a]=!0,In(!1,i))}q.memo(NT);function NT({routes:a,future:e,state:i}){return jv(a,void 0,i,e)}function ls(a){re(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function qv({basename:a="/",children:e=null,location:i,navigationType:s="POP",navigator:u,static:h=!1}){re(!au(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=a.replace(/^\/*/,"/"),g=q.useMemo(()=>({basename:d,navigator:u,static:h,future:{}}),[d,u,h]);typeof i=="string"&&(i=fa(i));let{pathname:y="/",search:p="",hash:T="",state:D=null,key:b="default"}=i,j=q.useMemo(()=>{let L=Oi(y,d);return L==null?null:{location:{pathname:L,search:p,hash:T,state:D,key:b},navigationType:s}},[d,y,p,T,D,b,s]);return In(j!=null,`<Router basename="${d}"> is not able to match the URL "${y}${p}${T}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:q.createElement(ii.Provider,{value:g},q.createElement(ru.Provider,{children:e,value:j}))}function xT({children:a,location:e}){return yT(Hf(a),e)}function Hf(a,e=[]){let i=[];return q.Children.forEach(a,(s,u)=>{if(!q.isValidElement(s))return;let h=[...e,u];if(s.type===q.Fragment){i.push.apply(i,Hf(s.props.children,h));return}re(s.type===ls,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),re(!s.props.index||!s.props.children,"An index route cannot have child routes.");let d={id:s.props.id||h.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=Hf(s.props.children,h)),i.push(d)}),i}var Ho="get",Go="application/x-www-form-urlencoded";function hc(a){return a!=null&&typeof a.tagName=="string"}function OT(a){return hc(a)&&a.tagName.toLowerCase()==="button"}function VT(a){return hc(a)&&a.tagName.toLowerCase()==="form"}function IT(a){return hc(a)&&a.tagName.toLowerCase()==="input"}function MT(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function UT(a,e){return a.button===0&&(!e||e==="_self")&&!MT(a)}var zo=null;function LT(){if(zo===null)try{new FormData(document.createElement("form"),0),zo=!1}catch{zo=!0}return zo}var zT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Df(a){return a!=null&&!zT.has(a)?(In(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Go}"`),null):a}function PT(a,e){let i,s,u,h,d;if(VT(a)){let g=a.getAttribute("action");s=g?Oi(g,e):null,i=a.getAttribute("method")||Ho,u=Df(a.getAttribute("enctype"))||Go,h=new FormData(a)}else if(OT(a)||IT(a)&&(a.type==="submit"||a.type==="image")){let g=a.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=a.getAttribute("formaction")||g.getAttribute("action");if(s=y?Oi(y,e):null,i=a.getAttribute("formmethod")||g.getAttribute("method")||Ho,u=Df(a.getAttribute("formenctype"))||Df(g.getAttribute("enctype"))||Go,h=new FormData(g,a),!LT()){let{name:p,type:T,value:D}=a;if(T==="image"){let b=p?`${p}.`:"";h.append(`${b}x`,"0"),h.append(`${b}y`,"0")}else p&&h.append(p,D)}}else{if(hc(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Ho,s=null,u=Go,d=a}return h&&u==="text/plain"&&(d=h,h=void 0),{action:s,method:i.toLowerCase(),encType:u,formData:h,body:d}}function vd(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}async function BT(a,e){if(a.id in e)return e[a.id];try{let i=await import(a.module);return e[a.id]=i,i}catch(i){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function jT(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function kT(a,e,i){let s=await Promise.all(a.map(async u=>{let h=e.routes[u.route.id];if(h){let d=await BT(h,i);return d.links?d.links():[]}return[]}));return QT(s.flat(1).filter(jT).filter(u=>u.rel==="stylesheet"||u.rel==="preload").map(u=>u.rel==="stylesheet"?{...u,rel:"prefetch",as:"style"}:{...u,rel:"prefetch"}))}function dy(a,e,i,s,u,h){let d=(y,p)=>i[p]?y.route.id!==i[p].route.id:!0,g=(y,p)=>i[p].pathname!==y.pathname||i[p].route.path?.endsWith("*")&&i[p].params["*"]!==y.params["*"];return h==="assets"?e.filter((y,p)=>d(y,p)||g(y,p)):h==="data"?e.filter((y,p)=>{let T=s.routes[y.route.id];if(!T||!T.hasLoader)return!1;if(d(y,p)||g(y,p))return!0;if(y.route.shouldRevalidate){let D=y.route.shouldRevalidate({currentUrl:new URL(u.pathname+u.search+u.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(a,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof D=="boolean")return D}return!0}):[]}function qT(a,e,{includeHydrateFallback:i}={}){return HT(a.map(s=>{let u=e.routes[s.route.id];if(!u)return[];let h=[u.module];return u.clientActionModule&&(h=h.concat(u.clientActionModule)),u.clientLoaderModule&&(h=h.concat(u.clientLoaderModule)),i&&u.hydrateFallbackModule&&(h=h.concat(u.hydrateFallbackModule)),u.imports&&(h=h.concat(u.imports)),h}).flat(1))}function HT(a){return[...new Set(a)]}function GT(a){let e={},i=Object.keys(a).sort();for(let s of i)e[s]=a[s];return e}function QT(a,e){let i=new Set;return new Set(e),a.reduce((s,u)=>{let h=JSON.stringify(GT(u));return i.has(h)||(i.add(h),s.push({key:h,link:u})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var YT=new Set([100,101,204,205]);function FT(a,e){let i=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return i.pathname==="/"?i.pathname="_root.data":e&&Oi(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.data`:i.pathname=`${i.pathname.replace(/\/$/,"")}.data`,i}function Hv(){let a=q.useContext(Rs);return vd(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function KT(){let a=q.useContext(cc);return vd(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var _d=q.createContext(void 0);_d.displayName="FrameworkContext";function Gv(){let a=q.useContext(_d);return vd(a,"You must render this element inside a <HydratedRouter> element"),a}function XT(a,e){let i=q.useContext(_d),[s,u]=q.useState(!1),[h,d]=q.useState(!1),{onFocus:g,onBlur:y,onMouseEnter:p,onMouseLeave:T,onTouchStart:D}=e,b=q.useRef(null);q.useEffect(()=>{if(a==="render"&&d(!0),a==="viewport"){let X=Q=>{Q.forEach(nt=>{d(nt.isIntersecting)})},Y=new IntersectionObserver(X,{threshold:.5});return b.current&&Y.observe(b.current),()=>{Y.disconnect()}}},[a]),q.useEffect(()=>{if(s){let X=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(X)}}},[s]);let j=()=>{u(!0)},L=()=>{u(!1),d(!1)};return i?a!=="intent"?[h,b,{}]:[h,b,{onFocus:jl(g,j),onBlur:jl(y,L),onMouseEnter:jl(p,j),onMouseLeave:jl(T,L),onTouchStart:jl(D,j)}]:[!1,b,{}]}function jl(a,e){return i=>{a&&a(i),i.defaultPrevented||e(i)}}function $T({page:a,...e}){let{router:i}=Hv(),s=q.useMemo(()=>Ov(i.routes,a,i.basename),[i.routes,a,i.basename]);return s?q.createElement(JT,{page:a,matches:s,...e}):null}function ZT(a){let{manifest:e,routeModules:i}=Gv(),[s,u]=q.useState([]);return q.useEffect(()=>{let h=!1;return kT(a,e,i).then(d=>{h||u(d)}),()=>{h=!0}},[a,e,i]),s}function JT({page:a,matches:e,...i}){let s=Ar(),{manifest:u,routeModules:h}=Gv(),{basename:d}=Hv(),{loaderData:g,matches:y}=KT(),p=q.useMemo(()=>dy(a,e,y,u,s,"data"),[a,e,y,u,s]),T=q.useMemo(()=>dy(a,e,y,u,s,"assets"),[a,e,y,u,s]),D=q.useMemo(()=>{if(a===s.pathname+s.search+s.hash)return[];let L=new Set,X=!1;if(e.forEach(Q=>{let nt=u.routes[Q.route.id];!nt||!nt.hasLoader||(!p.some(J=>J.route.id===Q.route.id)&&Q.route.id in g&&h[Q.route.id]?.shouldRevalidate||nt.hasClientLoader?X=!0:L.add(Q.route.id))}),L.size===0)return[];let Y=FT(a,d);return X&&L.size>0&&Y.searchParams.set("_routes",e.filter(Q=>L.has(Q.route.id)).map(Q=>Q.route.id).join(",")),[Y.pathname+Y.search]},[d,g,s,u,p,e,a,h]),b=q.useMemo(()=>qT(T,u),[T,u]),j=ZT(T);return q.createElement(q.Fragment,null,D.map(L=>q.createElement("link",{key:L,rel:"prefetch",as:"fetch",href:L,...i})),b.map(L=>q.createElement("link",{key:L,rel:"modulepreload",href:L,...i})),j.map(({key:L,link:X})=>q.createElement("link",{key:L,...X})))}function WT(...a){return e=>{a.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var Qv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Qv&&(window.__reactRouterVersion="7.6.3")}catch{}function t1({basename:a,children:e,window:i}){let s=q.useRef();s.current==null&&(s.current=qE({window:i,v5Compat:!0}));let u=s.current,[h,d]=q.useState({action:u.action,location:u.location}),g=q.useCallback(y=>{q.startTransition(()=>d(y))},[d]);return q.useLayoutEffect(()=>u.listen(g),[u,g]),q.createElement(qv,{basename:a,children:e,location:h.location,navigationType:h.action,navigator:u})}function e1({basename:a,children:e,window:i}){let s=q.useRef();s.current==null&&(s.current=HE({window:i,v5Compat:!0}));let u=s.current,[h,d]=q.useState({action:u.action,location:u.location}),g=q.useCallback(y=>{q.startTransition(()=>d(y))},[d]);return q.useLayoutEffect(()=>u.listen(g),[u,g]),q.createElement(qv,{basename:a,children:e,location:h.location,navigationType:h.action,navigator:u})}var Yv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fv=q.forwardRef(function({onClick:e,discover:i="render",prefetch:s="none",relative:u,reloadDocument:h,replace:d,state:g,target:y,to:p,preventScrollReset:T,viewTransition:D,...b},j){let{basename:L}=q.useContext(ii),X=typeof p=="string"&&Yv.test(p),Y,Q=!1;if(typeof p=="string"&&X&&(Y=p,Qv))try{let R=new URL(window.location.href),V=p.startsWith("//")?new URL(R.protocol+p):new URL(p),O=Oi(V.pathname,L);V.origin===R.origin&&O!=null?p=O+V.search+V.hash:Q=!0}catch{In(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let nt=gT(p,{relative:u}),[J,rt,ut]=XT(s,b),ct=a1(p,{replace:d,state:g,target:y,preventScrollReset:T,relative:u,viewTransition:D});function N(R){e&&e(R),R.defaultPrevented||ct(R)}let A=q.createElement("a",{...b,...ut,href:Y||nt,onClick:Q||h?e:N,ref:WT(j,rt),target:y,"data-discover":!X&&i==="render"?"true":void 0});return J&&!X?q.createElement(q.Fragment,null,A,q.createElement($T,{page:nt})):A});Fv.displayName="Link";var n1=q.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:s="",end:u=!1,style:h,to:d,viewTransition:g,children:y,...p},T){let D=su(d,{relative:p.relative}),b=Ar(),j=q.useContext(cc),{navigator:L,basename:X}=q.useContext(ii),Y=j!=null&&c1(D)&&g===!0,Q=L.encodeLocation?L.encodeLocation(D).pathname:D.pathname,nt=b.pathname,J=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;i||(nt=nt.toLowerCase(),J=J?J.toLowerCase():null,Q=Q.toLowerCase()),J&&X&&(J=Oi(J,X)||J);const rt=Q!=="/"&&Q.endsWith("/")?Q.length-1:Q.length;let ut=nt===Q||!u&&nt.startsWith(Q)&&nt.charAt(rt)==="/",ct=J!=null&&(J===Q||!u&&J.startsWith(Q)&&J.charAt(Q.length)==="/"),N={isActive:ut,isPending:ct,isTransitioning:Y},A=ut?e:void 0,R;typeof s=="function"?R=s(N):R=[s,ut?"active":null,ct?"pending":null,Y?"transitioning":null].filter(Boolean).join(" ");let V=typeof h=="function"?h(N):h;return q.createElement(Fv,{...p,"aria-current":A,className:R,ref:T,style:V,to:d,viewTransition:g},typeof y=="function"?y(N):y)});n1.displayName="NavLink";var i1=q.forwardRef(({discover:a="render",fetcherKey:e,navigate:i,reloadDocument:s,replace:u,state:h,method:d=Ho,action:g,onSubmit:y,relative:p,preventScrollReset:T,viewTransition:D,...b},j)=>{let L=u1(),X=o1(g,{relative:p}),Y=d.toLowerCase()==="get"?"get":"post",Q=typeof g=="string"&&Yv.test(g),nt=J=>{if(y&&y(J),J.defaultPrevented)return;J.preventDefault();let rt=J.nativeEvent.submitter,ut=rt?.getAttribute("formmethod")||d;L(rt||J.currentTarget,{fetcherKey:e,method:ut,navigate:i,replace:u,state:h,relative:p,preventScrollReset:T,viewTransition:D})};return q.createElement("form",{ref:j,method:Y,action:X,onSubmit:s?y:nt,...b,"data-discover":!Q&&a==="render"?"true":void 0})});i1.displayName="Form";function r1(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Kv(a){let e=q.useContext(Rs);return re(e,r1(a)),e}function a1(a,{target:e,replace:i,state:s,preventScrollReset:u,relative:h,viewTransition:d}={}){let g=da(),y=Ar(),p=su(a,{relative:h});return q.useCallback(T=>{if(UT(T,e)){T.preventDefault();let D=i!==void 0?i:ys(y)===ys(p);g(a,{replace:D,state:s,preventScrollReset:u,relative:h,viewTransition:d})}},[y,g,p,i,s,e,a,u,h,d])}var s1=0,l1=()=>`__${String(++s1)}__`;function u1(){let{router:a}=Kv("useSubmit"),{basename:e}=q.useContext(ii),i=wT();return q.useCallback(async(s,u={})=>{let{action:h,method:d,encType:g,formData:y,body:p}=PT(s,e);if(u.navigate===!1){let T=u.fetcherKey||l1();await a.fetch(T,i,u.action||h,{preventScrollReset:u.preventScrollReset,formData:y,body:p,formMethod:u.method||d,formEncType:u.encType||g,flushSync:u.flushSync})}else await a.navigate(u.action||h,{preventScrollReset:u.preventScrollReset,formData:y,body:p,formMethod:u.method||d,formEncType:u.encType||g,replace:u.replace,state:u.state,fromRouteId:i,flushSync:u.flushSync,viewTransition:u.viewTransition})},[a,e,i])}function o1(a,{relative:e}={}){let{basename:i}=q.useContext(ii),s=q.useContext(Mi);re(s,"useFormAction must be used inside a RouteContext");let[u]=s.matches.slice(-1),h={...su(a||".",{relative:e})},d=Ar();if(a==null){h.search=d.search;let g=new URLSearchParams(h.search),y=g.getAll("index");if(y.some(T=>T==="")){g.delete("index"),y.filter(D=>D).forEach(D=>g.append("index",D));let T=g.toString();h.search=T?`?${T}`:""}}return(!a||a===".")&&u.route.index&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(h.pathname=h.pathname==="/"?i:xi([i,h.pathname])),ys(h)}function c1(a,e={}){let i=q.useContext(zv);re(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Kv("useViewTransitionState"),u=su(a,{relative:e.relative});if(!i.isTransitioning)return!1;let h=Oi(i.currentLocation.pathname,s)||i.currentLocation.pathname,d=Oi(i.nextLocation.pathname,s)||i.nextLocation.pathname;return Jo(u.pathname,d)!=null||Jo(u.pathname,h)!=null}[...YT];var Nf={exports:{}},Ge={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var my;function h1(){if(my)return Ge;my=1;var a=md();function e(y){var p="https://react.dev/errors/"+y;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)p+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+y+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");function h(y,p,T){var D=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:D==null?null:""+D,children:y,containerInfo:p,implementation:T}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,p){if(y==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Ge.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ge.createPortal=function(y,p){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return h(y,p,null,T)},Ge.flushSync=function(y){var p=d.T,T=s.p;try{if(d.T=null,s.p=2,y)return y()}finally{d.T=p,s.p=T,s.d.f()}},Ge.preconnect=function(y,p){typeof y=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(y,p))},Ge.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},Ge.preinit=function(y,p){if(typeof y=="string"&&p&&typeof p.as=="string"){var T=p.as,D=g(T,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,j=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;T==="style"?s.d.S(y,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:D,integrity:b,fetchPriority:j}):T==="script"&&s.d.X(y,{crossOrigin:D,integrity:b,fetchPriority:j,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Ge.preinitModule=function(y,p){if(typeof y=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var T=g(p.as,p.crossOrigin);s.d.M(y,{crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(y)},Ge.preload=function(y,p){if(typeof y=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var T=p.as,D=g(T,p.crossOrigin);s.d.L(y,T,{crossOrigin:D,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Ge.preloadModule=function(y,p){if(typeof y=="string")if(p){var T=g(p.as,p.crossOrigin);s.d.m(y,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(y)},Ge.requestFormReset=function(y){s.d.r(y)},Ge.unstable_batchedUpdates=function(y,p){return y(p)},Ge.useFormState=function(y,p,T){return d.H.useFormState(y,p,T)},Ge.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ge.version="19.1.0",Ge}var gy;function f1(){if(gy)return Nf.exports;gy=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Nf.exports=h1(),Nf.exports}var xf={exports:{}},kl={},Of={exports:{}},Vf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var py;function d1(){return py||(py=1,function(a){function e(K,lt){var ft=K.length;K.push(lt);t:for(;0<ft;){var kt=ft-1>>>1,x=K[kt];if(0<u(x,lt))K[kt]=lt,K[ft]=x,ft=kt;else break t}}function i(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var lt=K[0],ft=K.pop();if(ft!==lt){K[0]=ft;t:for(var kt=0,x=K.length,et=x>>>1;kt<et;){var ot=2*(kt+1)-1,it=K[ot],pt=ot+1,Ct=K[pt];if(0>u(it,ft))pt<x&&0>u(Ct,it)?(K[kt]=Ct,K[pt]=ft,kt=pt):(K[kt]=it,K[ot]=ft,kt=ot);else if(pt<x&&0>u(Ct,ft))K[kt]=Ct,K[pt]=ft,kt=pt;else break t}}return lt}function u(K,lt){var ft=K.sortIndex-lt.sortIndex;return ft!==0?ft:K.id-lt.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;a.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();a.unstable_now=function(){return d.now()-g}}var y=[],p=[],T=1,D=null,b=3,j=!1,L=!1,X=!1,Y=!1,Q=typeof setTimeout=="function"?setTimeout:null,nt=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function rt(K){for(var lt=i(p);lt!==null;){if(lt.callback===null)s(p);else if(lt.startTime<=K)s(p),lt.sortIndex=lt.expirationTime,e(y,lt);else break;lt=i(p)}}function ut(K){if(X=!1,rt(K),!L)if(i(y)!==null)L=!0,ct||(ct=!0,M());else{var lt=i(p);lt!==null&&Pt(ut,lt.startTime-K)}}var ct=!1,N=-1,A=5,R=-1;function V(){return Y?!0:!(a.unstable_now()-R<A)}function O(){if(Y=!1,ct){var K=a.unstable_now();R=K;var lt=!0;try{t:{L=!1,X&&(X=!1,nt(N),N=-1),j=!0;var ft=b;try{e:{for(rt(K),D=i(y);D!==null&&!(D.expirationTime>K&&V());){var kt=D.callback;if(typeof kt=="function"){D.callback=null,b=D.priorityLevel;var x=kt(D.expirationTime<=K);if(K=a.unstable_now(),typeof x=="function"){D.callback=x,rt(K),lt=!0;break e}D===i(y)&&s(y),rt(K)}else s(y);D=i(y)}if(D!==null)lt=!0;else{var et=i(p);et!==null&&Pt(ut,et.startTime-K),lt=!1}}break t}finally{D=null,b=ft,j=!1}lt=void 0}}finally{lt?M():ct=!1}}}var M;if(typeof J=="function")M=function(){J(O)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,Rt=w.port2;w.port1.onmessage=O,M=function(){Rt.postMessage(null)}}else M=function(){Q(O,0)};function Pt(K,lt){N=Q(function(){K(a.unstable_now())},lt)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(K){K.callback=null},a.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<K?Math.floor(1e3/K):5},a.unstable_getCurrentPriorityLevel=function(){return b},a.unstable_next=function(K){switch(b){case 1:case 2:case 3:var lt=3;break;default:lt=b}var ft=b;b=lt;try{return K()}finally{b=ft}},a.unstable_requestPaint=function(){Y=!0},a.unstable_runWithPriority=function(K,lt){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var ft=b;b=K;try{return lt()}finally{b=ft}},a.unstable_scheduleCallback=function(K,lt,ft){var kt=a.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?kt+ft:kt):ft=kt,K){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=ft+x,K={id:T++,callback:lt,priorityLevel:K,startTime:ft,expirationTime:x,sortIndex:-1},ft>kt?(K.sortIndex=ft,e(p,K),i(y)===null&&K===i(p)&&(X?(nt(N),N=-1):X=!0,Pt(ut,ft-kt))):(K.sortIndex=x,e(y,K),L||j||(L=!0,ct||(ct=!0,M()))),K},a.unstable_shouldYield=V,a.unstable_wrapCallback=function(K){var lt=b;return function(){var ft=b;b=lt;try{return K.apply(this,arguments)}finally{b=ft}}}}(Vf)),Vf}var yy;function m1(){return yy||(yy=1,Of.exports=d1()),Of.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vy;function g1(){if(vy)return kl;vy=1;var a=m1(),e=md(),i=f1();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(h(t)!==t)throw Error(s(188))}function y(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(s(188));return n!==t?null:t}for(var r=t,l=n;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return g(c),t;if(f===l)return g(c),n;f=f.sibling}throw Error(s(188))}if(r.return!==l.return)r=c,l=f;else{for(var _=!1,E=c.child;E;){if(E===r){_=!0,r=c,l=f;break}if(E===l){_=!0,l=c,r=f;break}E=E.sibling}if(!_){for(E=f.child;E;){if(E===r){_=!0,r=f,l=c;break}if(E===l){_=!0,l=f,r=c;break}E=E.sibling}if(!_)throw Error(s(189))}}if(r.alternate!==l)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?t:n}function p(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=p(t),n!==null)return n;t=t.sibling}return null}var T=Object.assign,D=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),X=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),Q=Symbol.for("react.provider"),nt=Symbol.for("react.consumer"),J=Symbol.for("react.context"),rt=Symbol.for("react.forward_ref"),ut=Symbol.for("react.suspense"),ct=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function M(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var w=Symbol.for("react.client.reference");function Rt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===w?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case L:return"Fragment";case Y:return"Profiler";case X:return"StrictMode";case ut:return"Suspense";case ct:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case j:return"Portal";case J:return(t.displayName||"Context")+".Provider";case nt:return(t._context.displayName||"Context")+".Consumer";case rt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return n=t.displayName||null,n!==null?n:Rt(t.type)||"Memo";case A:n=t._payload,t=t._init;try{return Rt(t(n))}catch{}}return null}var Pt=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},kt=[],x=-1;function et(t){return{current:t}}function ot(t){0>x||(t.current=kt[x],kt[x]=null,x--)}function it(t,n){x++,kt[x]=t.current,t.current=n}var pt=et(null),Ct=et(null),Tt=et(null),De=et(null);function Jt(t,n){switch(it(Tt,n),it(Ct,t),it(pt,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Vp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Vp(n),t=Ip(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ot(pt),it(pt,t)}function Mn(){ot(pt),ot(Ct),ot(Tt)}function Ui(t){t.memoizedState!==null&&it(De,t);var n=pt.current,r=Ip(n,t.type);n!==r&&(it(Ct,t),it(pt,r))}function ri(t){Ct.current===t&&(ot(pt),ot(Ct)),De.current===t&&(ot(De),Il._currentValue=ft)}var br=Object.prototype.hasOwnProperty,Rr=a.unstable_scheduleCallback,wr=a.unstable_cancelCallback,xs=a.unstable_shouldYield,fu=a.unstable_requestPaint,mn=a.unstable_now,bc=a.unstable_getCurrentPriorityLevel,Os=a.unstable_ImmediatePriority,ga=a.unstable_UserBlockingPriority,Cr=a.unstable_NormalPriority,Rc=a.unstable_LowPriority,pa=a.unstable_IdlePriority,Vs=a.log,du=a.unstable_setDisableYieldValue,se=null,Gt=null;function an(t){if(typeof Vs=="function"&&du(t),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(se,t)}catch{}}var qe=Math.clz32?Math.clz32:Dr,mu=Math.log,wc=Math.LN2;function Dr(t){return t>>>=0,t===0?32:31-(mu(t)/wc|0)|0}var Nr=256,xr=4194304;function Cn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ya(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=Cn(l):(_&=E,_!==0?c=Cn(_):r||(r=E&~t,r!==0&&(c=Cn(r))))):(E=l&~f,E!==0?c=Cn(E):_!==0?c=Cn(_):r||(r=l&~t,r!==0&&(c=Cn(r)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:c}function Or(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Is(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ms(){var t=Nr;return Nr<<=1,(Nr&4194048)===0&&(Nr=256),t}function Us(){var t=xr;return xr<<=1,(xr&62914560)===0&&(xr=4194304),t}function ai(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function si(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ls(t,n,r,l,c,f){var _=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,C=t.expirationTimes,B=t.hiddenUpdates;for(r=_&~r;0<r;){var $=31-qe(r),W=1<<$;E[$]=0,C[$]=-1;var k=B[$];if(k!==null)for(B[$]=null,$=0;$<k.length;$++){var H=k[$];H!==null&&(H.lane&=-536870913)}r&=~W}l!==0&&Un(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(_&~n))}function Un(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-qe(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194090}function zs(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-qe(r),c=1<<l;c&n|t[l]&n&&(t[l]|=n),r&=~c}}function Li(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function va(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function zi(){var t=lt.p;return t!==0?t:(t=window.event,t===void 0?32:Jp(t.type))}function gu(t,n){var r=lt.p;try{return lt.p=t,n()}finally{lt.p=r}}var te=Math.random().toString(36).slice(2),Te="__reactFiber$"+te,me="__reactProps$"+te,gn="__reactContainer$"+te,Ps="__reactEvents$"+te,Cc="__reactListeners$"+te,Pi="__reactHandles$"+te,pu="__reactResources$"+te,Vr="__reactMarker$"+te;function Bi(t){delete t[Te],delete t[me],delete t[Ps],delete t[Cc],delete t[Pi]}function li(t){var n=t[Te];if(n)return n;for(var r=t.parentNode;r;){if(n=r[gn]||r[Te]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=zp(t);t!==null;){if(r=t[Te])return r;t=zp(t)}return n}t=r,r=t.parentNode}return null}function Ln(t){if(t=t[Te]||t[gn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function zn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function Ke(t){var n=t[pu];return n||(n=t[pu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function oe(t){t[Vr]=!0}var Bs=new Set,_a={};function Dn(t,n){ui(t,n),ui(t+"Capture",n)}function ui(t,n){for(_a[t]=n,t=0;t<n.length;t++)Bs.add(n[t])}var yu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vu={},Ir={};function _u(t){return br.call(Ir,t)?!0:br.call(vu,t)?!1:yu.test(t)?Ir[t]=!0:(vu[t]=!0,!1)}function ji(t,n,r){if(_u(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Pn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Ue(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}var Mr,Eu;function oi(t){if(Mr===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Mr=n&&n[1]||"",Eu=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Mr+t+Eu}var Ea=!1;function Ta(t,n){if(!t||Ea)return"";Ea=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(H){var k=H}Reflect.construct(t,[],W)}else{try{W.call()}catch(H){k=H}t.call(W.prototype)}}else{try{throw Error()}catch(H){k=H}(W=t())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(H){if(H&&k&&typeof H.stack=="string")return[H.stack,k.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),_=f[0],E=f[1];if(_&&E){var C=_.split(`
`),B=E.split(`
`);for(c=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;c<B.length&&!B[c].includes("DetermineComponentFrameRoot");)c++;if(l===C.length||c===B.length)for(l=C.length-1,c=B.length-1;1<=l&&0<=c&&C[l]!==B[c];)c--;for(;1<=l&&0<=c;l--,c--)if(C[l]!==B[c]){if(l!==1||c!==1)do if(l--,c--,0>c||C[l]!==B[c]){var $=`
`+C[l].replace(" at new "," at ");return t.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",t.displayName)),$}while(1<=l&&0<=c);break}}}finally{Ea=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?oi(r):""}function js(t){switch(t.tag){case 26:case 27:case 5:return oi(t.type);case 16:return oi("Lazy");case 13:return oi("Suspense");case 19:return oi("SuspenseList");case 0:case 15:return Ta(t.type,!1);case 11:return Ta(t.type.render,!1);case 1:return Ta(t.type,!0);case 31:return oi("Activity");default:return""}}function Sa(t){try{var n="";do n+=js(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function Xe(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ks(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Dc(t){var n=ks(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,f=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(_){l=""+_,f.call(this,_)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Aa(t){t._valueTracker||(t._valueTracker=Dc(t))}function qs(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=ks(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function Ur(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Nc=/[\n"\\]/g;function ge(t){return t.replace(Nc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function sn(t,n,r,l,c,f,_,E){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),n!=null?_==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Xe(n)):t.value!==""+Xe(n)&&(t.value=""+Xe(n)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),n!=null?ki(t,_,Xe(n)):r!=null?ki(t,_,Xe(r)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Xe(E):t.removeAttribute("name")}function Lr(t,n,r,l,c,f,_,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+Xe(r):"",n=n!=null?""+Xe(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_)}function ki(t,n,r){n==="number"&&Ur(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function ci(t,n,r,l){if(t=t.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=n.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Xe(r),n=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Ft(t,n,r){if(n!=null&&(n=""+Xe(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Xe(r):""}function zr(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(s(92));if(Pt(l)){if(1<l.length)throw Error(s(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Xe(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function pn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var Pr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Tu(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||Pr.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Hs(t,n,r){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&Tu(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&Tu(t,f,n[f])}function Gs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Oc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ba(t){return Oc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var hi=null;function yn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var fi=null,di=null;function Qs(t){var n=Ln(t);if(n&&(t=n.stateNode)){var r=t[me]||null;t:switch(t=n.stateNode,n.type){case"input":if(sn(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+ge(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var c=l[me]||null;if(!c)throw Error(s(90));sn(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&qs(l)}break t;case"textarea":Ft(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&ci(t,!!r.multiple,n,!1)}}}var Bn=!1;function Su(t,n,r){if(Bn)return t(n,r);Bn=!0;try{var l=t(n);return l}finally{if(Bn=!1,(fi!==null||di!==null)&&(po(),fi&&(n=fi,t=di,di=fi=null,Qs(n),t)))for(n=0;n<t.length;n++)Qs(t[n])}}function Br(t,n){var r=t.stateNode;if(r===null)return null;var l=r[me]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(s(231,n,typeof r));return r}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vn=!1;if(Nn)try{var jr={};Object.defineProperty(jr,"passive",{get:function(){vn=!0}}),window.addEventListener("test",jr,jr),window.removeEventListener("test",jr,jr)}catch{vn=!1}var jn=null,qi=null,mi=null;function Ys(){if(mi)return mi;var t,n=qi,r=n.length,l,c="value"in jn?jn.value:jn.textContent,f=c.length;for(t=0;t<r&&n[t]===c[t];t++);var _=r-t;for(l=1;l<=_&&n[r-l]===c[f-l];l++);return mi=c.slice(t,1<l?1-l:void 0)}function kn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function qn(){return!0}function Fs(){return!1}function Ne(t){function n(r,l,c,f,_){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?qn:Fs,this.isPropagationStopped=Fs,this}return T(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=qn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=qn)},persist:function(){},isPersistent:qn}),n}var Ht={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ra=Ne(Ht),kr=T({},Ht,{view:0,detail:0}),Au=Ne(kr),wa,Ca,Hn,qr=T({},kr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Hn&&(Hn&&t.type==="mousemove"?(wa=t.screenX-Hn.screenX,Ca=t.screenY-Hn.screenY):Ca=wa=0,Hn=t),wa)},movementY:function(t){return"movementY"in t?t.movementY:Ca}}),_n=Ne(qr),bu=T({},qr,{dataTransfer:0}),Vc=Ne(bu),Hr=T({},kr,{relatedTarget:0}),Da=Ne(Hr),Ks=T({},Ht,{animationName:0,elapsedTime:0,pseudoElement:0}),Na=Ne(Ks),Ru=T({},Ht,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),xa=Ne(Ru),Ic=T({},Ht,{data:0}),Xs=Ne(Ic),Gr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $s(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Cu[t])?!!n[t]:!1}function Qr(){return $s}var Du=T({},kr,{key:function(t){if(t.key){var n=Gr[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=kn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?wu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qr,charCode:function(t){return t.type==="keypress"?kn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?kn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Oa=Ne(Du),Nu=T({},qr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zs=Ne(Nu),gi=T({},kr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qr}),xu=Ne(gi),Ou=T({},Ht,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vu=Ne(Ou),Iu=T({},qr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Va=Ne(Iu),$e=T({},Ht,{newState:0,oldState:0}),Mu=Ne($e),Uu=[9,13,27,32],Gn=Nn&&"CompositionEvent"in window,o=null;Nn&&"documentMode"in document&&(o=document.documentMode);var m=Nn&&"TextEvent"in window&&!o,v=Nn&&(!Gn||o&&8<o&&11>=o),S=" ",z=!1;function F(t,n){switch(t){case"keyup":return Uu.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function at(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Vt=!1;function Se(t,n){switch(t){case"compositionend":return at(n);case"keypress":return n.which!==32?null:(z=!0,S);case"textInput":return t=n.data,t===S&&z?null:t;default:return null}}function It(t,n){if(Vt)return t==="compositionend"||!Gn&&F(t,n)?(t=Ys(),mi=qi=jn=null,Vt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return v&&n.locale!=="ko"?null:n.data;default:return null}}var xe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ae(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!xe[t.type]:n==="textarea"}function pi(t,n,r,l){fi?di?di.push(l):di=[l]:fi=l,n=So(n,"onChange"),0<n.length&&(r=new Ra("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Le=null,Qn=null;function Js(t){Cp(t,0)}function Lu(t){var n=zn(t);if(qs(n))return t}function Kd(t,n){if(t==="change")return n}var Xd=!1;if(Nn){var Mc;if(Nn){var Uc="oninput"in document;if(!Uc){var $d=document.createElement("div");$d.setAttribute("oninput","return;"),Uc=typeof $d.oninput=="function"}Mc=Uc}else Mc=!1;Xd=Mc&&(!document.documentMode||9<document.documentMode)}function Zd(){Le&&(Le.detachEvent("onpropertychange",Jd),Qn=Le=null)}function Jd(t){if(t.propertyName==="value"&&Lu(Qn)){var n=[];pi(n,Qn,t,yn(t)),Su(Js,n)}}function d0(t,n,r){t==="focusin"?(Zd(),Le=n,Qn=r,Le.attachEvent("onpropertychange",Jd)):t==="focusout"&&Zd()}function m0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Lu(Qn)}function g0(t,n){if(t==="click")return Lu(n)}function p0(t,n){if(t==="input"||t==="change")return Lu(n)}function y0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var ln=typeof Object.is=="function"?Object.is:y0;function Ws(t,n){if(ln(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!br.call(n,c)||!ln(t[c],n[c]))return!1}return!0}function Wd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function tm(t,n){var r=Wd(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=Wd(r)}}function em(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?em(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function nm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ur(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Ur(t.document)}return n}function Lc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var v0=Nn&&"documentMode"in document&&11>=document.documentMode,Ia=null,zc=null,tl=null,Pc=!1;function im(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Pc||Ia==null||Ia!==Ur(l)||(l=Ia,"selectionStart"in l&&Lc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),tl&&Ws(tl,l)||(tl=l,l=So(zc,"onSelect"),0<l.length&&(n=new Ra("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=Ia)))}function Yr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Ma={animationend:Yr("Animation","AnimationEnd"),animationiteration:Yr("Animation","AnimationIteration"),animationstart:Yr("Animation","AnimationStart"),transitionrun:Yr("Transition","TransitionRun"),transitionstart:Yr("Transition","TransitionStart"),transitioncancel:Yr("Transition","TransitionCancel"),transitionend:Yr("Transition","TransitionEnd")},Bc={},rm={};Nn&&(rm=document.createElement("div").style,"AnimationEvent"in window||(delete Ma.animationend.animation,delete Ma.animationiteration.animation,delete Ma.animationstart.animation),"TransitionEvent"in window||delete Ma.transitionend.transition);function Fr(t){if(Bc[t])return Bc[t];if(!Ma[t])return t;var n=Ma[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in rm)return Bc[t]=n[r];return t}var am=Fr("animationend"),sm=Fr("animationiteration"),lm=Fr("animationstart"),_0=Fr("transitionrun"),E0=Fr("transitionstart"),T0=Fr("transitioncancel"),um=Fr("transitionend"),om=new Map,jc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");jc.push("scrollEnd");function xn(t,n){om.set(t,n),Dn(n,[t])}var cm=new WeakMap;function En(t,n){if(typeof t=="object"&&t!==null){var r=cm.get(t);return r!==void 0?r:(n={value:t,source:n,stack:Sa(n)},cm.set(t,n),n)}return{value:t,source:n,stack:Sa(n)}}var Tn=[],Ua=0,kc=0;function zu(){for(var t=Ua,n=kc=Ua=0;n<t;){var r=Tn[n];Tn[n++]=null;var l=Tn[n];Tn[n++]=null;var c=Tn[n];Tn[n++]=null;var f=Tn[n];if(Tn[n++]=null,l!==null&&c!==null){var _=l.pending;_===null?c.next=c:(c.next=_.next,_.next=c),l.pending=c}f!==0&&hm(r,c,f)}}function Pu(t,n,r,l){Tn[Ua++]=t,Tn[Ua++]=n,Tn[Ua++]=r,Tn[Ua++]=l,kc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function qc(t,n,r,l){return Pu(t,n,r,l),Bu(t)}function La(t,n){return Pu(t,null,null,n),Bu(t)}function hm(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var c=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-qe(r),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=r|536870912),f):null}function Bu(t){if(50<Rl)throw Rl=0,Kh=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var za={};function S0(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function un(t,n,r,l){return new S0(t,n,r,l)}function Hc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function yi(t,n){var r=t.alternate;return r===null?(r=un(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function fm(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function ju(t,n,r,l,c,f){var _=0;if(l=t,typeof t=="function")Hc(t)&&(_=1);else if(typeof t=="string")_=bE(t,r,pt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case R:return t=un(31,r,n,c),t.elementType=R,t.lanes=f,t;case L:return Kr(r.children,c,f,n);case X:_=8,c|=24;break;case Y:return t=un(12,r,n,c|2),t.elementType=Y,t.lanes=f,t;case ut:return t=un(13,r,n,c),t.elementType=ut,t.lanes=f,t;case ct:return t=un(19,r,n,c),t.elementType=ct,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Q:case J:_=10;break t;case nt:_=9;break t;case rt:_=11;break t;case N:_=14;break t;case A:_=16,l=null;break t}_=29,r=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=un(_,r,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function Kr(t,n,r,l){return t=un(7,t,l,n),t.lanes=r,t}function Gc(t,n,r){return t=un(6,t,null,n),t.lanes=r,t}function Qc(t,n,r){return n=un(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Pa=[],Ba=0,ku=null,qu=0,Sn=[],An=0,Xr=null,vi=1,_i="";function $r(t,n){Pa[Ba++]=qu,Pa[Ba++]=ku,ku=t,qu=n}function dm(t,n,r){Sn[An++]=vi,Sn[An++]=_i,Sn[An++]=Xr,Xr=t;var l=vi;t=_i;var c=32-qe(l)-1;l&=~(1<<c),r+=1;var f=32-qe(n)+c;if(30<f){var _=c-c%5;f=(l&(1<<_)-1).toString(32),l>>=_,c-=_,vi=1<<32-qe(n)+c|r<<c|l,_i=f+t}else vi=1<<f|r<<c|l,_i=t}function Yc(t){t.return!==null&&($r(t,1),dm(t,1,0))}function Fc(t){for(;t===ku;)ku=Pa[--Ba],Pa[Ba]=null,qu=Pa[--Ba],Pa[Ba]=null;for(;t===Xr;)Xr=Sn[--An],Sn[An]=null,_i=Sn[--An],Sn[An]=null,vi=Sn[--An],Sn[An]=null}var Ze=null,le=null,qt=!1,Zr=null,Yn=!1,Kc=Error(s(519));function Jr(t){var n=Error(s(418,""));throw il(En(n,t)),Kc}function mm(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[Te]=t,n[me]=l,r){case"dialog":xt("cancel",n),xt("close",n);break;case"iframe":case"object":case"embed":xt("load",n);break;case"video":case"audio":for(r=0;r<Cl.length;r++)xt(Cl[r],n);break;case"source":xt("error",n);break;case"img":case"image":case"link":xt("error",n),xt("load",n);break;case"details":xt("toggle",n);break;case"input":xt("invalid",n),Lr(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Aa(n);break;case"select":xt("invalid",n);break;case"textarea":xt("invalid",n),zr(n,l.value,l.defaultValue,l.children),Aa(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||Op(n.textContent,r)?(l.popover!=null&&(xt("beforetoggle",n),xt("toggle",n)),l.onScroll!=null&&xt("scroll",n),l.onScrollEnd!=null&&xt("scrollend",n),l.onClick!=null&&(n.onclick=Ao),n=!0):n=!1,n||Jr(t)}function gm(t){for(Ze=t.return;Ze;)switch(Ze.tag){case 5:case 13:Yn=!1;return;case 27:case 3:Yn=!0;return;default:Ze=Ze.return}}function el(t){if(t!==Ze)return!1;if(!qt)return gm(t),qt=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||hf(t.type,t.memoizedProps)),r=!r),r&&le&&Jr(t),gm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){le=Vn(t.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}le=null}}else n===27?(n=le,rr(t.type)?(t=gf,gf=null,le=t):le=n):le=Ze?Vn(t.stateNode.nextSibling):null;return!0}function nl(){le=Ze=null,qt=!1}function pm(){var t=Zr;return t!==null&&(nn===null?nn=t:nn.push.apply(nn,t),Zr=null),t}function il(t){Zr===null?Zr=[t]:Zr.push(t)}var Xc=et(null),Wr=null,Ei=null;function Hi(t,n,r){it(Xc,n._currentValue),n._currentValue=r}function Ti(t){t._currentValue=Xc.current,ot(Xc)}function $c(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function Zc(t,n,r,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var _=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var C=0;C<n.length;C++)if(E.context===n[C]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),$c(f.return,r,t),l||(_=null);break t}f=E.next}}else if(c.tag===18){if(_=c.return,_===null)throw Error(s(341));_.lanes|=r,f=_.alternate,f!==null&&(f.lanes|=r),$c(_,r,t),_=null}else _=c.child;if(_!==null)_.return=c;else for(_=c;_!==null;){if(_===t){_=null;break}if(c=_.sibling,c!==null){c.return=_.return,_=c;break}_=_.return}c=_}}function rl(t,n,r,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var _=c.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var E=c.type;ln(c.pendingProps.value,_.value)||(t!==null?t.push(E):t=[E])}}else if(c===De.current){if(_=c.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Il):t=[Il])}c=c.return}t!==null&&Zc(n,t,r,l),n.flags|=262144}function Hu(t){for(t=t.firstContext;t!==null;){if(!ln(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ta(t){Wr=t,Ei=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function He(t){return ym(Wr,t)}function Gu(t,n){return Wr===null&&ta(t),ym(t,n)}function ym(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Ei===null){if(t===null)throw Error(s(308));Ei=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ei=Ei.next=n;return r}var A0=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},b0=a.unstable_scheduleCallback,R0=a.unstable_NormalPriority,be={$$typeof:J,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Jc(){return{controller:new A0,data:new Map,refCount:0}}function al(t){t.refCount--,t.refCount===0&&b0(R0,function(){t.controller.abort()})}var sl=null,Wc=0,ja=0,ka=null;function w0(t,n){if(sl===null){var r=sl=[];Wc=0,ja=ef(),ka={status:"pending",value:void 0,then:function(l){r.push(l)}}}return Wc++,n.then(vm,vm),n}function vm(){if(--Wc===0&&sl!==null){ka!==null&&(ka.status="fulfilled");var t=sl;sl=null,ja=0,ka=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function C0(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var _m=K.S;K.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&w0(t,n),_m!==null&&_m(t,n)};var ea=et(null);function th(){var t=ea.current;return t!==null?t:Wt.pooledCache}function Qu(t,n){n===null?it(ea,ea.current):it(ea,n.pool)}function Em(){var t=th();return t===null?null:{parent:be._currentValue,pool:t}}var ll=Error(s(460)),Tm=Error(s(474)),Yu=Error(s(542)),eh={then:function(){}};function Sm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Fu(){}function Am(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Fu,Fu),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Rm(t),t;default:if(typeof n.status=="string")n.then(Fu,Fu);else{if(t=Wt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Rm(t),t}throw ul=n,ll}}var ul=null;function bm(){if(ul===null)throw Error(s(459));var t=ul;return ul=null,t}function Rm(t){if(t===ll||t===Yu)throw Error(s(483))}var Gi=!1;function nh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ih(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Qi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Yi(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Qt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Bu(t),hm(t,null,r),n}return Pu(t,l,n,r),Bu(t)}function ol(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,zs(t,r)}}function rh(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var _={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=_:f=f.next=_,r=r.next}while(r!==null);f===null?c=f=n:f=f.next=n}else c=f=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var ah=!1;function cl(){if(ah){var t=ka;if(t!==null)throw t}}function hl(t,n,r,l){ah=!1;var c=t.updateQueue;Gi=!1;var f=c.firstBaseUpdate,_=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var C=E,B=C.next;C.next=null,_===null?f=B:_.next=B,_=C;var $=t.alternate;$!==null&&($=$.updateQueue,E=$.lastBaseUpdate,E!==_&&(E===null?$.firstBaseUpdate=B:E.next=B,$.lastBaseUpdate=C))}if(f!==null){var W=c.baseState;_=0,$=B=C=null,E=f;do{var k=E.lane&-536870913,H=k!==E.lane;if(H?(Mt&k)===k:(l&k)===k){k!==0&&k===ja&&(ah=!0),$!==null&&($=$.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var Et=t,yt=E;k=n;var $t=r;switch(yt.tag){case 1:if(Et=yt.payload,typeof Et=="function"){W=Et.call($t,W,k);break t}W=Et;break t;case 3:Et.flags=Et.flags&-65537|128;case 0:if(Et=yt.payload,k=typeof Et=="function"?Et.call($t,W,k):Et,k==null)break t;W=T({},W,k);break t;case 2:Gi=!0}}k=E.callback,k!==null&&(t.flags|=64,H&&(t.flags|=8192),H=c.callbacks,H===null?c.callbacks=[k]:H.push(k))}else H={lane:k,tag:E.tag,payload:E.payload,callback:E.callback,next:null},$===null?(B=$=H,C=W):$=$.next=H,_|=k;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;H=E,E=H.next,H.next=null,c.lastBaseUpdate=H,c.shared.pending=null}}while(!0);$===null&&(C=W),c.baseState=C,c.firstBaseUpdate=B,c.lastBaseUpdate=$,f===null&&(c.shared.lanes=0),tr|=_,t.lanes=_,t.memoizedState=W}}function wm(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function Cm(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)wm(r[t],n)}var qa=et(null),Ku=et(0);function Dm(t,n){t=Di,it(Ku,t),it(qa,n),Di=t|n.baseLanes}function sh(){it(Ku,Di),it(qa,qa.current)}function lh(){Di=Ku.current,ot(qa),ot(Ku)}var Fi=0,wt=null,Kt=null,pe=null,Xu=!1,Ha=!1,na=!1,$u=0,fl=0,Ga=null,D0=0;function ce(){throw Error(s(321))}function uh(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!ln(t[r],n[r]))return!1;return!0}function oh(t,n,r,l,c,f){return Fi=f,wt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,K.H=t===null||t.memoizedState===null?hg:fg,na=!1,f=r(l,c),na=!1,Ha&&(f=xm(n,r,l,c)),Nm(t),f}function Nm(t){K.H=no;var n=Kt!==null&&Kt.next!==null;if(Fi=0,pe=Kt=wt=null,Xu=!1,fl=0,Ga=null,n)throw Error(s(300));t===null||Oe||(t=t.dependencies,t!==null&&Hu(t)&&(Oe=!0))}function xm(t,n,r,l){wt=t;var c=0;do{if(Ha&&(Ga=null),fl=0,Ha=!1,25<=c)throw Error(s(301));if(c+=1,pe=Kt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}K.H=U0,f=n(r,l)}while(Ha);return f}function N0(){var t=K.H,n=t.useState()[0];return n=typeof n.then=="function"?dl(n):n,t=t.useState()[0],(Kt!==null?Kt.memoizedState:null)!==t&&(wt.flags|=1024),n}function ch(){var t=$u!==0;return $u=0,t}function hh(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function fh(t){if(Xu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Xu=!1}Fi=0,pe=Kt=wt=null,Ha=!1,fl=$u=0,Ga=null}function tn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pe===null?wt.memoizedState=pe=t:pe=pe.next=t,pe}function ye(){if(Kt===null){var t=wt.alternate;t=t!==null?t.memoizedState:null}else t=Kt.next;var n=pe===null?wt.memoizedState:pe.next;if(n!==null)pe=n,Kt=t;else{if(t===null)throw wt.alternate===null?Error(s(467)):Error(s(310));Kt=t,t={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},pe===null?wt.memoizedState=pe=t:pe=pe.next=t}return pe}function dh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function dl(t){var n=fl;return fl+=1,Ga===null&&(Ga=[]),t=Am(Ga,t,n),n=wt,(pe===null?n.memoizedState:pe.next)===null&&(n=n.alternate,K.H=n===null||n.memoizedState===null?hg:fg),t}function Zu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return dl(t);if(t.$$typeof===J)return He(t)}throw Error(s(438,String(t)))}function mh(t){var n=null,r=wt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=wt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=dh(),wt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=V;return n.index++,r}function Si(t,n){return typeof n=="function"?n(t):n}function Ju(t){var n=ye();return gh(n,Kt,t)}function gh(t,n,r){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var _=c.next;c.next=f.next,f.next=_}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=_=null,C=null,B=n,$=!1;do{var W=B.lane&-536870913;if(W!==B.lane?(Mt&W)===W:(Fi&W)===W){var k=B.revertLane;if(k===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),W===ja&&($=!0);else if((Fi&k)===k){B=B.next,k===ja&&($=!0);continue}else W={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},C===null?(E=C=W,_=f):C=C.next=W,wt.lanes|=k,tr|=k;W=B.action,na&&r(f,W),f=B.hasEagerState?B.eagerState:r(f,W)}else k={lane:W,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},C===null?(E=C=k,_=f):C=C.next=k,wt.lanes|=W,tr|=W;B=B.next}while(B!==null&&B!==n);if(C===null?_=f:C.next=E,!ln(f,t.memoizedState)&&(Oe=!0,$&&(r=ka,r!==null)))throw r;t.memoizedState=f,t.baseState=_,t.baseQueue=C,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function ph(t){var n=ye(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=t;var l=r.dispatch,c=r.pending,f=n.memoizedState;if(c!==null){r.pending=null;var _=c=c.next;do f=t(f,_.action),_=_.next;while(_!==c);ln(f,n.memoizedState)||(Oe=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function Om(t,n,r){var l=wt,c=ye(),f=qt;if(f){if(r===void 0)throw Error(s(407));r=r()}else r=n();var _=!ln((Kt||c).memoizedState,r);_&&(c.memoizedState=r,Oe=!0),c=c.queue;var E=Mm.bind(null,l,c,t);if(ml(2048,8,E,[t]),c.getSnapshot!==n||_||pe!==null&&pe.memoizedState.tag&1){if(l.flags|=2048,Qa(9,Wu(),Im.bind(null,l,c,r,n),null),Wt===null)throw Error(s(349));f||(Fi&124)!==0||Vm(l,n,r)}return r}function Vm(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=wt.updateQueue,n===null?(n=dh(),wt.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function Im(t,n,r,l){n.value=r,n.getSnapshot=l,Um(n)&&Lm(t)}function Mm(t,n,r){return r(function(){Um(n)&&Lm(t)})}function Um(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!ln(t,r)}catch{return!0}}function Lm(t){var n=La(t,2);n!==null&&dn(n,t,2)}function yh(t){var n=tn();if(typeof t=="function"){var r=t;if(t=r(),na){an(!0);try{r()}finally{an(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:t},n}function zm(t,n,r,l){return t.baseState=r,gh(t,Kt,typeof l=="function"?l:Si)}function x0(t,n,r,l,c){if(eo(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){f.listeners.push(_)}};K.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,Pm(n,f)):(f.next=r.next,n.pending=r.next=f)}}function Pm(t,n){var r=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=K.T,_={};K.T=_;try{var E=r(c,l),C=K.S;C!==null&&C(_,E),Bm(t,n,E)}catch(B){vh(t,n,B)}finally{K.T=f}}else try{f=r(c,l),Bm(t,n,f)}catch(B){vh(t,n,B)}}function Bm(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){jm(t,n,l)},function(l){return vh(t,n,l)}):jm(t,n,r)}function jm(t,n,r){n.status="fulfilled",n.value=r,km(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,Pm(t,r)))}function vh(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,km(n),n=n.next;while(n!==l)}t.action=null}function km(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function qm(t,n){return n}function Hm(t,n){if(qt){var r=Wt.formState;if(r!==null){t:{var l=wt;if(qt){if(le){e:{for(var c=le,f=Yn;c.nodeType!==8;){if(!f){c=null;break e}if(c=Vn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){le=Vn(c.nextSibling),l=c.data==="F!";break t}}Jr(l)}l=!1}l&&(n=r[0])}}return r=tn(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qm,lastRenderedState:n},r.queue=l,r=ug.bind(null,wt,l),l.dispatch=r,l=yh(!1),f=Ah.bind(null,wt,!1,l.queue),l=tn(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,r=x0.bind(null,wt,c,f,r),c.dispatch=r,l.memoizedState=t,[n,r,!1]}function Gm(t){var n=ye();return Qm(n,Kt,t)}function Qm(t,n,r){if(n=gh(t,n,qm)[0],t=Ju(Si)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=dl(n)}catch(_){throw _===ll?Yu:_}else l=n;n=ye();var c=n.queue,f=c.dispatch;return r!==n.memoizedState&&(wt.flags|=2048,Qa(9,Wu(),O0.bind(null,c,r),null)),[l,f,t]}function O0(t,n){t.action=n}function Ym(t){var n=ye(),r=Kt;if(r!==null)return Qm(n,r,t);ye(),n=n.memoizedState,r=ye();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Qa(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=wt.updateQueue,n===null&&(n=dh(),wt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function Wu(){return{destroy:void 0,resource:void 0}}function Fm(){return ye().memoizedState}function to(t,n,r,l){var c=tn();l=l===void 0?null:l,wt.flags|=t,c.memoizedState=Qa(1|n,Wu(),r,l)}function ml(t,n,r,l){var c=ye();l=l===void 0?null:l;var f=c.memoizedState.inst;Kt!==null&&l!==null&&uh(l,Kt.memoizedState.deps)?c.memoizedState=Qa(n,f,r,l):(wt.flags|=t,c.memoizedState=Qa(1|n,f,r,l))}function Km(t,n){to(8390656,8,t,n)}function Xm(t,n){ml(2048,8,t,n)}function $m(t,n){return ml(4,2,t,n)}function Zm(t,n){return ml(4,4,t,n)}function Jm(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Wm(t,n,r){r=r!=null?r.concat([t]):null,ml(4,4,Jm.bind(null,n,t),r)}function _h(){}function tg(t,n){var r=ye();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&uh(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function eg(t,n){var r=ye();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&uh(n,l[1]))return l[0];if(l=t(),na){an(!0);try{t()}finally{an(!1)}}return r.memoizedState=[l,n],l}function Eh(t,n,r){return r===void 0||(Fi&1073741824)!==0?t.memoizedState=n:(t.memoizedState=r,t=rp(),wt.lanes|=t,tr|=t,r)}function ng(t,n,r,l){return ln(r,n)?r:qa.current!==null?(t=Eh(t,r,l),ln(t,n)||(Oe=!0),t):(Fi&42)===0?(Oe=!0,t.memoizedState=r):(t=rp(),wt.lanes|=t,tr|=t,n)}function ig(t,n,r,l,c){var f=lt.p;lt.p=f!==0&&8>f?f:8;var _=K.T,E={};K.T=E,Ah(t,!1,n,r);try{var C=c(),B=K.S;if(B!==null&&B(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var $=C0(C,l);gl(t,n,$,fn(t))}else gl(t,n,l,fn(t))}catch(W){gl(t,n,{then:function(){},status:"rejected",reason:W},fn())}finally{lt.p=f,K.T=_}}function V0(){}function Th(t,n,r,l){if(t.tag!==5)throw Error(s(476));var c=rg(t).queue;ig(t,c,n,ft,r===null?V0:function(){return ag(t),r(l)})}function rg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:ft},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function ag(t){var n=rg(t).next.queue;gl(t,n,{},fn())}function Sh(){return He(Il)}function sg(){return ye().memoizedState}function lg(){return ye().memoizedState}function I0(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=fn();t=Qi(r);var l=Yi(n,t,r);l!==null&&(dn(l,n,r),ol(l,n,r)),n={cache:Jc()},t.payload=n;return}n=n.return}}function M0(t,n,r){var l=fn();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},eo(t)?og(n,r):(r=qc(t,n,r,l),r!==null&&(dn(r,t,l),cg(r,n,l)))}function ug(t,n,r){var l=fn();gl(t,n,r,l)}function gl(t,n,r,l){var c={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(eo(t))og(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var _=n.lastRenderedState,E=f(_,r);if(c.hasEagerState=!0,c.eagerState=E,ln(E,_))return Pu(t,n,c,0),Wt===null&&zu(),!1}catch{}finally{}if(r=qc(t,n,c,l),r!==null)return dn(r,t,l),cg(r,n,l),!0}return!1}function Ah(t,n,r,l){if(l={lane:2,revertLane:ef(),action:l,hasEagerState:!1,eagerState:null,next:null},eo(t)){if(n)throw Error(s(479))}else n=qc(t,r,l,2),n!==null&&dn(n,t,2)}function eo(t){var n=t.alternate;return t===wt||n!==null&&n===wt}function og(t,n){Ha=Xu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function cg(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,zs(t,r)}}var no={readContext:He,use:Zu,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useLayoutEffect:ce,useInsertionEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useSyncExternalStore:ce,useId:ce,useHostTransitionStatus:ce,useFormState:ce,useActionState:ce,useOptimistic:ce,useMemoCache:ce,useCacheRefresh:ce},hg={readContext:He,use:Zu,useCallback:function(t,n){return tn().memoizedState=[t,n===void 0?null:n],t},useContext:He,useEffect:Km,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,to(4194308,4,Jm.bind(null,n,t),r)},useLayoutEffect:function(t,n){return to(4194308,4,t,n)},useInsertionEffect:function(t,n){to(4,2,t,n)},useMemo:function(t,n){var r=tn();n=n===void 0?null:n;var l=t();if(na){an(!0);try{t()}finally{an(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=tn();if(r!==void 0){var c=r(n);if(na){an(!0);try{r(n)}finally{an(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=M0.bind(null,wt,t),[l.memoizedState,t]},useRef:function(t){var n=tn();return t={current:t},n.memoizedState=t},useState:function(t){t=yh(t);var n=t.queue,r=ug.bind(null,wt,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:_h,useDeferredValue:function(t,n){var r=tn();return Eh(r,t,n)},useTransition:function(){var t=yh(!1);return t=ig.bind(null,wt,t.queue,!0,!1),tn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=wt,c=tn();if(qt){if(r===void 0)throw Error(s(407));r=r()}else{if(r=n(),Wt===null)throw Error(s(349));(Mt&124)!==0||Vm(l,n,r)}c.memoizedState=r;var f={value:r,getSnapshot:n};return c.queue=f,Km(Mm.bind(null,l,f,t),[t]),l.flags|=2048,Qa(9,Wu(),Im.bind(null,l,f,r,n),null),r},useId:function(){var t=tn(),n=Wt.identifierPrefix;if(qt){var r=_i,l=vi;r=(l&~(1<<32-qe(l)-1)).toString(32)+r,n="Â«"+n+"R"+r,r=$u++,0<r&&(n+="H"+r.toString(32)),n+="Â»"}else r=D0++,n="Â«"+n+"r"+r.toString(32)+"Â»";return t.memoizedState=n},useHostTransitionStatus:Sh,useFormState:Hm,useActionState:Hm,useOptimistic:function(t){var n=tn();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Ah.bind(null,wt,!0,r),r.dispatch=n,[t,n]},useMemoCache:mh,useCacheRefresh:function(){return tn().memoizedState=I0.bind(null,wt)}},fg={readContext:He,use:Zu,useCallback:tg,useContext:He,useEffect:Xm,useImperativeHandle:Wm,useInsertionEffect:$m,useLayoutEffect:Zm,useMemo:eg,useReducer:Ju,useRef:Fm,useState:function(){return Ju(Si)},useDebugValue:_h,useDeferredValue:function(t,n){var r=ye();return ng(r,Kt.memoizedState,t,n)},useTransition:function(){var t=Ju(Si)[0],n=ye().memoizedState;return[typeof t=="boolean"?t:dl(t),n]},useSyncExternalStore:Om,useId:sg,useHostTransitionStatus:Sh,useFormState:Gm,useActionState:Gm,useOptimistic:function(t,n){var r=ye();return zm(r,Kt,t,n)},useMemoCache:mh,useCacheRefresh:lg},U0={readContext:He,use:Zu,useCallback:tg,useContext:He,useEffect:Xm,useImperativeHandle:Wm,useInsertionEffect:$m,useLayoutEffect:Zm,useMemo:eg,useReducer:ph,useRef:Fm,useState:function(){return ph(Si)},useDebugValue:_h,useDeferredValue:function(t,n){var r=ye();return Kt===null?Eh(r,t,n):ng(r,Kt.memoizedState,t,n)},useTransition:function(){var t=ph(Si)[0],n=ye().memoizedState;return[typeof t=="boolean"?t:dl(t),n]},useSyncExternalStore:Om,useId:sg,useHostTransitionStatus:Sh,useFormState:Ym,useActionState:Ym,useOptimistic:function(t,n){var r=ye();return Kt!==null?zm(r,Kt,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:mh,useCacheRefresh:lg},Ya=null,pl=0;function io(t){var n=pl;return pl+=1,Ya===null&&(Ya=[]),Am(Ya,t,n)}function yl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function ro(t,n){throw n.$$typeof===D?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function dg(t){var n=t._init;return n(t._payload)}function mg(t){function n(U,I){if(t){var P=U.deletions;P===null?(U.deletions=[I],U.flags|=16):P.push(I)}}function r(U,I){if(!t)return null;for(;I!==null;)n(U,I),I=I.sibling;return null}function l(U){for(var I=new Map;U!==null;)U.key!==null?I.set(U.key,U):I.set(U.index,U),U=U.sibling;return I}function c(U,I){return U=yi(U,I),U.index=0,U.sibling=null,U}function f(U,I,P){return U.index=P,t?(P=U.alternate,P!==null?(P=P.index,P<I?(U.flags|=67108866,I):P):(U.flags|=67108866,I)):(U.flags|=1048576,I)}function _(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function E(U,I,P,Z){return I===null||I.tag!==6?(I=Gc(P,U.mode,Z),I.return=U,I):(I=c(I,P),I.return=U,I)}function C(U,I,P,Z){var dt=P.type;return dt===L?$(U,I,P.props.children,Z,P.key):I!==null&&(I.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===A&&dg(dt)===I.type)?(I=c(I,P.props),yl(I,P),I.return=U,I):(I=ju(P.type,P.key,P.props,null,U.mode,Z),yl(I,P),I.return=U,I)}function B(U,I,P,Z){return I===null||I.tag!==4||I.stateNode.containerInfo!==P.containerInfo||I.stateNode.implementation!==P.implementation?(I=Qc(P,U.mode,Z),I.return=U,I):(I=c(I,P.children||[]),I.return=U,I)}function $(U,I,P,Z,dt){return I===null||I.tag!==7?(I=Kr(P,U.mode,Z,dt),I.return=U,I):(I=c(I,P),I.return=U,I)}function W(U,I,P){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return I=Gc(""+I,U.mode,P),I.return=U,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case b:return P=ju(I.type,I.key,I.props,null,U.mode,P),yl(P,I),P.return=U,P;case j:return I=Qc(I,U.mode,P),I.return=U,I;case A:var Z=I._init;return I=Z(I._payload),W(U,I,P)}if(Pt(I)||M(I))return I=Kr(I,U.mode,P,null),I.return=U,I;if(typeof I.then=="function")return W(U,io(I),P);if(I.$$typeof===J)return W(U,Gu(U,I),P);ro(U,I)}return null}function k(U,I,P,Z){var dt=I!==null?I.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return dt!==null?null:E(U,I,""+P,Z);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case b:return P.key===dt?C(U,I,P,Z):null;case j:return P.key===dt?B(U,I,P,Z):null;case A:return dt=P._init,P=dt(P._payload),k(U,I,P,Z)}if(Pt(P)||M(P))return dt!==null?null:$(U,I,P,Z,null);if(typeof P.then=="function")return k(U,I,io(P),Z);if(P.$$typeof===J)return k(U,I,Gu(U,P),Z);ro(U,P)}return null}function H(U,I,P,Z,dt){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return U=U.get(P)||null,E(I,U,""+Z,dt);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case b:return U=U.get(Z.key===null?P:Z.key)||null,C(I,U,Z,dt);case j:return U=U.get(Z.key===null?P:Z.key)||null,B(I,U,Z,dt);case A:var Dt=Z._init;return Z=Dt(Z._payload),H(U,I,P,Z,dt)}if(Pt(Z)||M(Z))return U=U.get(P)||null,$(I,U,Z,dt,null);if(typeof Z.then=="function")return H(U,I,P,io(Z),dt);if(Z.$$typeof===J)return H(U,I,P,Gu(I,Z),dt);ro(I,Z)}return null}function Et(U,I,P,Z){for(var dt=null,Dt=null,mt=I,_t=I=0,Ie=null;mt!==null&&_t<P.length;_t++){mt.index>_t?(Ie=mt,mt=null):Ie=mt.sibling;var jt=k(U,mt,P[_t],Z);if(jt===null){mt===null&&(mt=Ie);break}t&&mt&&jt.alternate===null&&n(U,mt),I=f(jt,I,_t),Dt===null?dt=jt:Dt.sibling=jt,Dt=jt,mt=Ie}if(_t===P.length)return r(U,mt),qt&&$r(U,_t),dt;if(mt===null){for(;_t<P.length;_t++)mt=W(U,P[_t],Z),mt!==null&&(I=f(mt,I,_t),Dt===null?dt=mt:Dt.sibling=mt,Dt=mt);return qt&&$r(U,_t),dt}for(mt=l(mt);_t<P.length;_t++)Ie=H(mt,U,_t,P[_t],Z),Ie!==null&&(t&&Ie.alternate!==null&&mt.delete(Ie.key===null?_t:Ie.key),I=f(Ie,I,_t),Dt===null?dt=Ie:Dt.sibling=Ie,Dt=Ie);return t&&mt.forEach(function(or){return n(U,or)}),qt&&$r(U,_t),dt}function yt(U,I,P,Z){if(P==null)throw Error(s(151));for(var dt=null,Dt=null,mt=I,_t=I=0,Ie=null,jt=P.next();mt!==null&&!jt.done;_t++,jt=P.next()){mt.index>_t?(Ie=mt,mt=null):Ie=mt.sibling;var or=k(U,mt,jt.value,Z);if(or===null){mt===null&&(mt=Ie);break}t&&mt&&or.alternate===null&&n(U,mt),I=f(or,I,_t),Dt===null?dt=or:Dt.sibling=or,Dt=or,mt=Ie}if(jt.done)return r(U,mt),qt&&$r(U,_t),dt;if(mt===null){for(;!jt.done;_t++,jt=P.next())jt=W(U,jt.value,Z),jt!==null&&(I=f(jt,I,_t),Dt===null?dt=jt:Dt.sibling=jt,Dt=jt);return qt&&$r(U,_t),dt}for(mt=l(mt);!jt.done;_t++,jt=P.next())jt=H(mt,U,_t,jt.value,Z),jt!==null&&(t&&jt.alternate!==null&&mt.delete(jt.key===null?_t:jt.key),I=f(jt,I,_t),Dt===null?dt=jt:Dt.sibling=jt,Dt=jt);return t&&mt.forEach(function(LE){return n(U,LE)}),qt&&$r(U,_t),dt}function $t(U,I,P,Z){if(typeof P=="object"&&P!==null&&P.type===L&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case b:t:{for(var dt=P.key;I!==null;){if(I.key===dt){if(dt=P.type,dt===L){if(I.tag===7){r(U,I.sibling),Z=c(I,P.props.children),Z.return=U,U=Z;break t}}else if(I.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===A&&dg(dt)===I.type){r(U,I.sibling),Z=c(I,P.props),yl(Z,P),Z.return=U,U=Z;break t}r(U,I);break}else n(U,I);I=I.sibling}P.type===L?(Z=Kr(P.props.children,U.mode,Z,P.key),Z.return=U,U=Z):(Z=ju(P.type,P.key,P.props,null,U.mode,Z),yl(Z,P),Z.return=U,U=Z)}return _(U);case j:t:{for(dt=P.key;I!==null;){if(I.key===dt)if(I.tag===4&&I.stateNode.containerInfo===P.containerInfo&&I.stateNode.implementation===P.implementation){r(U,I.sibling),Z=c(I,P.children||[]),Z.return=U,U=Z;break t}else{r(U,I);break}else n(U,I);I=I.sibling}Z=Qc(P,U.mode,Z),Z.return=U,U=Z}return _(U);case A:return dt=P._init,P=dt(P._payload),$t(U,I,P,Z)}if(Pt(P))return Et(U,I,P,Z);if(M(P)){if(dt=M(P),typeof dt!="function")throw Error(s(150));return P=dt.call(P),yt(U,I,P,Z)}if(typeof P.then=="function")return $t(U,I,io(P),Z);if(P.$$typeof===J)return $t(U,I,Gu(U,P),Z);ro(U,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,I!==null&&I.tag===6?(r(U,I.sibling),Z=c(I,P),Z.return=U,U=Z):(r(U,I),Z=Gc(P,U.mode,Z),Z.return=U,U=Z),_(U)):r(U,I)}return function(U,I,P,Z){try{pl=0;var dt=$t(U,I,P,Z);return Ya=null,dt}catch(mt){if(mt===ll||mt===Yu)throw mt;var Dt=un(29,mt,null,U.mode);return Dt.lanes=Z,Dt.return=U,Dt}finally{}}}var Fa=mg(!0),gg=mg(!1),bn=et(null),Fn=null;function Ki(t){var n=t.alternate;it(Re,Re.current&1),it(bn,t),Fn===null&&(n===null||qa.current!==null||n.memoizedState!==null)&&(Fn=t)}function pg(t){if(t.tag===22){if(it(Re,Re.current),it(bn,t),Fn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Fn=t)}}else Xi()}function Xi(){it(Re,Re.current),it(bn,bn.current)}function Ai(t){ot(bn),Fn===t&&(Fn=null),ot(Re)}var Re=et(0);function ao(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||mf(r)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function bh(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:T({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Rh={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=fn(),c=Qi(l);c.payload=n,r!=null&&(c.callback=r),n=Yi(t,c,l),n!==null&&(dn(n,t,l),ol(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=fn(),c=Qi(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=Yi(t,c,l),n!==null&&(dn(n,t,l),ol(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=fn(),l=Qi(r);l.tag=2,n!=null&&(l.callback=n),n=Yi(t,l,r),n!==null&&(dn(n,t,r),ol(n,t,r))}};function yg(t,n,r,l,c,f,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,_):n.prototype&&n.prototype.isPureReactComponent?!Ws(r,l)||!Ws(c,f):!0}function vg(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&Rh.enqueueReplaceState(n,n.state,null)}function ia(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=T({},r));for(var c in t)r[c]===void 0&&(r[c]=t[c])}return r}var so=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function _g(t){so(t)}function Eg(t){console.error(t)}function Tg(t){so(t)}function lo(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Sg(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function wh(t,n,r){return r=Qi(r),r.tag=3,r.payload={element:null},r.callback=function(){lo(t,n)},r}function Ag(t){return t=Qi(t),t.tag=3,t}function bg(t,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){Sg(n,r,l)}}var _=r.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Sg(n,r,l),typeof c!="function"&&(er===null?er=new Set([this]):er.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function L0(t,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&rl(n,r,c,!0),r=bn.current,r!==null){switch(r.tag){case 13:return Fn===null?$h():r.alternate===null&&ue===0&&(ue=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===eh?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),Jh(t,l,c)),!1;case 22:return r.flags|=65536,l===eh?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),Jh(t,l,c)),!1}throw Error(s(435,r.tag))}return Jh(t,l,c),$h(),!1}if(qt)return n=bn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Kc&&(t=Error(s(422),{cause:l}),il(En(t,r)))):(l!==Kc&&(n=Error(s(423),{cause:l}),il(En(n,r))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=En(l,r),c=wh(t.stateNode,l,c),rh(t,c),ue!==4&&(ue=2)),!1;var f=Error(s(520),{cause:l});if(f=En(f,r),bl===null?bl=[f]:bl.push(f),ue!==4&&(ue=2),n===null)return!0;l=En(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=c&-c,r.lanes|=t,t=wh(r.stateNode,l,t),rh(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(er===null||!er.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=Ag(c),bg(c,t,r,l),rh(r,c),!1}r=r.return}while(r!==null);return!1}var Rg=Error(s(461)),Oe=!1;function ze(t,n,r,l){n.child=t===null?gg(n,null,r,l):Fa(n,t.child,r,l)}function wg(t,n,r,l,c){r=r.render;var f=n.ref;if("ref"in l){var _={};for(var E in l)E!=="ref"&&(_[E]=l[E])}else _=l;return ta(n),l=oh(t,n,r,_,f,c),E=ch(),t!==null&&!Oe?(hh(t,n,c),bi(t,n,c)):(qt&&E&&Yc(n),n.flags|=1,ze(t,n,l,c),n.child)}function Cg(t,n,r,l,c){if(t===null){var f=r.type;return typeof f=="function"&&!Hc(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Dg(t,n,f,l,c)):(t=ju(r.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Mh(t,c)){var _=f.memoizedProps;if(r=r.compare,r=r!==null?r:Ws,r(_,l)&&t.ref===n.ref)return bi(t,n,c)}return n.flags|=1,t=yi(f,l),t.ref=n.ref,t.return=n,n.child=t}function Dg(t,n,r,l,c){if(t!==null){var f=t.memoizedProps;if(Ws(f,l)&&t.ref===n.ref)if(Oe=!1,n.pendingProps=l=f,Mh(t,c))(t.flags&131072)!==0&&(Oe=!0);else return n.lanes=t.lanes,bi(t,n,c)}return Ch(t,n,r,l,c)}function Ng(t,n,r){var l=n.pendingProps,c=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|r:r,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return xg(t,n,l,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Qu(n,f!==null?f.cachePool:null),f!==null?Dm(n,f):sh(),pg(n);else return n.lanes=n.childLanes=536870912,xg(t,n,f!==null?f.baseLanes|r:r,r)}else f!==null?(Qu(n,f.cachePool),Dm(n,f),Xi(),n.memoizedState=null):(t!==null&&Qu(n,null),sh(),Xi());return ze(t,n,c,r),n.child}function xg(t,n,r,l){var c=th();return c=c===null?null:{parent:be._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},t!==null&&Qu(n,null),sh(),pg(n),t!==null&&rl(t,n,l,!0),null}function uo(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Ch(t,n,r,l,c){return ta(n),r=oh(t,n,r,l,void 0,c),l=ch(),t!==null&&!Oe?(hh(t,n,c),bi(t,n,c)):(qt&&l&&Yc(n),n.flags|=1,ze(t,n,r,c),n.child)}function Og(t,n,r,l,c,f){return ta(n),n.updateQueue=null,r=xm(n,l,r,c),Nm(t),l=ch(),t!==null&&!Oe?(hh(t,n,f),bi(t,n,f)):(qt&&l&&Yc(n),n.flags|=1,ze(t,n,r,f),n.child)}function Vg(t,n,r,l,c){if(ta(n),n.stateNode===null){var f=za,_=r.contextType;typeof _=="object"&&_!==null&&(f=He(_)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Rh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},nh(n),_=r.contextType,f.context=typeof _=="object"&&_!==null?He(_):za,f.state=n.memoizedState,_=r.getDerivedStateFromProps,typeof _=="function"&&(bh(n,r,_,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(_=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),_!==f.state&&Rh.enqueueReplaceState(f,f.state,null),hl(n,l,f,c),cl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,C=ia(r,E);f.props=C;var B=f.context,$=r.contextType;_=za,typeof $=="object"&&$!==null&&(_=He($));var W=r.getDerivedStateFromProps;$=typeof W=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,$||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||B!==_)&&vg(n,f,l,_),Gi=!1;var k=n.memoizedState;f.state=k,hl(n,l,f,c),cl(),B=n.memoizedState,E||k!==B||Gi?(typeof W=="function"&&(bh(n,r,W,l),B=n.memoizedState),(C=Gi||yg(n,r,C,l,k,B,_))?($||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=B),f.props=l,f.state=B,f.context=_,l=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,ih(t,n),_=n.memoizedProps,$=ia(r,_),f.props=$,W=n.pendingProps,k=f.context,B=r.contextType,C=za,typeof B=="object"&&B!==null&&(C=He(B)),E=r.getDerivedStateFromProps,(B=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==W||k!==C)&&vg(n,f,l,C),Gi=!1,k=n.memoizedState,f.state=k,hl(n,l,f,c),cl();var H=n.memoizedState;_!==W||k!==H||Gi||t!==null&&t.dependencies!==null&&Hu(t.dependencies)?(typeof E=="function"&&(bh(n,r,E,l),H=n.memoizedState),($=Gi||yg(n,r,$,l,k,H,C)||t!==null&&t.dependencies!==null&&Hu(t.dependencies))?(B||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,H,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,H,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&k===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&k===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=H),f.props=l,f.state=H,f.context=C,l=$):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&k===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&k===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,uo(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Fa(n,t.child,null,c),n.child=Fa(n,null,r,c)):ze(t,n,r,c),n.memoizedState=f.state,t=n.child):t=bi(t,n,c),t}function Ig(t,n,r,l){return nl(),n.flags|=256,ze(t,n,r,l),n.child}var Dh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Nh(t){return{baseLanes:t,cachePool:Em()}}function xh(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Rn),t}function Mg(t,n,r){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,_;if((_=f)||(_=t!==null&&t.memoizedState===null?!1:(Re.current&2)!==0),_&&(c=!0,n.flags&=-129),_=(n.flags&32)!==0,n.flags&=-33,t===null){if(qt){if(c?Ki(n):Xi(),qt){var E=le,C;if(C=E){t:{for(C=E,E=Yn;C.nodeType!==8;){if(!E){E=null;break t}if(C=Vn(C.nextSibling),C===null){E=null;break t}}E=C}E!==null?(n.memoizedState={dehydrated:E,treeContext:Xr!==null?{id:vi,overflow:_i}:null,retryLane:536870912,hydrationErrors:null},C=un(18,null,null,0),C.stateNode=E,C.return=n,n.child=C,Ze=n,le=null,C=!0):C=!1}C||Jr(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return mf(E)?n.lanes=32:n.lanes=536870912,null;Ai(n)}return E=l.children,l=l.fallback,c?(Xi(),c=n.mode,E=oo({mode:"hidden",children:E},c),l=Kr(l,c,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=Nh(r),c.childLanes=xh(t,_,r),n.memoizedState=Dh,l):(Ki(n),Oh(n,E))}if(C=t.memoizedState,C!==null&&(E=C.dehydrated,E!==null)){if(f)n.flags&256?(Ki(n),n.flags&=-257,n=Vh(t,n,r)):n.memoizedState!==null?(Xi(),n.child=t.child,n.flags|=128,n=null):(Xi(),c=l.fallback,E=n.mode,l=oo({mode:"visible",children:l.children},E),c=Kr(c,E,r,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,Fa(n,t.child,null,r),l=n.child,l.memoizedState=Nh(r),l.childLanes=xh(t,_,r),n.memoizedState=Dh,n=c);else if(Ki(n),mf(E)){if(_=E.nextSibling&&E.nextSibling.dataset,_)var B=_.dgst;_=B,l=Error(s(419)),l.stack="",l.digest=_,il({value:l,source:null,stack:null}),n=Vh(t,n,r)}else if(Oe||rl(t,n,r,!1),_=(r&t.childLanes)!==0,Oe||_){if(_=Wt,_!==null&&(l=r&-r,l=(l&42)!==0?1:Li(l),l=(l&(_.suspendedLanes|r))!==0?0:l,l!==0&&l!==C.retryLane))throw C.retryLane=l,La(t,l),dn(_,t,l),Rg;E.data==="$?"||$h(),n=Vh(t,n,r)}else E.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=C.treeContext,le=Vn(E.nextSibling),Ze=n,qt=!0,Zr=null,Yn=!1,t!==null&&(Sn[An++]=vi,Sn[An++]=_i,Sn[An++]=Xr,vi=t.id,_i=t.overflow,Xr=n),n=Oh(n,l.children),n.flags|=4096);return n}return c?(Xi(),c=l.fallback,E=n.mode,C=t.child,B=C.sibling,l=yi(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,B!==null?c=yi(B,c):(c=Kr(c,E,r,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=Nh(r):(C=E.cachePool,C!==null?(B=be._currentValue,C=C.parent!==B?{parent:B,pool:B}:C):C=Em(),E={baseLanes:E.baseLanes|r,cachePool:C}),c.memoizedState=E,c.childLanes=xh(t,_,r),n.memoizedState=Dh,l):(Ki(n),r=t.child,t=r.sibling,r=yi(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(_=n.deletions,_===null?(n.deletions=[t],n.flags|=16):_.push(t)),n.child=r,n.memoizedState=null,r)}function Oh(t,n){return n=oo({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function oo(t,n){return t=un(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Vh(t,n,r){return Fa(n,t.child,null,r),t=Oh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Ug(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),$c(t.return,n,r)}function Ih(t,n,r,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=c)}function Lg(t,n,r){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(ze(t,n,l.children,r),l=Re.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ug(t,r,n);else if(t.tag===19)Ug(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(it(Re,l),c){case"forwards":for(r=n.child,c=null;r!==null;)t=r.alternate,t!==null&&ao(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),Ih(n,!1,c,r,f);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&ao(t)===null){n.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}Ih(n,!0,r,null,f);break;case"together":Ih(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function bi(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),tr|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(rl(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,r=yi(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=yi(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Mh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Hu(t)))}function z0(t,n,r){switch(n.tag){case 3:Jt(n,n.stateNode.containerInfo),Hi(n,be,t.memoizedState.cache),nl();break;case 27:case 5:Ui(n);break;case 4:Jt(n,n.stateNode.containerInfo);break;case 10:Hi(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Ki(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Mg(t,n,r):(Ki(n),t=bi(t,n,r),t!==null?t.sibling:null);Ki(n);break;case 19:var c=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(rl(t,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return Lg(t,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),it(Re,Re.current),l)break;return null;case 22:case 23:return n.lanes=0,Ng(t,n,r);case 24:Hi(n,be,t.memoizedState.cache)}return bi(t,n,r)}function zg(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Oe=!0;else{if(!Mh(t,r)&&(n.flags&128)===0)return Oe=!1,z0(t,n,r);Oe=(t.flags&131072)!==0}else Oe=!1,qt&&(n.flags&1048576)!==0&&dm(n,qu,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")Hc(l)?(t=ia(l,t),n.tag=1,n=Vg(null,n,l,t,r)):(n.tag=0,n=Ch(null,n,l,t,r));else{if(l!=null){if(c=l.$$typeof,c===rt){n.tag=11,n=wg(null,n,l,t,r);break t}else if(c===N){n.tag=14,n=Cg(null,n,l,t,r);break t}}throw n=Rt(l)||l,Error(s(306,n,""))}}return n;case 0:return Ch(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=ia(l,n.pendingProps),Vg(t,n,l,c,r);case 3:t:{if(Jt(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,ih(t,n),hl(n,l,null,r);var _=n.memoizedState;if(l=_.cache,Hi(n,be,l),l!==f.cache&&Zc(n,[be],r,!0),cl(),l=_.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:_.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Ig(t,n,l,r);break t}else if(l!==c){c=En(Error(s(424)),n),il(c),n=Ig(t,n,l,r);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(le=Vn(t.firstChild),Ze=n,qt=!0,Zr=null,Yn=!0,r=gg(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(nl(),l===c){n=bi(t,n,r);break t}ze(t,n,l,r)}n=n.child}return n;case 26:return uo(t,n),t===null?(r=kp(n.type,null,n.pendingProps,null))?n.memoizedState=r:qt||(r=n.type,t=n.pendingProps,l=bo(Tt.current).createElement(r),l[Te]=n,l[me]=t,Be(l,r,t),oe(l),n.stateNode=l):n.memoizedState=kp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ui(n),t===null&&qt&&(l=n.stateNode=Pp(n.type,n.pendingProps,Tt.current),Ze=n,Yn=!0,c=le,rr(n.type)?(gf=c,le=Vn(l.firstChild)):le=c),ze(t,n,n.pendingProps.children,r),uo(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&qt&&((c=l=le)&&(l=hE(l,n.type,n.pendingProps,Yn),l!==null?(n.stateNode=l,Ze=n,le=Vn(l.firstChild),Yn=!1,c=!0):c=!1),c||Jr(n)),Ui(n),c=n.type,f=n.pendingProps,_=t!==null?t.memoizedProps:null,l=f.children,hf(c,f)?l=null:_!==null&&hf(c,_)&&(n.flags|=32),n.memoizedState!==null&&(c=oh(t,n,N0,null,null,r),Il._currentValue=c),uo(t,n),ze(t,n,l,r),n.child;case 6:return t===null&&qt&&((t=r=le)&&(r=fE(r,n.pendingProps,Yn),r!==null?(n.stateNode=r,Ze=n,le=null,t=!0):t=!1),t||Jr(n)),null;case 13:return Mg(t,n,r);case 4:return Jt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Fa(n,null,l,r):ze(t,n,l,r),n.child;case 11:return wg(t,n,n.type,n.pendingProps,r);case 7:return ze(t,n,n.pendingProps,r),n.child;case 8:return ze(t,n,n.pendingProps.children,r),n.child;case 12:return ze(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,Hi(n,n.type,l.value),ze(t,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,ta(n),c=He(c),l=l(c),n.flags|=1,ze(t,n,l,r),n.child;case 14:return Cg(t,n,n.type,n.pendingProps,r);case 15:return Dg(t,n,n.type,n.pendingProps,r);case 19:return Lg(t,n,r);case 31:return l=n.pendingProps,r=n.mode,l={mode:l.mode,children:l.children},t===null?(r=oo(l,r),r.ref=n.ref,n.child=r,r.return=n,n=r):(r=yi(t.child,l),r.ref=n.ref,n.child=r,r.return=n,n=r),n;case 22:return Ng(t,n,r);case 24:return ta(n),l=He(be),t===null?(c=th(),c===null&&(c=Wt,f=Jc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),n.memoizedState={parent:l,cache:c},nh(n),Hi(n,be,c)):((t.lanes&r)!==0&&(ih(t,n),hl(n,null,null,r),cl()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Hi(n,be,l)):(l=f.cache,Hi(n,be,l),l!==c.cache&&Zc(n,[be],r,!0))),ze(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Ri(t){t.flags|=4}function Pg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Yp(n)){if(n=bn.current,n!==null&&((Mt&4194048)===Mt?Fn!==null:(Mt&62914560)!==Mt&&(Mt&536870912)===0||n!==Fn))throw ul=eh,Tm;t.flags|=8192}}function co(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Us():536870912,t.lanes|=n,Za|=n)}function vl(t,n){if(!qt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ne(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function P0(t,n,r){var l=n.pendingProps;switch(Fc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(n),null;case 1:return ne(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ti(be),Mn(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(el(n)?Ri(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,pm())),ne(n),null;case 26:return r=n.memoizedState,t===null?(Ri(n),r!==null?(ne(n),Pg(n,r)):(ne(n),n.flags&=-16777217)):r?r!==t.memoizedState?(Ri(n),ne(n),Pg(n,r)):(ne(n),n.flags&=-16777217):(t.memoizedProps!==l&&Ri(n),ne(n),n.flags&=-16777217),null;case 27:ri(n),r=Tt.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ri(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ne(n),null}t=pt.current,el(n)?mm(n):(t=Pp(c,l,r),n.stateNode=t,Ri(n))}return ne(n),null;case 5:if(ri(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ri(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ne(n),null}if(t=pt.current,el(n))mm(n);else{switch(c=bo(Tt.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(r,{is:l.is}):c.createElement(r)}}t[Te]=n,t[me]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(Be(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Ri(n)}}return ne(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Ri(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=Tt.current,el(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,c=Ze,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[Te]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||Op(t.nodeValue,r)),t||Jr(n)}else t=bo(t).createTextNode(l),t[Te]=n,n.stateNode=t}return ne(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=el(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[Te]=n}else nl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),c=!1}else c=pm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Ai(n),n):(Ai(n),null)}if(Ai(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),co(n,n.updateQueue),ne(n),null;case 4:return Mn(),t===null&&sf(n.stateNode.containerInfo),ne(n),null;case 10:return Ti(n.type),ne(n),null;case 19:if(ot(Re),c=n.memoizedState,c===null)return ne(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)vl(c,!1);else{if(ue!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=ao(t),f!==null){for(n.flags|=128,vl(c,!1),t=f.updateQueue,n.updateQueue=t,co(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)fm(r,t),r=r.sibling;return it(Re,Re.current&1|2),n.child}t=t.sibling}c.tail!==null&&mn()>mo&&(n.flags|=128,l=!0,vl(c,!1),n.lanes=4194304)}else{if(!l)if(t=ao(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,co(n,t),vl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!qt)return ne(n),null}else 2*mn()-c.renderingStartTime>mo&&r!==536870912&&(n.flags|=128,l=!0,vl(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=mn(),n.sibling=null,t=Re.current,it(Re,l?t&1|2:t&1),n):(ne(n),null);case 22:case 23:return Ai(n),lh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(ne(n),n.subtreeFlags&6&&(n.flags|=8192)):ne(n),r=n.updateQueue,r!==null&&co(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&ot(ea),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Ti(be),ne(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function B0(t,n){switch(Fc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ti(be),Mn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ri(n),null;case 13:if(Ai(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));nl()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return ot(Re),null;case 4:return Mn(),null;case 10:return Ti(n.type),null;case 22:case 23:return Ai(n),lh(),t!==null&&ot(ea),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ti(be),null;case 25:return null;default:return null}}function Bg(t,n){switch(Fc(n),n.tag){case 3:Ti(be),Mn();break;case 26:case 27:case 5:ri(n);break;case 4:Mn();break;case 13:Ai(n);break;case 19:ot(Re);break;case 10:Ti(n.type);break;case 22:case 23:Ai(n),lh(),t!==null&&ot(ea);break;case 24:Ti(be)}}function _l(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&t)===t){l=void 0;var f=r.create,_=r.inst;l=f(),_.destroy=l}r=r.next}while(r!==c)}}catch(E){Zt(n,n.return,E)}}function $i(t,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var _=l.inst,E=_.destroy;if(E!==void 0){_.destroy=void 0,c=n;var C=r,B=E;try{B()}catch($){Zt(c,C,$)}}}l=l.next}while(l!==f)}}catch($){Zt(n,n.return,$)}}function jg(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{Cm(n,r)}catch(l){Zt(t,t.return,l)}}}function kg(t,n,r){r.props=ia(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Zt(t,n,l)}}function El(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(c){Zt(t,n,c)}}function Kn(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){Zt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Zt(t,n,c)}else r.current=null}function qg(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){Zt(t,t.return,c)}}function Uh(t,n,r){try{var l=t.stateNode;sE(l,t.type,r,n),l[me]=n}catch(c){Zt(t,t.return,c)}}function Hg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&rr(t.type)||t.tag===4}function Lh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Hg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&rr(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function zh(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Ao));else if(l!==4&&(l===27&&rr(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(zh(t,n,r),t=t.sibling;t!==null;)zh(t,n,r),t=t.sibling}function ho(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&rr(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(ho(t,n,r),t=t.sibling;t!==null;)ho(t,n,r),t=t.sibling}function Gg(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Be(n,l,r),n[Te]=t,n[me]=r}catch(f){Zt(t,t.return,f)}}var wi=!1,he=!1,Ph=!1,Qg=typeof WeakSet=="function"?WeakSet:Set,Ve=null;function j0(t,n){if(t=t.containerInfo,of=xo,t=nm(t),Lc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var _=0,E=-1,C=-1,B=0,$=0,W=t,k=null;e:for(;;){for(var H;W!==r||c!==0&&W.nodeType!==3||(E=_+c),W!==f||l!==0&&W.nodeType!==3||(C=_+l),W.nodeType===3&&(_+=W.nodeValue.length),(H=W.firstChild)!==null;)k=W,W=H;for(;;){if(W===t)break e;if(k===r&&++B===c&&(E=_),k===f&&++$===l&&(C=_),(H=W.nextSibling)!==null)break;W=k,k=W.parentNode}W=H}r=E===-1||C===-1?null:{start:E,end:C}}else r=null}r=r||{start:0,end:0}}else r=null;for(cf={focusedElem:t,selectionRange:r},xo=!1,Ve=n;Ve!==null;)if(n=Ve,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Ve=t;else for(;Ve!==null;){switch(n=Ve,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,c=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var Et=ia(r.type,c,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(Et,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(yt){Zt(r,r.return,yt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)df(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":df(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Ve=t;break}Ve=n.return}}function Yg(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:Zi(t,r),l&4&&_l(5,r);break;case 1:if(Zi(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(_){Zt(r,r.return,_)}else{var c=ia(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Zt(r,r.return,_)}}l&64&&jg(r),l&512&&El(r,r.return);break;case 3:if(Zi(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Cm(t,n)}catch(_){Zt(r,r.return,_)}}break;case 27:n===null&&l&4&&Gg(r);case 26:case 5:Zi(t,r),n===null&&l&4&&qg(r),l&512&&El(r,r.return);break;case 12:Zi(t,r);break;case 13:Zi(t,r),l&4&&Xg(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=X0.bind(null,r),dE(t,r))));break;case 22:if(l=r.memoizedState!==null||wi,!l){n=n!==null&&n.memoizedState!==null||he,c=wi;var f=he;wi=l,(he=n)&&!f?Ji(t,r,(r.subtreeFlags&8772)!==0):Zi(t,r),wi=c,he=f}break;case 30:break;default:Zi(t,r)}}function Fg(t){var n=t.alternate;n!==null&&(t.alternate=null,Fg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Bi(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ee=null,en=!1;function Ci(t,n,r){for(r=r.child;r!==null;)Kg(t,n,r),r=r.sibling}function Kg(t,n,r){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(se,r)}catch{}switch(r.tag){case 26:he||Kn(r,n),Ci(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:he||Kn(r,n);var l=ee,c=en;rr(r.type)&&(ee=r.stateNode,en=!1),Ci(t,n,r),Nl(r.stateNode),ee=l,en=c;break;case 5:he||Kn(r,n);case 6:if(l=ee,c=en,ee=null,Ci(t,n,r),ee=l,en=c,ee!==null)if(en)try{(ee.nodeType===9?ee.body:ee.nodeName==="HTML"?ee.ownerDocument.body:ee).removeChild(r.stateNode)}catch(f){Zt(r,n,f)}else try{ee.removeChild(r.stateNode)}catch(f){Zt(r,n,f)}break;case 18:ee!==null&&(en?(t=ee,Lp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),zl(t)):Lp(ee,r.stateNode));break;case 4:l=ee,c=en,ee=r.stateNode.containerInfo,en=!0,Ci(t,n,r),ee=l,en=c;break;case 0:case 11:case 14:case 15:he||$i(2,r,n),he||$i(4,r,n),Ci(t,n,r);break;case 1:he||(Kn(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&kg(r,n,l)),Ci(t,n,r);break;case 21:Ci(t,n,r);break;case 22:he=(l=he)||r.memoizedState!==null,Ci(t,n,r),he=l;break;default:Ci(t,n,r)}}function Xg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{zl(t)}catch(r){Zt(n,n.return,r)}}function k0(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Qg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Qg),n;default:throw Error(s(435,t.tag))}}function Bh(t,n){var r=k0(t);n.forEach(function(l){var c=$0.bind(null,t,l);r.has(l)||(r.add(l),l.then(c,c))})}function on(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],f=t,_=n,E=_;t:for(;E!==null;){switch(E.tag){case 27:if(rr(E.type)){ee=E.stateNode,en=!1;break t}break;case 5:ee=E.stateNode,en=!1;break t;case 3:case 4:ee=E.stateNode.containerInfo,en=!0;break t}E=E.return}if(ee===null)throw Error(s(160));Kg(f,_,c),ee=null,en=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)$g(n,t),n=n.sibling}var On=null;function $g(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:on(n,t),cn(t),l&4&&($i(3,t,t.return),_l(3,t),$i(5,t,t.return));break;case 1:on(n,t),cn(t),l&512&&(he||r===null||Kn(r,r.return)),l&64&&wi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=On;if(on(n,t),cn(t),l&512&&(he||r===null||Kn(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Vr]||f[Te]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),Be(f,l,r),f[Te]=t,oe(f),l=f;break t;case"link":var _=Gp("link","href",c).get(l+(r.href||""));if(_){for(var E=0;E<_.length;E++)if(f=_[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){_.splice(E,1);break e}}f=c.createElement(l),Be(f,l,r),c.head.appendChild(f);break;case"meta":if(_=Gp("meta","content",c).get(l+(r.content||""))){for(E=0;E<_.length;E++)if(f=_[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){_.splice(E,1);break e}}f=c.createElement(l),Be(f,l,r),c.head.appendChild(f);break;default:throw Error(s(468,l))}f[Te]=t,oe(f),l=f}t.stateNode=l}else Qp(c,t.type,t.stateNode);else t.stateNode=Hp(c,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?Qp(c,t.type,t.stateNode):Hp(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Uh(t,t.memoizedProps,r.memoizedProps)}break;case 27:on(n,t),cn(t),l&512&&(he||r===null||Kn(r,r.return)),r!==null&&l&4&&Uh(t,t.memoizedProps,r.memoizedProps);break;case 5:if(on(n,t),cn(t),l&512&&(he||r===null||Kn(r,r.return)),t.flags&32){c=t.stateNode;try{pn(c,"")}catch(H){Zt(t,t.return,H)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Uh(t,c,r!==null?r.memoizedProps:c)),l&1024&&(Ph=!0);break;case 6:if(on(n,t),cn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(H){Zt(t,t.return,H)}}break;case 3:if(Co=null,c=On,On=Ro(n.containerInfo),on(n,t),On=c,cn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{zl(n.containerInfo)}catch(H){Zt(t,t.return,H)}Ph&&(Ph=!1,Zg(t));break;case 4:l=On,On=Ro(t.stateNode.containerInfo),on(n,t),cn(t),On=l;break;case 12:on(n,t),cn(t);break;case 13:on(n,t),cn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Qh=mn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Bh(t,l)));break;case 22:c=t.memoizedState!==null;var C=r!==null&&r.memoizedState!==null,B=wi,$=he;if(wi=B||c,he=$||C,on(n,t),he=$,wi=B,cn(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(r===null||C||wi||he||ra(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){C=r=n;try{if(f=C.stateNode,c)_=f.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{E=C.stateNode;var W=C.memoizedProps.style,k=W!=null&&W.hasOwnProperty("display")?W.display:null;E.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(H){Zt(C,C.return,H)}}}else if(n.tag===6){if(r===null){C=n;try{C.stateNode.nodeValue=c?"":C.memoizedProps}catch(H){Zt(C,C.return,H)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Bh(t,r))));break;case 19:on(n,t),cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Bh(t,l)));break;case 30:break;case 21:break;default:on(n,t),cn(t)}}function cn(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(Hg(l)){r=l;break}l=l.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var c=r.stateNode,f=Lh(t);ho(t,f,c);break;case 5:var _=r.stateNode;r.flags&32&&(pn(_,""),r.flags&=-33);var E=Lh(t);ho(t,E,_);break;case 3:case 4:var C=r.stateNode.containerInfo,B=Lh(t);zh(t,B,C);break;default:throw Error(s(161))}}catch($){Zt(t,t.return,$)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Zg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Zg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Zi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Yg(t,n.alternate,n),n=n.sibling}function ra(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:$i(4,n,n.return),ra(n);break;case 1:Kn(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&kg(n,n.return,r),ra(n);break;case 27:Nl(n.stateNode);case 26:case 5:Kn(n,n.return),ra(n);break;case 22:n.memoizedState===null&&ra(n);break;case 30:ra(n);break;default:ra(n)}t=t.sibling}}function Ji(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,_=f.flags;switch(f.tag){case 0:case 11:case 15:Ji(c,f,r),_l(4,f);break;case 1:if(Ji(c,f,r),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(B){Zt(l,l.return,B)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var C=c.shared.hiddenCallbacks;if(C!==null)for(c.shared.hiddenCallbacks=null,c=0;c<C.length;c++)wm(C[c],E)}catch(B){Zt(l,l.return,B)}}r&&_&64&&jg(f),El(f,f.return);break;case 27:Gg(f);case 26:case 5:Ji(c,f,r),r&&l===null&&_&4&&qg(f),El(f,f.return);break;case 12:Ji(c,f,r);break;case 13:Ji(c,f,r),r&&_&4&&Xg(c,f);break;case 22:f.memoizedState===null&&Ji(c,f,r),El(f,f.return);break;case 30:break;default:Ji(c,f,r)}n=n.sibling}}function jh(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&al(r))}function kh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&al(t))}function Xn(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Jg(t,n,r,l),n=n.sibling}function Jg(t,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Xn(t,n,r,l),c&2048&&_l(9,n);break;case 1:Xn(t,n,r,l);break;case 3:Xn(t,n,r,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&al(t)));break;case 12:if(c&2048){Xn(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,_=f.id,E=f.onPostCommit;typeof E=="function"&&E(_,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){Zt(n,n.return,C)}}else Xn(t,n,r,l);break;case 13:Xn(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,_=n.alternate,n.memoizedState!==null?f._visibility&2?Xn(t,n,r,l):Tl(t,n):f._visibility&2?Xn(t,n,r,l):(f._visibility|=2,Ka(t,n,r,l,(n.subtreeFlags&10256)!==0)),c&2048&&jh(_,n);break;case 24:Xn(t,n,r,l),c&2048&&kh(n.alternate,n);break;default:Xn(t,n,r,l)}}function Ka(t,n,r,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,_=n,E=r,C=l,B=_.flags;switch(_.tag){case 0:case 11:case 15:Ka(f,_,E,C,c),_l(8,_);break;case 23:break;case 22:var $=_.stateNode;_.memoizedState!==null?$._visibility&2?Ka(f,_,E,C,c):Tl(f,_):($._visibility|=2,Ka(f,_,E,C,c)),c&&B&2048&&jh(_.alternate,_);break;case 24:Ka(f,_,E,C,c),c&&B&2048&&kh(_.alternate,_);break;default:Ka(f,_,E,C,c)}n=n.sibling}}function Tl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,c=l.flags;switch(l.tag){case 22:Tl(r,l),c&2048&&jh(l.alternate,l);break;case 24:Tl(r,l),c&2048&&kh(l.alternate,l);break;default:Tl(r,l)}n=n.sibling}}var Sl=8192;function Xa(t){if(t.subtreeFlags&Sl)for(t=t.child;t!==null;)Wg(t),t=t.sibling}function Wg(t){switch(t.tag){case 26:Xa(t),t.flags&Sl&&t.memoizedState!==null&&wE(On,t.memoizedState,t.memoizedProps);break;case 5:Xa(t);break;case 3:case 4:var n=On;On=Ro(t.stateNode.containerInfo),Xa(t),On=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Sl,Sl=16777216,Xa(t),Sl=n):Xa(t));break;default:Xa(t)}}function tp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Al(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ve=l,np(l,t)}tp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ep(t),t=t.sibling}function ep(t){switch(t.tag){case 0:case 11:case 15:Al(t),t.flags&2048&&$i(9,t,t.return);break;case 3:Al(t);break;case 12:Al(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,fo(t)):Al(t);break;default:Al(t)}}function fo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ve=l,np(l,t)}tp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:$i(8,n,n.return),fo(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,fo(n));break;default:fo(n)}t=t.sibling}}function np(t,n){for(;Ve!==null;){var r=Ve;switch(r.tag){case 0:case 11:case 15:$i(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:al(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Ve=l;else t:for(r=t;Ve!==null;){l=Ve;var c=l.sibling,f=l.return;if(Fg(l),l===r){Ve=null;break t}if(c!==null){c.return=f,Ve=c;break t}Ve=f}}}var q0={getCacheForType:function(t){var n=He(be),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},H0=typeof WeakMap=="function"?WeakMap:Map,Qt=0,Wt=null,Nt=null,Mt=0,Yt=0,hn=null,Wi=!1,$a=!1,qh=!1,Di=0,ue=0,tr=0,aa=0,Hh=0,Rn=0,Za=0,bl=null,nn=null,Gh=!1,Qh=0,mo=1/0,go=null,er=null,Pe=0,nr=null,Ja=null,Wa=0,Yh=0,Fh=null,ip=null,Rl=0,Kh=null;function fn(){if((Qt&2)!==0&&Mt!==0)return Mt&-Mt;if(K.T!==null){var t=ja;return t!==0?t:ef()}return zi()}function rp(){Rn===0&&(Rn=(Mt&536870912)===0||qt?Ms():536870912);var t=bn.current;return t!==null&&(t.flags|=32),Rn}function dn(t,n,r){(t===Wt&&(Yt===2||Yt===9)||t.cancelPendingCommit!==null)&&(ts(t,0),ir(t,Mt,Rn,!1)),si(t,r),((Qt&2)===0||t!==Wt)&&(t===Wt&&((Qt&2)===0&&(aa|=r),ue===4&&ir(t,Mt,Rn,!1)),$n(t))}function ap(t,n,r){if((Qt&6)!==0)throw Error(s(327));var l=!r&&(n&124)===0&&(n&t.expiredLanes)===0||Or(t,n),c=l?Y0(t,n):Zh(t,n,!0),f=l;do{if(c===0){$a&&!l&&ir(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!G0(r)){c=Zh(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){n=_;t:{var E=t;c=bl;var C=E.current.memoizedState.isDehydrated;if(C&&(ts(E,_).flags|=256),_=Zh(E,_,!1),_!==2){if(qh&&!C){E.errorRecoveryDisabledLanes|=f,aa|=f,c=4;break t}f=nn,nn=c,f!==null&&(nn===null?nn=f:nn.push.apply(nn,f))}c=_}if(f=!1,c!==2)continue}}if(c===1){ts(t,0),ir(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:ir(l,n,Rn,!Wi);break t;case 2:nn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(c=Qh+300-mn(),10<c)){if(ir(l,n,Rn,!Wi),ya(l,0,!0)!==0)break t;l.timeoutHandle=Mp(sp.bind(null,l,r,nn,go,Gh,n,Rn,aa,Za,Wi,f,2,-0,0),c);break t}sp(l,r,nn,go,Gh,n,Rn,aa,Za,Wi,f,0,-0,0)}}break}while(!0);$n(t)}function sp(t,n,r,l,c,f,_,E,C,B,$,W,k,H){if(t.timeoutHandle=-1,W=n.subtreeFlags,(W&8192||(W&16785408)===16785408)&&(Vl={stylesheets:null,count:0,unsuspend:RE},Wg(n),W=CE(),W!==null)){t.cancelPendingCommit=W(dp.bind(null,t,n,f,r,l,c,_,E,C,$,1,k,H)),ir(t,f,_,!B);return}dp(t,n,f,r,l,c,_,E,C)}function G0(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],f=c.getSnapshot;c=c.value;try{if(!ln(f(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ir(t,n,r,l){n&=~Hh,n&=~aa,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-qe(c),_=1<<f;l[f]=-1,c&=~_}r!==0&&Un(t,r,n)}function po(){return(Qt&6)===0?(wl(0),!1):!0}function Xh(){if(Nt!==null){if(Yt===0)var t=Nt.return;else t=Nt,Ei=Wr=null,fh(t),Ya=null,pl=0,t=Nt;for(;t!==null;)Bg(t.alternate,t),t=t.return;Nt=null}}function ts(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,uE(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Xh(),Wt=t,Nt=r=yi(t.current,null),Mt=n,Yt=0,hn=null,Wi=!1,$a=Or(t,n),qh=!1,Za=Rn=Hh=aa=tr=ue=0,nn=bl=null,Gh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-qe(l),f=1<<c;n|=t[c],l&=~f}return Di=n,zu(),r}function lp(t,n){wt=null,K.H=no,n===ll||n===Yu?(n=bm(),Yt=3):n===Tm?(n=bm(),Yt=4):Yt=n===Rg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,hn=n,Nt===null&&(ue=1,lo(t,En(n,t.current)))}function up(){var t=K.H;return K.H=no,t===null?no:t}function op(){var t=K.A;return K.A=q0,t}function $h(){ue=4,Wi||(Mt&4194048)!==Mt&&bn.current!==null||($a=!0),(tr&134217727)===0&&(aa&134217727)===0||Wt===null||ir(Wt,Mt,Rn,!1)}function Zh(t,n,r){var l=Qt;Qt|=2;var c=up(),f=op();(Wt!==t||Mt!==n)&&(go=null,ts(t,n)),n=!1;var _=ue;t:do try{if(Yt!==0&&Nt!==null){var E=Nt,C=hn;switch(Yt){case 8:Xh(),_=6;break t;case 3:case 2:case 9:case 6:bn.current===null&&(n=!0);var B=Yt;if(Yt=0,hn=null,es(t,E,C,B),r&&$a){_=0;break t}break;default:B=Yt,Yt=0,hn=null,es(t,E,C,B)}}Q0(),_=ue;break}catch($){lp(t,$)}while(!0);return n&&t.shellSuspendCounter++,Ei=Wr=null,Qt=l,K.H=c,K.A=f,Nt===null&&(Wt=null,Mt=0,zu()),_}function Q0(){for(;Nt!==null;)cp(Nt)}function Y0(t,n){var r=Qt;Qt|=2;var l=up(),c=op();Wt!==t||Mt!==n?(go=null,mo=mn()+500,ts(t,n)):$a=Or(t,n);t:do try{if(Yt!==0&&Nt!==null){n=Nt;var f=hn;e:switch(Yt){case 1:Yt=0,hn=null,es(t,n,f,1);break;case 2:case 9:if(Sm(f)){Yt=0,hn=null,hp(n);break}n=function(){Yt!==2&&Yt!==9||Wt!==t||(Yt=7),$n(t)},f.then(n,n);break t;case 3:Yt=7;break t;case 4:Yt=5;break t;case 7:Sm(f)?(Yt=0,hn=null,hp(n)):(Yt=0,hn=null,es(t,n,f,7));break;case 5:var _=null;switch(Nt.tag){case 26:_=Nt.memoizedState;case 5:case 27:var E=Nt;if(!_||Yp(_)){Yt=0,hn=null;var C=E.sibling;if(C!==null)Nt=C;else{var B=E.return;B!==null?(Nt=B,yo(B)):Nt=null}break e}}Yt=0,hn=null,es(t,n,f,5);break;case 6:Yt=0,hn=null,es(t,n,f,6);break;case 8:Xh(),ue=6;break t;default:throw Error(s(462))}}F0();break}catch($){lp(t,$)}while(!0);return Ei=Wr=null,K.H=l,K.A=c,Qt=r,Nt!==null?0:(Wt=null,Mt=0,zu(),ue)}function F0(){for(;Nt!==null&&!xs();)cp(Nt)}function cp(t){var n=zg(t.alternate,t,Di);t.memoizedProps=t.pendingProps,n===null?yo(t):Nt=n}function hp(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=Og(r,n,n.pendingProps,n.type,void 0,Mt);break;case 11:n=Og(r,n,n.pendingProps,n.type.render,n.ref,Mt);break;case 5:fh(n);default:Bg(r,n),n=Nt=fm(n,Di),n=zg(r,n,Di)}t.memoizedProps=t.pendingProps,n===null?yo(t):Nt=n}function es(t,n,r,l){Ei=Wr=null,fh(n),Ya=null,pl=0;var c=n.return;try{if(L0(t,c,n,r,Mt)){ue=1,lo(t,En(r,t.current)),Nt=null;return}}catch(f){if(c!==null)throw Nt=c,f;ue=1,lo(t,En(r,t.current)),Nt=null;return}n.flags&32768?(qt||l===1?t=!0:$a||(Mt&536870912)!==0?t=!1:(Wi=t=!0,(l===2||l===9||l===3||l===6)&&(l=bn.current,l!==null&&l.tag===13&&(l.flags|=16384))),fp(n,t)):yo(n)}function yo(t){var n=t;do{if((n.flags&32768)!==0){fp(n,Wi);return}t=n.return;var r=P0(n.alternate,n,Di);if(r!==null){Nt=r;return}if(n=n.sibling,n!==null){Nt=n;return}Nt=n=t}while(n!==null);ue===0&&(ue=5)}function fp(t,n){do{var r=B0(t.alternate,t);if(r!==null){r.flags&=32767,Nt=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Nt=t;return}Nt=t=r}while(t!==null);ue=6,Nt=null}function dp(t,n,r,l,c,f,_,E,C){t.cancelPendingCommit=null;do vo();while(Pe!==0);if((Qt&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=kc,Ls(t,r,f,_,E,C),t===Wt&&(Nt=Wt=null,Mt=0),Ja=n,nr=t,Wa=r,Yh=f,Fh=c,ip=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Z0(Cr,function(){return vp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,c=lt.p,lt.p=2,_=Qt,Qt|=4;try{j0(t,n,r)}finally{Qt=_,lt.p=c,K.T=l}}Pe=1,mp(),gp(),pp()}}function mp(){if(Pe===1){Pe=0;var t=nr,n=Ja,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=K.T,K.T=null;var l=lt.p;lt.p=2;var c=Qt;Qt|=4;try{$g(n,t);var f=cf,_=nm(t.containerInfo),E=f.focusedElem,C=f.selectionRange;if(_!==E&&E&&E.ownerDocument&&em(E.ownerDocument.documentElement,E)){if(C!==null&&Lc(E)){var B=C.start,$=C.end;if($===void 0&&($=B),"selectionStart"in E)E.selectionStart=B,E.selectionEnd=Math.min($,E.value.length);else{var W=E.ownerDocument||document,k=W&&W.defaultView||window;if(k.getSelection){var H=k.getSelection(),Et=E.textContent.length,yt=Math.min(C.start,Et),$t=C.end===void 0?yt:Math.min(C.end,Et);!H.extend&&yt>$t&&(_=$t,$t=yt,yt=_);var U=tm(E,yt),I=tm(E,$t);if(U&&I&&(H.rangeCount!==1||H.anchorNode!==U.node||H.anchorOffset!==U.offset||H.focusNode!==I.node||H.focusOffset!==I.offset)){var P=W.createRange();P.setStart(U.node,U.offset),H.removeAllRanges(),yt>$t?(H.addRange(P),H.extend(I.node,I.offset)):(P.setEnd(I.node,I.offset),H.addRange(P))}}}}for(W=[],H=E;H=H.parentNode;)H.nodeType===1&&W.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<W.length;E++){var Z=W[E];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}xo=!!of,cf=of=null}finally{Qt=c,lt.p=l,K.T=r}}t.current=n,Pe=2}}function gp(){if(Pe===2){Pe=0;var t=nr,n=Ja,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=K.T,K.T=null;var l=lt.p;lt.p=2;var c=Qt;Qt|=4;try{Yg(t,n.alternate,n)}finally{Qt=c,lt.p=l,K.T=r}}Pe=3}}function pp(){if(Pe===4||Pe===3){Pe=0,fu();var t=nr,n=Ja,r=Wa,l=ip;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Pe=5:(Pe=0,Ja=nr=null,yp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(er=null),va(r),n=n.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(se,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=K.T,c=lt.p,lt.p=2,K.T=null;try{for(var f=t.onRecoverableError,_=0;_<l.length;_++){var E=l[_];f(E.value,{componentStack:E.stack})}}finally{K.T=n,lt.p=c}}(Wa&3)!==0&&vo(),$n(t),c=t.pendingLanes,(r&4194090)!==0&&(c&42)!==0?t===Kh?Rl++:(Rl=0,Kh=t):Rl=0,wl(0)}}function yp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,al(n)))}function vo(t){return mp(),gp(),pp(),vp()}function vp(){if(Pe!==5)return!1;var t=nr,n=Yh;Yh=0;var r=va(Wa),l=K.T,c=lt.p;try{lt.p=32>r?32:r,K.T=null,r=Fh,Fh=null;var f=nr,_=Wa;if(Pe=0,Ja=nr=null,Wa=0,(Qt&6)!==0)throw Error(s(331));var E=Qt;if(Qt|=4,ep(f.current),Jg(f,f.current,_,r),Qt=E,wl(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(se,f)}catch{}return!0}finally{lt.p=c,K.T=l,yp(t,n)}}function _p(t,n,r){n=En(r,n),n=wh(t.stateNode,n,2),t=Yi(t,n,2),t!==null&&(si(t,2),$n(t))}function Zt(t,n,r){if(t.tag===3)_p(t,t,r);else for(;n!==null;){if(n.tag===3){_p(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(er===null||!er.has(l))){t=En(r,t),r=Ag(2),l=Yi(n,r,2),l!==null&&(bg(r,l,n,t),si(l,2),$n(l));break}}n=n.return}}function Jh(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new H0;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||(qh=!0,c.add(r),t=K0.bind(null,t,n,r),n.then(t,t))}function K0(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Wt===t&&(Mt&r)===r&&(ue===4||ue===3&&(Mt&62914560)===Mt&&300>mn()-Qh?(Qt&2)===0&&ts(t,0):Hh|=r,Za===Mt&&(Za=0)),$n(t)}function Ep(t,n){n===0&&(n=Us()),t=La(t,n),t!==null&&(si(t,n),$n(t))}function X0(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Ep(t,r)}function $0(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),Ep(t,r)}function Z0(t,n){return Rr(t,n)}var _o=null,ns=null,Wh=!1,Eo=!1,tf=!1,sa=0;function $n(t){t!==ns&&t.next===null&&(ns===null?_o=ns=t:ns=ns.next=t),Eo=!0,Wh||(Wh=!0,W0())}function wl(t,n){if(!tf&&Eo){tf=!0;do for(var r=!1,l=_o;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var _=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-qe(42|t)+1)-1,f&=c&~(_&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,bp(l,f))}else f=Mt,f=ya(l,l===Wt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Or(l,f)||(r=!0,bp(l,f));l=l.next}while(r);tf=!1}}function J0(){Tp()}function Tp(){Eo=Wh=!1;var t=0;sa!==0&&(lE()&&(t=sa),sa=0);for(var n=mn(),r=null,l=_o;l!==null;){var c=l.next,f=Sp(l,n);f===0?(l.next=null,r===null?_o=c:r.next=c,c===null&&(ns=r)):(r=l,(t!==0||(f&3)!==0)&&(Eo=!0)),l=c}wl(t)}function Sp(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var _=31-qe(f),E=1<<_,C=c[_];C===-1?((E&r)===0||(E&l)!==0)&&(c[_]=Is(E,n)):C<=n&&(t.expiredLanes|=E),f&=~E}if(n=Wt,r=Mt,r=ya(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(Yt===2||Yt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&wr(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Or(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&wr(l),va(r)){case 2:case 8:r=ga;break;case 32:r=Cr;break;case 268435456:r=pa;break;default:r=Cr}return l=Ap.bind(null,t),r=Rr(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&wr(l),t.callbackPriority=2,t.callbackNode=null,2}function Ap(t,n){if(Pe!==0&&Pe!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(vo()&&t.callbackNode!==r)return null;var l=Mt;return l=ya(t,t===Wt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(ap(t,l,n),Sp(t,mn()),t.callbackNode!=null&&t.callbackNode===r?Ap.bind(null,t):null)}function bp(t,n){if(vo())return null;ap(t,n,!0)}function W0(){oE(function(){(Qt&6)!==0?Rr(Os,J0):Tp()})}function ef(){return sa===0&&(sa=Ms()),sa}function Rp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ba(""+t)}function wp(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function tE(t,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var f=Rp((c[me]||null).action),_=l.submitter;_&&(n=(n=_[me]||null)?Rp(n.formAction):_.getAttribute("formAction"),n!==null&&(f=n,_=null));var E=new Ra("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(sa!==0){var C=_?wp(c,_):new FormData(c);Th(r,{pending:!0,data:C,method:c.method,action:f},null,C)}}else typeof f=="function"&&(E.preventDefault(),C=_?wp(c,_):new FormData(c),Th(r,{pending:!0,data:C,method:c.method,action:f},f,C))},currentTarget:c}]})}}for(var nf=0;nf<jc.length;nf++){var rf=jc[nf],eE=rf.toLowerCase(),nE=rf[0].toUpperCase()+rf.slice(1);xn(eE,"on"+nE)}xn(am,"onAnimationEnd"),xn(sm,"onAnimationIteration"),xn(lm,"onAnimationStart"),xn("dblclick","onDoubleClick"),xn("focusin","onFocus"),xn("focusout","onBlur"),xn(_0,"onTransitionRun"),xn(E0,"onTransitionStart"),xn(T0,"onTransitionCancel"),xn(um,"onTransitionEnd"),ui("onMouseEnter",["mouseout","mouseover"]),ui("onMouseLeave",["mouseout","mouseover"]),ui("onPointerEnter",["pointerout","pointerover"]),ui("onPointerLeave",["pointerout","pointerover"]),Dn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Dn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Dn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Dn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Dn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Dn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cl));function Cp(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var _=l.length-1;0<=_;_--){var E=l[_],C=E.instance,B=E.currentTarget;if(E=E.listener,C!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=B;try{f(c)}catch($){so($)}c.currentTarget=null,f=C}else for(_=0;_<l.length;_++){if(E=l[_],C=E.instance,B=E.currentTarget,E=E.listener,C!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=B;try{f(c)}catch($){so($)}c.currentTarget=null,f=C}}}}function xt(t,n){var r=n[Ps];r===void 0&&(r=n[Ps]=new Set);var l=t+"__bubble";r.has(l)||(Dp(n,t,2,!1),r.add(l))}function af(t,n,r){var l=0;n&&(l|=4),Dp(r,t,l,n)}var To="_reactListening"+Math.random().toString(36).slice(2);function sf(t){if(!t[To]){t[To]=!0,Bs.forEach(function(r){r!=="selectionchange"&&(iE.has(r)||af(r,!1,t),af(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[To]||(n[To]=!0,af("selectionchange",!1,n))}}function Dp(t,n,r,l){switch(Jp(n)){case 2:var c=xE;break;case 8:c=OE;break;default:c=Ef}r=c.bind(null,n,r,t),c=void 0,!vn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,r,{capture:!0,passive:c}):t.addEventListener(n,r,!0):c!==void 0?t.addEventListener(n,r,{passive:c}):t.addEventListener(n,r,!1)}function lf(t,n,r,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var E=l.stateNode.containerInfo;if(E===c)break;if(_===4)for(_=l.return;_!==null;){var C=_.tag;if((C===3||C===4)&&_.stateNode.containerInfo===c)return;_=_.return}for(;E!==null;){if(_=li(E),_===null)return;if(C=_.tag,C===5||C===6||C===26||C===27){l=f=_;continue t}E=E.parentNode}}l=l.return}Su(function(){var B=f,$=yn(r),W=[];t:{var k=om.get(t);if(k!==void 0){var H=Ra,Et=t;switch(t){case"keypress":if(kn(r)===0)break t;case"keydown":case"keyup":H=Oa;break;case"focusin":Et="focus",H=Da;break;case"focusout":Et="blur",H=Da;break;case"beforeblur":case"afterblur":H=Da;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=_n;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Vc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=xu;break;case am:case sm:case lm:H=Na;break;case um:H=Vu;break;case"scroll":case"scrollend":H=Au;break;case"wheel":H=Va;break;case"copy":case"cut":case"paste":H=xa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Zs;break;case"toggle":case"beforetoggle":H=Mu}var yt=(n&4)!==0,$t=!yt&&(t==="scroll"||t==="scrollend"),U=yt?k!==null?k+"Capture":null:k;yt=[];for(var I=B,P;I!==null;){var Z=I;if(P=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||P===null||U===null||(Z=Br(I,U),Z!=null&&yt.push(Dl(I,Z,P))),$t)break;I=I.return}0<yt.length&&(k=new H(k,Et,null,r,$),W.push({event:k,listeners:yt}))}}if((n&7)===0){t:{if(k=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",k&&r!==hi&&(Et=r.relatedTarget||r.fromElement)&&(li(Et)||Et[gn]))break t;if((H||k)&&(k=$.window===$?$:(k=$.ownerDocument)?k.defaultView||k.parentWindow:window,H?(Et=r.relatedTarget||r.toElement,H=B,Et=Et?li(Et):null,Et!==null&&($t=h(Et),yt=Et.tag,Et!==$t||yt!==5&&yt!==27&&yt!==6)&&(Et=null)):(H=null,Et=B),H!==Et)){if(yt=_n,Z="onMouseLeave",U="onMouseEnter",I="mouse",(t==="pointerout"||t==="pointerover")&&(yt=Zs,Z="onPointerLeave",U="onPointerEnter",I="pointer"),$t=H==null?k:zn(H),P=Et==null?k:zn(Et),k=new yt(Z,I+"leave",H,r,$),k.target=$t,k.relatedTarget=P,Z=null,li($)===B&&(yt=new yt(U,I+"enter",Et,r,$),yt.target=P,yt.relatedTarget=$t,Z=yt),$t=Z,H&&Et)e:{for(yt=H,U=Et,I=0,P=yt;P;P=is(P))I++;for(P=0,Z=U;Z;Z=is(Z))P++;for(;0<I-P;)yt=is(yt),I--;for(;0<P-I;)U=is(U),P--;for(;I--;){if(yt===U||U!==null&&yt===U.alternate)break e;yt=is(yt),U=is(U)}yt=null}else yt=null;H!==null&&Np(W,k,H,yt,!1),Et!==null&&$t!==null&&Np(W,$t,Et,yt,!0)}}t:{if(k=B?zn(B):window,H=k.nodeName&&k.nodeName.toLowerCase(),H==="select"||H==="input"&&k.type==="file")var dt=Kd;else if(Ae(k))if(Xd)dt=p0;else{dt=m0;var Dt=d0}else H=k.nodeName,!H||H.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?B&&Gs(B.elementType)&&(dt=Kd):dt=g0;if(dt&&(dt=dt(t,B))){pi(W,dt,r,$);break t}Dt&&Dt(t,k,B),t==="focusout"&&B&&k.type==="number"&&B.memoizedProps.value!=null&&ki(k,"number",k.value)}switch(Dt=B?zn(B):window,t){case"focusin":(Ae(Dt)||Dt.contentEditable==="true")&&(Ia=Dt,zc=B,tl=null);break;case"focusout":tl=zc=Ia=null;break;case"mousedown":Pc=!0;break;case"contextmenu":case"mouseup":case"dragend":Pc=!1,im(W,r,$);break;case"selectionchange":if(v0)break;case"keydown":case"keyup":im(W,r,$)}var mt;if(Gn)t:{switch(t){case"compositionstart":var _t="onCompositionStart";break t;case"compositionend":_t="onCompositionEnd";break t;case"compositionupdate":_t="onCompositionUpdate";break t}_t=void 0}else Vt?F(t,r)&&(_t="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(_t="onCompositionStart");_t&&(v&&r.locale!=="ko"&&(Vt||_t!=="onCompositionStart"?_t==="onCompositionEnd"&&Vt&&(mt=Ys()):(jn=$,qi="value"in jn?jn.value:jn.textContent,Vt=!0)),Dt=So(B,_t),0<Dt.length&&(_t=new Xs(_t,t,null,r,$),W.push({event:_t,listeners:Dt}),mt?_t.data=mt:(mt=at(r),mt!==null&&(_t.data=mt)))),(mt=m?Se(t,r):It(t,r))&&(_t=So(B,"onBeforeInput"),0<_t.length&&(Dt=new Xs("onBeforeInput","beforeinput",null,r,$),W.push({event:Dt,listeners:_t}),Dt.data=mt)),tE(W,t,B,r,$)}Cp(W,n)})}function Dl(t,n,r){return{instance:t,listener:n,currentTarget:r}}function So(t,n){for(var r=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Br(t,r),c!=null&&l.unshift(Dl(t,c,f)),c=Br(t,n),c!=null&&l.push(Dl(t,c,f))),t.tag===3)return l;t=t.return}return[]}function is(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Np(t,n,r,l,c){for(var f=n._reactName,_=[];r!==null&&r!==l;){var E=r,C=E.alternate,B=E.stateNode;if(E=E.tag,C!==null&&C===l)break;E!==5&&E!==26&&E!==27||B===null||(C=B,c?(B=Br(r,f),B!=null&&_.unshift(Dl(r,B,C))):c||(B=Br(r,f),B!=null&&_.push(Dl(r,B,C)))),r=r.return}_.length!==0&&t.push({event:n,listeners:_})}var rE=/\r\n?/g,aE=/\u0000|\uFFFD/g;function xp(t){return(typeof t=="string"?t:""+t).replace(rE,`
`).replace(aE,"")}function Op(t,n){return n=xp(n),xp(t)===n}function Ao(){}function Xt(t,n,r,l,c,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||pn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&pn(t,""+l);break;case"className":Pn(t,"class",l);break;case"tabIndex":Pn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Pn(t,r,l);break;case"style":Hs(t,l,f);break;case"data":if(n!=="object"){Pn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=ba(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Xt(t,n,"name",c.name,c,null),Xt(t,n,"formEncType",c.formEncType,c,null),Xt(t,n,"formMethod",c.formMethod,c,null),Xt(t,n,"formTarget",c.formTarget,c,null)):(Xt(t,n,"encType",c.encType,c,null),Xt(t,n,"method",c.method,c,null),Xt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=ba(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=Ao);break;case"onScroll":l!=null&&xt("scroll",t);break;case"onScrollEnd":l!=null&&xt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=ba(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":xt("beforetoggle",t),xt("toggle",t),ji(t,"popover",l);break;case"xlinkActuate":Ue(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ue(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ue(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ue(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ue(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ue(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ue(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ue(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ue(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ji(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=xc.get(r)||r,ji(t,r,l))}}function uf(t,n,r,l,c,f){switch(r){case"style":Hs(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"children":typeof l=="string"?pn(t,l):(typeof l=="number"||typeof l=="bigint")&&pn(t,""+l);break;case"onScroll":l!=null&&xt("scroll",t);break;case"onScrollEnd":l!=null&&xt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Ao);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_a.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),f=t[me]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,c);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):ji(t,r,l)}}}function Be(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xt("error",t),xt("load",t);var l=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var _=r[f];if(_!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Xt(t,n,f,_,r,null)}}c&&Xt(t,n,"srcSet",r.srcSet,r,null),l&&Xt(t,n,"src",r.src,r,null);return;case"input":xt("invalid",t);var E=f=_=c=null,C=null,B=null;for(l in r)if(r.hasOwnProperty(l)){var $=r[l];if($!=null)switch(l){case"name":c=$;break;case"type":_=$;break;case"checked":C=$;break;case"defaultChecked":B=$;break;case"value":f=$;break;case"defaultValue":E=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,n));break;default:Xt(t,n,l,$,r,null)}}Lr(t,f,E,C,B,_,c,!1),Aa(t);return;case"select":xt("invalid",t),l=_=f=null;for(c in r)if(r.hasOwnProperty(c)&&(E=r[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":_=E;break;case"multiple":l=E;default:Xt(t,n,c,E,r,null)}n=f,r=_,t.multiple=!!l,n!=null?ci(t,!!l,n,!1):r!=null&&ci(t,!!l,r,!0);return;case"textarea":xt("invalid",t),f=c=l=null;for(_ in r)if(r.hasOwnProperty(_)&&(E=r[_],E!=null))switch(_){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Xt(t,n,_,E,r,null)}zr(t,l,c,f),Aa(t);return;case"option":for(C in r)if(r.hasOwnProperty(C)&&(l=r[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Xt(t,n,C,l,r,null)}return;case"dialog":xt("beforetoggle",t),xt("toggle",t),xt("cancel",t),xt("close",t);break;case"iframe":case"object":xt("load",t);break;case"video":case"audio":for(l=0;l<Cl.length;l++)xt(Cl[l],t);break;case"image":xt("error",t),xt("load",t);break;case"details":xt("toggle",t);break;case"embed":case"source":case"link":xt("error",t),xt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in r)if(r.hasOwnProperty(B)&&(l=r[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Xt(t,n,B,l,r,null)}return;default:if(Gs(n)){for($ in r)r.hasOwnProperty($)&&(l=r[$],l!==void 0&&uf(t,n,$,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&Xt(t,n,E,l,r,null))}function sE(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,_=null,E=null,C=null,B=null,$=null;for(H in r){var W=r[H];if(r.hasOwnProperty(H)&&W!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":C=W;default:l.hasOwnProperty(H)||Xt(t,n,H,null,l,W)}}for(var k in l){var H=l[k];if(W=r[k],l.hasOwnProperty(k)&&(H!=null||W!=null))switch(k){case"type":f=H;break;case"name":c=H;break;case"checked":B=H;break;case"defaultChecked":$=H;break;case"value":_=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,n));break;default:H!==W&&Xt(t,n,k,H,l,W)}}sn(t,_,E,C,B,$,f,c);return;case"select":H=_=E=k=null;for(f in r)if(C=r[f],r.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":H=C;default:l.hasOwnProperty(f)||Xt(t,n,f,null,l,C)}for(c in l)if(f=l[c],C=r[c],l.hasOwnProperty(c)&&(f!=null||C!=null))switch(c){case"value":k=f;break;case"defaultValue":E=f;break;case"multiple":_=f;default:f!==C&&Xt(t,n,c,f,l,C)}n=E,r=_,l=H,k!=null?ci(t,!!r,k,!1):!!l!=!!r&&(n!=null?ci(t,!!r,n,!0):ci(t,!!r,r?[]:"",!1));return;case"textarea":H=k=null;for(E in r)if(c=r[E],r.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Xt(t,n,E,null,l,c)}for(_ in l)if(c=l[_],f=r[_],l.hasOwnProperty(_)&&(c!=null||f!=null))switch(_){case"value":k=c;break;case"defaultValue":H=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==f&&Xt(t,n,_,c,l,f)}Ft(t,k,H);return;case"option":for(var Et in r)if(k=r[Et],r.hasOwnProperty(Et)&&k!=null&&!l.hasOwnProperty(Et))switch(Et){case"selected":t.selected=!1;break;default:Xt(t,n,Et,null,l,k)}for(C in l)if(k=l[C],H=r[C],l.hasOwnProperty(C)&&k!==H&&(k!=null||H!=null))switch(C){case"selected":t.selected=k&&typeof k!="function"&&typeof k!="symbol";break;default:Xt(t,n,C,k,l,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in r)k=r[yt],r.hasOwnProperty(yt)&&k!=null&&!l.hasOwnProperty(yt)&&Xt(t,n,yt,null,l,k);for(B in l)if(k=l[B],H=r[B],l.hasOwnProperty(B)&&k!==H&&(k!=null||H!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(s(137,n));break;default:Xt(t,n,B,k,l,H)}return;default:if(Gs(n)){for(var $t in r)k=r[$t],r.hasOwnProperty($t)&&k!==void 0&&!l.hasOwnProperty($t)&&uf(t,n,$t,void 0,l,k);for($ in l)k=l[$],H=r[$],!l.hasOwnProperty($)||k===H||k===void 0&&H===void 0||uf(t,n,$,k,l,H);return}}for(var U in r)k=r[U],r.hasOwnProperty(U)&&k!=null&&!l.hasOwnProperty(U)&&Xt(t,n,U,null,l,k);for(W in l)k=l[W],H=r[W],!l.hasOwnProperty(W)||k===H||k==null&&H==null||Xt(t,n,W,k,l,H)}var of=null,cf=null;function bo(t){return t.nodeType===9?t:t.ownerDocument}function Vp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ip(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function hf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var ff=null;function lE(){var t=window.event;return t&&t.type==="popstate"?t===ff?!1:(ff=t,!0):(ff=null,!1)}var Mp=typeof setTimeout=="function"?setTimeout:void 0,uE=typeof clearTimeout=="function"?clearTimeout:void 0,Up=typeof Promise=="function"?Promise:void 0,oE=typeof queueMicrotask=="function"?queueMicrotask:typeof Up<"u"?function(t){return Up.resolve(null).then(t).catch(cE)}:Mp;function cE(t){setTimeout(function(){throw t})}function rr(t){return t==="head"}function Lp(t,n){var r=n,l=0,c=0;do{var f=r.nextSibling;if(t.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(0<l&&8>l){r=l;var _=t.ownerDocument;if(r&1&&Nl(_.documentElement),r&2&&Nl(_.body),r&4)for(r=_.head,Nl(r),_=r.firstChild;_;){var E=_.nextSibling,C=_.nodeName;_[Vr]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&_.rel.toLowerCase()==="stylesheet"||r.removeChild(_),_=E}}if(c===0){t.removeChild(f),zl(n);return}c--}else r==="$"||r==="$?"||r==="$!"?c++:l=r.charCodeAt(0)-48;else l=0;r=f}while(r);zl(n)}function df(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":df(r),Bi(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function hE(t,n,r,l){for(;t.nodeType===1;){var c=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Vr])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Vn(t.nextSibling),t===null)break}return null}function fE(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Vn(t.nextSibling),t===null))return null;return t}function mf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function dE(t,n){var r=t.ownerDocument;if(t.data!=="$?"||r.readyState==="complete")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Vn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var gf=null;function zp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function Pp(t,n,r){switch(n=bo(r),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Nl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Bi(t)}var wn=new Map,Bp=new Set;function Ro(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ni=lt.d;lt.d={f:mE,r:gE,D:pE,C:yE,L:vE,m:_E,X:TE,S:EE,M:SE};function mE(){var t=Ni.f(),n=po();return t||n}function gE(t){var n=Ln(t);n!==null&&n.tag===5&&n.type==="form"?ag(n):Ni.r(t)}var rs=typeof document>"u"?null:document;function jp(t,n,r){var l=rs;if(l&&typeof n=="string"&&n){var c=ge(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),Bp.has(c)||(Bp.add(c),t={rel:t,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Be(n,"link",t),oe(n),l.head.appendChild(n)))}}function pE(t){Ni.D(t),jp("dns-prefetch",t,null)}function yE(t,n){Ni.C(t,n),jp("preconnect",t,n)}function vE(t,n,r){Ni.L(t,n,r);var l=rs;if(l&&t&&n){var c='link[rel="preload"][as="'+ge(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+ge(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+ge(r.imageSizes)+'"]')):c+='[href="'+ge(t)+'"]';var f=c;switch(n){case"style":f=as(t);break;case"script":f=ss(t)}wn.has(f)||(t=T({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),wn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(xl(f))||n==="script"&&l.querySelector(Ol(f))||(n=l.createElement("link"),Be(n,"link",t),oe(n),l.head.appendChild(n)))}}function _E(t,n){Ni.m(t,n);var r=rs;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+ge(l)+'"][href="'+ge(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ss(t)}if(!wn.has(f)&&(t=T({rel:"modulepreload",href:t},n),wn.set(f,t),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Ol(f)))return}l=r.createElement("link"),Be(l,"link",t),oe(l),r.head.appendChild(l)}}}function EE(t,n,r){Ni.S(t,n,r);var l=rs;if(l&&t){var c=Ke(l).hoistableStyles,f=as(t);n=n||"default";var _=c.get(f);if(!_){var E={loading:0,preload:null};if(_=l.querySelector(xl(f)))E.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":n},r),(r=wn.get(f))&&pf(t,r);var C=_=l.createElement("link");oe(C),Be(C,"link",t),C._p=new Promise(function(B,$){C.onload=B,C.onerror=$}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,wo(_,n,l)}_={type:"stylesheet",instance:_,count:1,state:E},c.set(f,_)}}}function TE(t,n){Ni.X(t,n);var r=rs;if(r&&t){var l=Ke(r).hoistableScripts,c=ss(t),f=l.get(c);f||(f=r.querySelector(Ol(c)),f||(t=T({src:t,async:!0},n),(n=wn.get(c))&&yf(t,n),f=r.createElement("script"),oe(f),Be(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function SE(t,n){Ni.M(t,n);var r=rs;if(r&&t){var l=Ke(r).hoistableScripts,c=ss(t),f=l.get(c);f||(f=r.querySelector(Ol(c)),f||(t=T({src:t,async:!0,type:"module"},n),(n=wn.get(c))&&yf(t,n),f=r.createElement("script"),oe(f),Be(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function kp(t,n,r,l){var c=(c=Tt.current)?Ro(c):null;if(!c)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=as(r.href),r=Ke(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=as(r.href);var f=Ke(c).hoistableStyles,_=f.get(t);if(_||(c=c.ownerDocument||c,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,_),(f=c.querySelector(xl(t)))&&!f._p&&(_.instance=f,_.state.loading=5),wn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},wn.set(t,r),f||AE(c,t,r,_.state))),n&&l===null)throw Error(s(528,""));return _}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ss(r),r=Ke(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function as(t){return'href="'+ge(t)+'"'}function xl(t){return'link[rel="stylesheet"]['+t+"]"}function qp(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function AE(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Be(n,"link",r),oe(n),t.head.appendChild(n))}function ss(t){return'[src="'+ge(t)+'"]'}function Ol(t){return"script[async]"+t}function Hp(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+ge(r.href)+'"]');if(l)return n.instance=l,oe(l),l;var c=T({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),oe(l),Be(l,"style",c),wo(l,r.precedence,t),n.instance=l;case"stylesheet":c=as(r.href);var f=t.querySelector(xl(c));if(f)return n.state.loading|=4,n.instance=f,oe(f),f;l=qp(r),(c=wn.get(c))&&pf(l,c),f=(t.ownerDocument||t).createElement("link"),oe(f);var _=f;return _._p=new Promise(function(E,C){_.onload=E,_.onerror=C}),Be(f,"link",l),n.state.loading|=4,wo(f,r.precedence,t),n.instance=f;case"script":return f=ss(r.src),(c=t.querySelector(Ol(f)))?(n.instance=c,oe(c),c):(l=r,(c=wn.get(f))&&(l=T({},r),yf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),oe(c),Be(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,wo(l,r.precedence,t));return n.instance}function wo(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,_=0;_<l.length;_++){var E=l[_];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function pf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function yf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Co=null;function Gp(t,n,r){if(Co===null){var l=new Map,c=Co=new Map;c.set(r,l)}else c=Co,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),c=0;c<r.length;c++){var f=r[c];if(!(f[Vr]||f[Te]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var _=f.getAttribute(n)||"";_=t+_;var E=l.get(_);E?E.push(f):l.set(_,[f])}}return l}function Qp(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function bE(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Yp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Vl=null;function RE(){}function wE(t,n,r){if(Vl===null)throw Error(s(475));var l=Vl;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=as(r.href),f=t.querySelector(xl(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Do.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,oe(f);return}f=t.ownerDocument||t,r=qp(r),(c=wn.get(c))&&pf(r,c),f=f.createElement("link"),oe(f);var _=f;_._p=new Promise(function(E,C){_.onload=E,_.onerror=C}),Be(f,"link",r),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=Do.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function CE(){if(Vl===null)throw Error(s(475));var t=Vl;return t.stylesheets&&t.count===0&&vf(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&vf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function Do(){if(this.count--,this.count===0){if(this.stylesheets)vf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var No=null;function vf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,No=new Map,n.forEach(DE,t),No=null,Do.call(t))}function DE(t,n){if(!(n.state.loading&4)){var r=No.get(t);if(r)var l=r.get(null);else{r=new Map,No.set(t,r);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var _=c[f];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(r.set(_.dataset.precedence,_),l=_)}l&&r.set(null,l)}c=n.instance,_=c.getAttribute("data-precedence"),f=r.get(_)||l,f===l&&r.set(null,c),r.set(_,c),this.count++,l=Do.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Il={$$typeof:J,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function NE(t,n,r,l,c,f,_,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ai(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ai(0),this.hiddenUpdates=ai(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Fp(t,n,r,l,c,f,_,E,C,B,$,W){return t=new NE(t,n,r,_,E,C,B,W),n=1,f===!0&&(n|=24),f=un(3,null,null,n),t.current=f,f.stateNode=t,n=Jc(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},nh(f),t}function Kp(t){return t?(t=za,t):za}function Xp(t,n,r,l,c,f){c=Kp(c),l.context===null?l.context=c:l.pendingContext=c,l=Qi(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=Yi(t,l,n),r!==null&&(dn(r,t,n),ol(r,t,n))}function $p(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function _f(t,n){$p(t,n),(t=t.alternate)&&$p(t,n)}function Zp(t){if(t.tag===13){var n=La(t,67108864);n!==null&&dn(n,t,67108864),_f(t,67108864)}}var xo=!0;function xE(t,n,r,l){var c=K.T;K.T=null;var f=lt.p;try{lt.p=2,Ef(t,n,r,l)}finally{lt.p=f,K.T=c}}function OE(t,n,r,l){var c=K.T;K.T=null;var f=lt.p;try{lt.p=8,Ef(t,n,r,l)}finally{lt.p=f,K.T=c}}function Ef(t,n,r,l){if(xo){var c=Tf(l);if(c===null)lf(t,n,l,Oo,r),Wp(t,l);else if(IE(c,t,n,r,l))l.stopPropagation();else if(Wp(t,l),n&4&&-1<VE.indexOf(t)){for(;c!==null;){var f=Ln(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var _=Cn(f.pendingLanes);if(_!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;_;){var C=1<<31-qe(_);E.entanglements[1]|=C,_&=~C}$n(f),(Qt&6)===0&&(mo=mn()+500,wl(0))}}break;case 13:E=La(f,2),E!==null&&dn(E,f,2),po(),_f(f,2)}if(f=Tf(l),f===null&&lf(t,n,l,Oo,r),f===c)break;c=f}c!==null&&l.stopPropagation()}else lf(t,n,l,null,r)}}function Tf(t){return t=yn(t),Sf(t)}var Oo=null;function Sf(t){if(Oo=null,t=li(t),t!==null){var n=h(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Oo=t,null}function Jp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(bc()){case Os:return 2;case ga:return 8;case Cr:case Rc:return 32;case pa:return 268435456;default:return 32}default:return 32}}var Af=!1,ar=null,sr=null,lr=null,Ml=new Map,Ul=new Map,ur=[],VE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Wp(t,n){switch(t){case"focusin":case"focusout":ar=null;break;case"dragenter":case"dragleave":sr=null;break;case"mouseover":case"mouseout":lr=null;break;case"pointerover":case"pointerout":Ml.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ul.delete(n.pointerId)}}function Ll(t,n,r,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=Ln(n),n!==null&&Zp(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function IE(t,n,r,l,c){switch(n){case"focusin":return ar=Ll(ar,t,n,r,l,c),!0;case"dragenter":return sr=Ll(sr,t,n,r,l,c),!0;case"mouseover":return lr=Ll(lr,t,n,r,l,c),!0;case"pointerover":var f=c.pointerId;return Ml.set(f,Ll(Ml.get(f)||null,t,n,r,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Ul.set(f,Ll(Ul.get(f)||null,t,n,r,l,c)),!0}return!1}function ty(t){var n=li(t.target);if(n!==null){var r=h(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,gu(t.priority,function(){if(r.tag===13){var l=fn();l=Li(l);var c=La(r,l);c!==null&&dn(c,r,l),_f(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Vo(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Tf(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);hi=l,r.target.dispatchEvent(l),hi=null}else return n=Ln(r),n!==null&&Zp(n),t.blockedOn=r,!1;n.shift()}return!0}function ey(t,n,r){Vo(t)&&r.delete(n)}function ME(){Af=!1,ar!==null&&Vo(ar)&&(ar=null),sr!==null&&Vo(sr)&&(sr=null),lr!==null&&Vo(lr)&&(lr=null),Ml.forEach(ey),Ul.forEach(ey)}function Io(t,n){t.blockedOn===n&&(t.blockedOn=null,Af||(Af=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,ME)))}var Mo=null;function ny(t){Mo!==t&&(Mo=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Mo===t&&(Mo=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(Sf(l||r)===null)continue;break}var f=Ln(r);f!==null&&(t.splice(n,3),n-=3,Th(f,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function zl(t){function n(C){return Io(C,t)}ar!==null&&Io(ar,t),sr!==null&&Io(sr,t),lr!==null&&Io(lr,t),Ml.forEach(n),Ul.forEach(n);for(var r=0;r<ur.length;r++){var l=ur[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ur.length&&(r=ur[0],r.blockedOn===null);)ty(r),r.blockedOn===null&&ur.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],f=r[l+1],_=c[me]||null;if(typeof f=="function")_||ny(r);else if(_){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,_=f[me]||null)E=_.formAction;else if(Sf(c)!==null)continue}else E=_.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),ny(r)}}}function bf(t){this._internalRoot=t}Uo.prototype.render=bf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var r=n.current,l=fn();Xp(r,l,t,n,null,null)},Uo.prototype.unmount=bf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Xp(t.current,2,null,t,null,null),po(),n[gn]=null}};function Uo(t){this._internalRoot=t}Uo.prototype.unstable_scheduleHydration=function(t){if(t){var n=zi();t={blockedOn:null,target:t,priority:n};for(var r=0;r<ur.length&&n!==0&&n<ur[r].priority;r++);ur.splice(r,0,t),r===0&&ty(t)}};var iy=e.version;if(iy!=="19.1.0")throw Error(s(527,iy,"19.1.0"));lt.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=y(n),t=t!==null?p(t):null,t=t===null?null:t.stateNode,t};var UE={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lo.isDisabled&&Lo.supportsFiber)try{se=Lo.inject(UE),Gt=Lo}catch{}}return kl.createRoot=function(t,n){if(!u(t))throw Error(s(299));var r=!1,l="",c=_g,f=Eg,_=Tg,E=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=Fp(t,1,!1,null,null,r,l,c,f,_,E,null),t[gn]=n.current,sf(t),new bf(n)},kl.hydrateRoot=function(t,n,r){if(!u(t))throw Error(s(299));var l=!1,c="",f=_g,_=Eg,E=Tg,C=null,B=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(_=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(C=r.unstable_transitionCallbacks),r.formState!==void 0&&(B=r.formState)),n=Fp(t,1,!0,n,r??null,l,c,f,_,E,C,B),n.context=Kp(null),r=n.current,l=fn(),l=Li(l),c=Qi(l),c.callback=null,Yi(r,c,l),r=l,n.current.lanes=r,si(n,r),$n(n),t[gn]=n.current,sf(t),new Uo(n)},kl.version="19.1.0",kl}var _y;function p1(){if(_y)return xf.exports;_y=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),xf.exports=g1(),xf.exports}var y1=p1();const v1=zE(y1);function _1(){const a=da();return G.jsxs("div",{className:"landing-page",children:[G.jsxs("header",{className:"landing-header",children:[G.jsx("span",{className:"game-genie-text",children:"Game Genie"}),G.jsx("button",{className:"signup-button",onClick:()=>a("/signup"),children:G.jsx("img",{src:"/signup2.png",alt:"singup"})})]}),G.jsxs("div",{className:"boxes-container",children:[G.jsx("div",{className:"box top-box",children:"start your"}),G.jsxs("div",{className:"box middle-box",children:["Learning",G.jsx("br",{}),"Adventure"]}),G.jsx("div",{className:"box bottom-box",children:"Where learning math, reading and coding feels like play.âœ§Ë–Â°."})]}),G.jsx("button",{className:"quickplay-button",onClick:()=>a("/select-level"),children:G.jsx("img",{src:"/quickplay.png",alt:"quickplay"})})]})}function E1({letter:a,status:e}){const[i,s]=q.useState(!1);return q.useEffect(()=>{if(e!=="empty"&&e!=="filled"){s(!0);const u=setTimeout(()=>s(!1),300);return()=>clearTimeout(u)}},[e]),G.jsx("div",{className:`tile ${e} ${i?"animate-flip":""}`,children:a})}function T1({gameId:a,setGameId:e,setGameStatus:i,setHint:s,setExplanation:u,wordLength:h,onKeyPress:d,onGoHome:g,resetKeyBoard:y,setKeyStatuses:p,explanation:T,gridKeyPressRef:D,setGameMessage:b,setGuessCount:j,targetWord:L,setIsActualHint:X}){const[Y,Q]=q.useState(()=>h?Array(6).fill().map(()=>Array(h).fill({letter:"",status:"empty"})):[]),[nt,J]=q.useState(0),[rt,ut]=q.useState(""),[ct,N]=q.useState("active"),A=["You're doing great, keep it up!","Awesome effort, try again!","You're so close, give it another go!","Keep guessing, you're learning fast!","Super try, let's get that word!","You're rocking it, one more guess!","Great job, stay focused!","You're a word wizard, keep going!","Fantastic attempt, try another!","You're getting better with every guess!"];q.useEffect(()=>{h&&Q(Array(6).fill().map(()=>Array(h).fill({letter:"",status:"empty"})))},[h]);const R=(O,M)=>{if(ct==="active"){if(O==="BACKSPACE"){ut(w=>w.slice(0,-1)),Q(w=>{const Rt=[...w];Rt[nt]=[...Rt[nt]];const Pt=w[nt].findLastIndex(K=>K.letter!=="");return Rt[nt][Pt>=0?Pt:0]={letter:"",status:"empty"},Rt}),d(O,"empty");return}if(O==="ENTER"){V();return}rt.length<h&&/^[A-Za-z]$/.test(O)&&(ut(w=>w+O.toUpperCase()),Q(w=>{const Rt=[...w];return Rt[nt]=[...Rt[nt]],Rt[nt][rt.length]={letter:O.toUpperCase(),status:"empty"},Rt}),d(O.toUpperCase(),"empty"))}};q.useEffect(()=>(D.current=R,()=>{D.current=null}),[D,R]);const V=async()=>{if(j(nt+1),!(rt.length!==h||ct!=="active"))try{const M=await(await fetch("http://localhost:3000/api/openai/guess",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({gameId:a,guess:rt})})).json();if(M.error)throw new Error(M.error);const w=[...Y];if(w[nt]=rt.split("").map((Rt,Pt)=>({letter:Rt,status:M.feedback[Pt]})),Q(w),J(nt+1),ut(""),N(M.status),i(M.status),rt.split("").forEach((Rt,Pt)=>{d(Rt.toUpperCase(),M.feedback[Pt])}),M.status!=="active")b(M.status==="won"?`ðŸŽ‰ Congratulations! You guessed "${L}"!`:`Nice try! The word was "${L}".`),X(!1);else if(nt===0||nt===1||nt===3||nt===5){const Rt=A[Math.floor(Math.random()*A.length)];s(Rt),X(!1)}else if(nt===2){const K=await(await fetch("http://localhost:3000/api/openai/hint",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({gameId:a,hintLevel:1})})).json();s(K.hint),X(!0)}else if(nt===4){const K=await(await fetch("http://localhost:3000/api/openai/hint",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({gameId:a,hintLevel:2})})).json();s(K.hint),X(!0)}}catch(O){console.error("Error submitting guess:",O)}};return q.useEffect(()=>{const O=M=>{M.key==="Backspace"?R("BACKSPACE"):M.key==="Enter"?R("ENTER"):/^[A-Za-z]$/.test(M.key)&&R(M.key.toUpperCase())};return window.addEventListener("keydown",O),()=>window.removeEventListener("keydown",O)},[R]),G.jsx("div",{className:`grid grid-cols-${h}`,children:Y.map((O,M)=>O.map((w,Rt)=>G.jsx(E1,{letter:w.letter,status:w.status},`${M}-${Rt}`)))})}function S1({keyStatuses:a,onKeyPress:e}){const i=[["Q","W","E","R","T","Y","U","I","O","P"],["A","S","D","F","G","H","J","K","L"],["Enter","Z","X","C","V","B","N","M","Backspace"]],s=u=>a[u.toUpperCase()]||"unused";return G.jsx("div",{className:"keyboard",children:i.map((u,h)=>G.jsx("div",{className:"keyboard-row",children:u.map(d=>G.jsx("button",{className:`keyboard-key ${d.toLowerCase()} ${s(d)}`,onClick:()=>e(d==="Enter"||d==="Backspace"?d:d.toUpperCase(),"empty"),children:d==="Backspace"?"âŒ«":d},d))},h))})}function Ed({onClick:a}){return G.jsx("button",{className:"go-back-button",onClick:a,children:G.jsx("img",{src:"/goback.png",alt:"go-back-img"})})}function Td(){const a=da();return G.jsx("button",{className:"settings-button",onClick:()=>a("/signup"),children:G.jsx("img",{src:"/settings.png",alt:"Settings",className:"settings-image"})})}function A1({onKeyPress:a,keyStatuses:e,resetKeyStatuses:i,gameId:s,setGameId:u,setGameStatus:h,setHint:d,setExplanation:g,wordLength:y,setWordLength:p,gameStatus:T,setKeyStatuses:D,gridKeyPressRef:b}){const j=da(),[L,X]=q.useState(""),[Y,Q]=q.useState(""),[nt,J]=q.useState(""),[rt,ut]=q.useState("Welcome to Game Genie, guess a word and I will help u get it right. U got this!"),[ct,N]=q.useState(!1),[A,R]=q.useState(0),[V,O]=q.useState(""),[M,w]=q.useState(!1);q.useEffect(()=>{fetch("http://localhost:3000/api/openai/start",{method:"POST"}).then(ft=>ft.json()).then(ft=>{u(ft.gameId),p(ft.wordLength),h("active"),i(),Q(ft.explanation),g(ft.explanation),J(""),X(""),ut("Welcome to Game Genie, give us your best guess! I will be here to help you along the way!!"),N(!0),R(0),O(ft.word),w(!1)}).catch(ft=>console.error("Error starting game:",ft))},[]);const Rt=()=>{i(),j("/select-level")},Pt=()=>{i(),j("/")};if(!ct)return G.jsx("div",{className:"loading-container",children:G.jsx("h1",{className:"loading-text",children:"Game Loading..."})});const[K,lt]=Y?Y.split(`
`):["",""];return G.jsxs("div",{className:"game-page",children:[G.jsxs("header",{className:"game-page-header",children:[G.jsx(Ed,{onClick:Rt}),G.jsx(Td,{})]}),G.jsxs("div",{className:"game-container",children:[G.jsx(T1,{onKeyPress:a,onGoHome:Pt,resetKeyBoard:i,gameId:s,setGameId:u,setGameStatus:h,setHint:X,setExplanation:Q,wordLength:y,setKeyStatuses:D,explanation:Y,gridKeyPressRef:b,setGameMessage:J,setGuessCount:R,targetWord:V,setIsActualHint:w}),G.jsxs("div",{className:"genie-container",children:[G.jsx("img",{src:"/genie3.png",alt:"genie",className:"genie-image"}),G.jsx("div",{className:"text-box",children:T!=="active"?G.jsxs("div",{className:"genie-text2 explanation-visible",children:[G.jsx("p",{className:"game-message",children:nt||"Loading"}),G.jsxs("p",{className:"genie-definition",children:[G.jsx("strong",{children:"Definition:"})," ",K||"Loading"]}),G.jsxs("p",{className:"genie-example",children:[G.jsx("strong",{children:"Example:"})," ",lt||"Loading"]}),G.jsx("button",{className:"next-button",onClick:()=>{j("/rewards",{state:{guessCount:A,points:nt.startsWith("Nice")?0:A<=3?30:A<=5?20:10,gameId:s,targetWord:V}})},children:G.jsx("img",{src:"/next-button.png",alt:"next",className:"next-image"})})]}):G.jsxs(G.Fragment,{children:[G.jsx("span",{className:"genie-text",children:L?G.jsx("div",{className:"hint-container",children:G.jsxs(G.Fragment,{children:[M?G.jsx("span",{className:"hint-prefix",children:"Here's a Hint..."}):G.jsx("span",{className:"encourage-prefix",children:"Keep Going!"}),G.jsx("span",{children:L})]})}):G.jsxs("div",{className:"welcome-container",children:[G.jsx("span",{className:"welcome-prefix",children:"Welcome"}),G.jsx("span",{children:rt})]})}),G.jsxs("div",{className:"explanation-hidden",children:[G.jsx("p",{className:"game-message",children:nt||"Game over!"}),G.jsxs("p",{className:"genie-definition",children:[G.jsx("strong",{children:"Definition:"})," ",K||"No definition available"]}),G.jsxs("p",{className:"genie-example",children:[G.jsx("strong",{children:"Example:"})," ",lt||"No example available"]})]})]})})]})]}),G.jsx("div",{className:"keyboard-container",children:G.jsx(S1,{keyStatuses:e,onKeyPress:a})})]})}function b1(){const a=da();return G.jsxs("div",{className:"signup-page",children:[G.jsxs("header",{className:"header",children:[G.jsx("div",{className:"header-placeholder"}),G.jsx("h1",{className:"header-title",children:"Signup"}),G.jsx("div",{className:"header-buttons",children:G.jsx("button",{className:"header-button2",title:"Back",onClick:()=>a("/game"),children:"âŸµ"})})]}),G.jsx("h1",{children:"Signup Page"}),G.jsx("p",{children:"This is where the signup form will go."})]})}function R1(){const a=da();return G.jsxs("div",{className:"select-level-page",children:[G.jsxs("header",{className:"select-level-header",children:[G.jsx(Ed,{onClick:()=>a("/")}),G.jsx(Td,{})]}),G.jsxs("div",{className:"text-and-buttons",children:[G.jsx("div",{className:"select-text",children:"Select"}),G.jsx("div",{className:"grade-text",children:"Grade"}),G.jsx("button",{className:"beginner",onClick:()=>a("/game"),children:G.jsx("img",{src:"/beginner.png",alt:"beginner-image"})}),G.jsx("button",{className:"intermediate",onClick:()=>a("/game"),children:G.jsx("img",{src:"/intermediate.png",alt:"intermediate-image"})}),G.jsx("button",{className:"advanced",onClick:()=>a("/game"),children:G.jsx("img",{src:"/advanced.png",alt:"advanced-image"})})]})]})}function w1({gameId:a,targetWord:e,onResult:i}){const[s,u]=q.useState([]),[h,d]=q.useState([[],[],[]]),[g,y]=q.useState(""),[p,T]=q.useState(0),[D,b]=q.useState(null),[j,L]=q.useState([]);q.useEffect(()=>{fetch("http://localhost:3000/api/openai/unscramble",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({gameId:a})}).then(J=>J.json()).then(J=>{if(J.error)throw new Error(J.error);const rt=J.scrambled.split(" ");u(rt),y(J.sentence),L(rt.map((ut,ct)=>ct))}).catch(J=>console.error("Error fetching sentence:",J))},[a]);const X=J=>{if(D===J){u(ct=>[...ct,s[J]]),u(ct=>ct.filter((N,A)=>A!==J)),b(null);return}let rt=0,ut=0;for(let ct=0;ct<h.length;ct++)if(h[ct].length<3){rt=ct,ut=h[ct].length;break}ut<3&&(d(ct=>{const N=[...ct];return N[rt]=[...N[rt],s[J]],N}),u(ct=>ct.filter((N,A)=>A!==J)),b(null))},Y=(J,rt)=>{const ut=h[J][rt],ct=j.findIndex((N,A)=>s[A]===ut);u(N=>{const A=[...N];return A.splice(ct,0,ut),A}),d(N=>{const A=[...N];return A[J]=A[J].filter((R,V)=>V!==rt),A})},Q=()=>{const rt=h.flat().join(" ")===g;T(p+1),i(rt,p+1,g),!rt&&p<2&&(d([[],[],[]]),u(g.split(" ").sort(()=>Math.random()-.5)))},nt=(J,rt,ut)=>{let ct=40;for(let N=0;N<rt;N++){const A=ut[J][N];ct+=A.length*10+20+20}return ct};return G.jsxs("div",{className:"unscramble-comp",children:[G.jsx("img",{src:"/unscramble-image.png",alt:"unscramble",className:"unscramble-img"}),G.jsxs("div",{className:"word-bank",children:[G.jsx("img",{src:"/word-bank.png",alt:"word-bank",className:"word-bank-img"}),G.jsx("div",{className:"word-bank-words",children:s.map((J,rt)=>G.jsx("span",{className:"word",onClick:()=>X(rt),style:{"--word-width":`${J.length*10+20}px`},children:J},rt))})]}),G.jsx("div",{className:"lines-container",children:h.map((J,rt)=>G.jsx("div",{className:`line line-${rt+1}`,children:J.map((ut,ct)=>G.jsx("span",{className:"word placed",style:{"--word-width":`${ut.length*10+20}px`,"--cumulative-width":`${nt(rt,ct,h)}px`,"--prev-width-1":ct>0?`${h[rt][ct-1].length*10+20}px`:"0px","--prev-width-2":ct>1?`${h[rt][ct-2].length*10+20}px`:"0px"},onClick:()=>Y(rt,ct),children:ut},ct))},rt))}),G.jsx("button",{className:"check-button",onClick:Q,children:G.jsx("img",{src:"/check.png",alt:""})})]})}function C1(){const a=da(),{state:e}=Ar(),{guessCount:i=0,points:s=0,gameId:u="",targetWord:h=""}=e||{},[d,g]=q.useState(!1),[y,p]=q.useState(!1),[T,D]=q.useState(s),[b,j]=q.useState(""),[L,X]=q.useState("Well done! You have a chance to double your reward points, if you are interested, click on the sparkle button."),Y=(nt,J,rt)=>{nt?(D(s*2),X("Awesome! You unscrambled it correctly and doubled your points! Choose what you would like to do next!"),setTimeout(()=>{g(!0),setTimeout(()=>{p(!1),g(!1)},800)},50)):J>=3?(j(rt),X("Unfortunately you used all 3 attempts. Returning to rewards."),setTimeout(()=>{g(!0),setTimeout(()=>{p(!1),g(!1)},500)},50)):3-J==1?X("Incorrect! You have 1 try left."):X(`Incorrect! You have ${3-J} tries left.`)},Q=()=>L.startsWith("Welcome")?G.jsx("span",{className:"bonus",children:"Bonus Challenge!"}):L.startsWith("Awesome")?G.jsx("span",{className:"good-job",children:"Good Job!"}):L.startsWith("Incorrect")?G.jsx("span",{className:"try-again",children:"Try Again!"}):L.startsWith("Well")?G.jsx("span",{className:"well",children:"Good Game!"}):G.jsx("span",{className:"maybe-next-time",children:"Maybe Next Time!"});return G.jsxs("div",{className:"rewards-page",children:[G.jsxs("header",{className:"rewards-page-header",children:[G.jsx(Ed,{onClick:()=>a("/game")}),G.jsx(Td,{})]}),G.jsxs("div",{className:"rewards-container",children:[G.jsxs("div",{className:"show-points",children:[G.jsx("span",{className:"points",children:T}),G.jsx("img",{src:"/coin.png",alt:"coin",className:"coin-image"})]}),G.jsxs("div",{className:"genie-container2",children:[G.jsx("img",{src:"/genie3.png",alt:"genie-image",className:"genie-image2"}),G.jsx("div",{className:"text-box2",children:G.jsxs("div",{className:"genie-text3",children:[Q(),G.jsx("span",{children:L}),L.startsWith("Unfortunately")&&G.jsxs("div",{className:"correct",children:[G.jsx("strong",{children:"Correct: "}),G.jsx("p",{className:"correct-sentence",children:b})]})]})})]}),G.jsx("div",{className:"rewards-component",children:y?G.jsx(w1,{gameId:u,targetWord:h,onResult:Y}):G.jsxs(G.Fragment,{children:[G.jsx("img",{src:"/rewards.png",alt:"rewards",className:`rewards-image ${d?"flip":""}`}),G.jsxs("p",{className:`rewards-tries ${d?"flip":""}`,children:[" ",i," "]}),G.jsxs("p",{className:`rewards-points ${d?"flip":""}`,children:["+ ",T]}),G.jsxs("div",{className:"reward-buttons",children:[G.jsx("button",{className:`sparkle-button ${d?"flip":""}`,onClick:()=>{X("Welcome to the Bonus Challenge, click on the word tiles to place it and click again to remove it!"),g(!0),setTimeout(()=>{p(!0),g(!1)},500)},children:G.jsx("img",{src:"/sparkle.png",alt:"sparkle",className:"sparkle-image"})}),G.jsx("button",{className:`new-game-button ${d?"flip":""}`,onClick:()=>a("/game"),children:G.jsx("img",{src:"skip-image.png",alt:"flip",className:"skip-image"})}),G.jsx("button",{className:`home-button ${d?"flip":""}`,onClick:()=>a("/"),children:G.jsx("img",{src:"/home-image.png",alt:"home",className:"home-image"})})]})]})})]})]})}const D1=()=>{};var Ey={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv=function(a){const e=[];let i=0;for(let s=0;s<a.length;s++){let u=a.charCodeAt(s);u<128?e[i++]=u:u<2048?(e[i++]=u>>6|192,e[i++]=u&63|128):(u&64512)===55296&&s+1<a.length&&(a.charCodeAt(s+1)&64512)===56320?(u=65536+((u&1023)<<10)+(a.charCodeAt(++s)&1023),e[i++]=u>>18|240,e[i++]=u>>12&63|128,e[i++]=u>>6&63|128,e[i++]=u&63|128):(e[i++]=u>>12|224,e[i++]=u>>6&63|128,e[i++]=u&63|128)}return e},N1=function(a){const e=[];let i=0,s=0;for(;i<a.length;){const u=a[i++];if(u<128)e[s++]=String.fromCharCode(u);else if(u>191&&u<224){const h=a[i++];e[s++]=String.fromCharCode((u&31)<<6|h&63)}else if(u>239&&u<365){const h=a[i++],d=a[i++],g=a[i++],y=((u&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(y>>10)),e[s++]=String.fromCharCode(56320+(y&1023))}else{const h=a[i++],d=a[i++];e[s++]=String.fromCharCode((u&15)<<12|(h&63)<<6|d&63)}}return e.join("")},$v={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let u=0;u<a.length;u+=3){const h=a[u],d=u+1<a.length,g=d?a[u+1]:0,y=u+2<a.length,p=y?a[u+2]:0,T=h>>2,D=(h&3)<<4|g>>4;let b=(g&15)<<2|p>>6,j=p&63;y||(j=64,d||(b=64)),s.push(i[T],i[D],i[b],i[j])}return s.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(Xv(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):N1(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let u=0;u<a.length;){const h=i[a.charAt(u++)],g=u<a.length?i[a.charAt(u)]:0;++u;const p=u<a.length?i[a.charAt(u)]:64;++u;const D=u<a.length?i[a.charAt(u)]:64;if(++u,h==null||g==null||p==null||D==null)throw new x1;const b=h<<2|g>>4;if(s.push(b),p!==64){const j=g<<4&240|p>>2;if(s.push(j),D!==64){const L=p<<6&192|D;s.push(L)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class x1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const O1=function(a){const e=Xv(a);return $v.encodeByteArray(e,!0)},Wo=function(a){return O1(a).replace(/\./g,"")},V1=function(a){try{return $v.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1=()=>I1().__FIREBASE_DEFAULTS__,U1=()=>{if(typeof process>"u"||typeof Ey>"u")return;const a=Ey.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},L1=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&V1(a[1]);return e&&JSON.parse(e)},Sd=()=>{try{return D1()||M1()||U1()||L1()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},z1=a=>Sd()?.emulatorHosts?.[a],P1=a=>{const e=z1(a);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},Zv=()=>Sd()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ad(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function j1(a){return(await fetch(a,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k1(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",u=a.iat||0,h=a.sub||a.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:u,exp:u+3600,auth_time:u,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...a};return[Wo(JSON.stringify(i)),Wo(JSON.stringify(d)),""].join(".")}const Yl={};function q1(){const a={prod:[],emulator:[]};for(const e of Object.keys(Yl))Yl[e]?a.emulator.push(e):a.prod.push(e);return a}function H1(a){let e=document.getElementById(a),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",a),i=!0),{created:i,element:e}}let Ty=!1;function G1(a,e){if(typeof window>"u"||typeof document>"u"||!Ad(window.location.host)||Yl[a]===e||Yl[a]||Ty)return;Yl[a]=e;function i(b){return`__firebase__banner__${b}`}const s="__firebase__banner",h=q1().prod.length>0;function d(){const b=document.getElementById(s);b&&b.remove()}function g(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function y(b,j){b.setAttribute("width","24"),b.setAttribute("id",j),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function p(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{Ty=!0,d()},b}function T(b,j){b.setAttribute("id",j),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function D(){const b=H1(s),j=i("text"),L=document.getElementById(j)||document.createElement("span"),X=i("learnmore"),Y=document.getElementById(X)||document.createElement("a"),Q=i("preprendIcon"),nt=document.getElementById(Q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const J=b.element;g(J),T(Y,X);const rt=p();y(nt,Q),J.append(nt,L,Y,rt),document.body.appendChild(J)}h?(L.innerText="Preview backend disconnected.",nt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(nt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,L.innerText="Preview backend running in this workspace."),L.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",D):D()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Y1(){const a=Sd()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function F1(){return!Y1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function K1(){try{return typeof indexedDB=="object"}catch{return!1}}function X1(){return new Promise((a,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(s);u.onsuccess=()=>{u.result.close(),i||self.indexedDB.deleteDatabase(s),a(!0)},u.onupgradeneeded=()=>{i=!1},u.onerror=()=>{e(u.error?.message||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1="FirebaseError";class ws extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=$1,Object.setPrototypeOf(this,ws.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jv.prototype.create)}}class Jv{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},u=`${this.service}/${e}`,h=this.errors[e],d=h?Z1(h,s):"Error",g=`${this.serviceName}: ${d} (${u}).`;return new ws(u,g,s)}}function Z1(a,e){return a.replace(J1,(i,s)=>{const u=e[s];return u!=null?String(u):`<${s}?>`})}const J1=/\{\$([^}]+)}/g;function tc(a,e){if(a===e)return!0;const i=Object.keys(a),s=Object.keys(e);for(const u of i){if(!s.includes(u))return!1;const h=a[u],d=e[u];if(Sy(h)&&Sy(d)){if(!tc(h,d))return!1}else if(h!==d)return!1}for(const u of s)if(!i.includes(u))return!1;return!0}function Sy(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wv(a){return a&&a._delegate?a._delegate:a}class Zl{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new B1;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:i});u&&s.resolve(u)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(u){if(s)return null;throw u}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(eS(e))try{this.getOrInitializeService({instanceIdentifier:la})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:u});s.resolve(h)}catch{}}}}clearInstance(e=la){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=la){return this.instances.has(e)}getOptions(e=la){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);s===g&&d.resolve(u)}return u}onInit(e,i){const s=this.normalizeInstanceIdentifier(i),u=this.onInitCallbacks.get(s)??new Set;u.add(e),this.onInitCallbacks.set(s,u);const h=this.instances.get(s);return h&&e(h,s),()=>{u.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const u of s)try{u(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:tS(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=la){return this.component?this.component.multipleInstances?e:la:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function tS(a){return a===la?void 0:a}function eS(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new W1(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Lt||(Lt={}));const iS={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},rS=Lt.INFO,aS={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},sS=(a,e,...i)=>{if(e<a.logLevel)return;const s=new Date().toISOString(),u=aS[e];if(u)console[u](`[${s}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class t_{constructor(e){this.name=e,this._logLevel=rS,this._logHandler=sS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Lt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?iS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...e),this._logHandler(this,Lt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...e),this._logHandler(this,Lt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...e),this._logHandler(this,Lt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...e),this._logHandler(this,Lt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...e),this._logHandler(this,Lt.ERROR,...e)}}const lS=(a,e)=>e.some(i=>a instanceof i);let Ay,by;function uS(){return Ay||(Ay=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function oS(){return by||(by=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const e_=new WeakMap,Gf=new WeakMap,n_=new WeakMap,If=new WeakMap,bd=new WeakMap;function cS(a){const e=new Promise((i,s)=>{const u=()=>{a.removeEventListener("success",h),a.removeEventListener("error",d)},h=()=>{i(fr(a.result)),u()},d=()=>{s(a.error),u()};a.addEventListener("success",h),a.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&e_.set(i,a)}).catch(()=>{}),bd.set(e,a),e}function hS(a){if(Gf.has(a))return;const e=new Promise((i,s)=>{const u=()=>{a.removeEventListener("complete",h),a.removeEventListener("error",d),a.removeEventListener("abort",d)},h=()=>{i(),u()},d=()=>{s(a.error||new DOMException("AbortError","AbortError")),u()};a.addEventListener("complete",h),a.addEventListener("error",d),a.addEventListener("abort",d)});Gf.set(a,e)}let Qf={get(a,e,i){if(a instanceof IDBTransaction){if(e==="done")return Gf.get(a);if(e==="objectStoreNames")return a.objectStoreNames||n_.get(a);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return fr(a[e])},set(a,e,i){return a[e]=i,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function fS(a){Qf=a(Qf)}function dS(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=a.call(Mf(this),e,...i);return n_.set(s,e.sort?e.sort():[e]),fr(s)}:oS().includes(a)?function(...e){return a.apply(Mf(this),e),fr(e_.get(this))}:function(...e){return fr(a.apply(Mf(this),e))}}function mS(a){return typeof a=="function"?dS(a):(a instanceof IDBTransaction&&hS(a),lS(a,uS())?new Proxy(a,Qf):a)}function fr(a){if(a instanceof IDBRequest)return cS(a);if(If.has(a))return If.get(a);const e=mS(a);return e!==a&&(If.set(a,e),bd.set(e,a)),e}const Mf=a=>bd.get(a);function gS(a,e,{blocked:i,upgrade:s,blocking:u,terminated:h}={}){const d=indexedDB.open(a,e),g=fr(d);return s&&d.addEventListener("upgradeneeded",y=>{s(fr(d.result),y.oldVersion,y.newVersion,fr(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),g.then(y=>{h&&y.addEventListener("close",()=>h()),u&&y.addEventListener("versionchange",p=>u(p.oldVersion,p.newVersion,p))}).catch(()=>{}),g}const pS=["get","getKey","getAll","getAllKeys","count"],yS=["put","add","delete","clear"],Uf=new Map;function Ry(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(Uf.get(e))return Uf.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,u=yS.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(u||pS.includes(i)))return;const h=async function(d,...g){const y=this.transaction(d,u?"readwrite":"readonly");let p=y.store;return s&&(p=p.index(g.shift())),(await Promise.all([p[i](...g),u&&y.done]))[0]};return Uf.set(e,h),h}fS(a=>({...a,get:(e,i,s)=>Ry(e,i)||a.get(e,i,s),has:(e,i)=>!!Ry(e,i)||a.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(_S(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function _S(a){return a.getComponent()?.type==="VERSION"}const Yf="@firebase/app",wy="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi=new t_("@firebase/app"),ES="@firebase/app-compat",TS="@firebase/analytics-compat",SS="@firebase/analytics",AS="@firebase/app-check-compat",bS="@firebase/app-check",RS="@firebase/auth",wS="@firebase/auth-compat",CS="@firebase/database",DS="@firebase/data-connect",NS="@firebase/database-compat",xS="@firebase/functions",OS="@firebase/functions-compat",VS="@firebase/installations",IS="@firebase/installations-compat",MS="@firebase/messaging",US="@firebase/messaging-compat",LS="@firebase/performance",zS="@firebase/performance-compat",PS="@firebase/remote-config",BS="@firebase/remote-config-compat",jS="@firebase/storage",kS="@firebase/storage-compat",qS="@firebase/firestore",HS="@firebase/ai",GS="@firebase/firestore-compat",QS="firebase",YS="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ff="[DEFAULT]",FS={[Yf]:"fire-core",[ES]:"fire-core-compat",[SS]:"fire-analytics",[TS]:"fire-analytics-compat",[bS]:"fire-app-check",[AS]:"fire-app-check-compat",[RS]:"fire-auth",[wS]:"fire-auth-compat",[CS]:"fire-rtdb",[DS]:"fire-data-connect",[NS]:"fire-rtdb-compat",[xS]:"fire-fn",[OS]:"fire-fn-compat",[VS]:"fire-iid",[IS]:"fire-iid-compat",[MS]:"fire-fcm",[US]:"fire-fcm-compat",[LS]:"fire-perf",[zS]:"fire-perf-compat",[PS]:"fire-rc",[BS]:"fire-rc-compat",[jS]:"fire-gcs",[kS]:"fire-gcs-compat",[qS]:"fire-fst",[GS]:"fire-fst-compat",[HS]:"fire-vertex","fire-js":"fire-js",[QS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ec=new Map,KS=new Map,Kf=new Map;function Cy(a,e){try{a.container.addComponent(e)}catch(i){Vi.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,i)}}function nc(a){const e=a.name;if(Kf.has(e))return Vi.debug(`There were multiple attempts to register component ${e}.`),!1;Kf.set(e,a);for(const i of ec.values())Cy(i,a);for(const i of KS.values())Cy(i,a);return!0}function XS(a,e){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(e)}function $S(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},dr=new Jv("app","Firebase",ZS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(e,i,s){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Zl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw dr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WS=YS;function i_(a,e={}){let i=a;typeof e!="object"&&(e={name:e});const s={name:Ff,automaticDataCollectionEnabled:!0,...e},u=s.name;if(typeof u!="string"||!u)throw dr.create("bad-app-name",{appName:String(u)});if(i||(i=Zv()),!i)throw dr.create("no-options");const h=ec.get(u);if(h){if(tc(i,h.options)&&tc(s,h.config))return h;throw dr.create("duplicate-app",{appName:u})}const d=new nS(u);for(const y of Kf.values())d.addComponent(y);const g=new JS(i,s,d);return ec.set(u,g),g}function tA(a=Ff){const e=ec.get(a);if(!e&&a===Ff&&Zv())return i_();if(!e)throw dr.create("no-app",{appName:a});return e}function fs(a,e,i){let s=FS[a]??a;i&&(s+=`-${i}`);const u=s.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const d=[`Unable to register library "${s}" with version "${e}":`];u&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),u&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vi.warn(d.join(" "));return}nc(new Zl(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA="firebase-heartbeat-database",nA=1,Jl="firebase-heartbeat-store";let Lf=null;function r_(){return Lf||(Lf=gS(eA,nA,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(Jl)}catch(i){console.warn(i)}}}}).catch(a=>{throw dr.create("idb-open",{originalErrorMessage:a.message})})),Lf}async function iA(a){try{const i=(await r_()).transaction(Jl),s=await i.objectStore(Jl).get(a_(a));return await i.done,s}catch(e){if(e instanceof ws)Vi.warn(e.message);else{const i=dr.create("idb-get",{originalErrorMessage:e?.message});Vi.warn(i.message)}}}async function Dy(a,e){try{const s=(await r_()).transaction(Jl,"readwrite");await s.objectStore(Jl).put(e,a_(a)),await s.done}catch(i){if(i instanceof ws)Vi.warn(i.message);else{const s=dr.create("idb-set",{originalErrorMessage:i?.message});Vi.warn(s.message)}}}function a_(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA=1024,aA=30;class sA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new uA(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Ny();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(u=>u.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>aA){const u=oA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Vi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Ny(),{heartbeatsToSend:i,unsentEntries:s}=lA(this._heartbeatsCache.heartbeats),u=Wo(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(e){return Vi.warn(e),""}}}function Ny(){return new Date().toISOString().substring(0,10)}function lA(a,e=rA){const i=[];let s=a.slice();for(const u of a){const h=i.find(d=>d.agent===u.agent);if(h){if(h.dates.push(u.date),xy(i)>e){h.dates.pop();break}}else if(i.push({agent:u.agent,dates:[u.date]}),xy(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class uA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return K1()?X1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await iA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Dy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Dy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function xy(a){return Wo(JSON.stringify({version:2,heartbeats:a})).length}function oA(a){if(a.length===0)return-1;let e=0,i=a[0].date;for(let s=1;s<a.length;s++)a[s].date<i&&(i=a[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cA(a){nc(new Zl("platform-logger",e=>new vS(e),"PRIVATE")),nc(new Zl("heartbeat",e=>new sA(e),"PRIVATE")),fs(Yf,wy,a),fs(Yf,wy,"esm2020"),fs("fire-js","")}cA("");var hA="firebase",fA="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fs(hA,fA,"app");var Oy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var mr,s_;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,A){function R(){}R.prototype=A.prototype,N.D=A.prototype,N.prototype=new R,N.prototype.constructor=N,N.C=function(V,O,M){for(var w=Array(arguments.length-2),Rt=2;Rt<arguments.length;Rt++)w[Rt-2]=arguments[Rt];return A.prototype[O].apply(V,w)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function u(N,A,R){R||(R=0);var V=Array(16);if(typeof A=="string")for(var O=0;16>O;++O)V[O]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(O=0;16>O;++O)V[O]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=N.g[0],R=N.g[1],O=N.g[2];var M=N.g[3],w=A+(M^R&(O^M))+V[0]+3614090360&4294967295;A=R+(w<<7&4294967295|w>>>25),w=M+(O^A&(R^O))+V[1]+3905402710&4294967295,M=A+(w<<12&4294967295|w>>>20),w=O+(R^M&(A^R))+V[2]+606105819&4294967295,O=M+(w<<17&4294967295|w>>>15),w=R+(A^O&(M^A))+V[3]+3250441966&4294967295,R=O+(w<<22&4294967295|w>>>10),w=A+(M^R&(O^M))+V[4]+4118548399&4294967295,A=R+(w<<7&4294967295|w>>>25),w=M+(O^A&(R^O))+V[5]+1200080426&4294967295,M=A+(w<<12&4294967295|w>>>20),w=O+(R^M&(A^R))+V[6]+2821735955&4294967295,O=M+(w<<17&4294967295|w>>>15),w=R+(A^O&(M^A))+V[7]+4249261313&4294967295,R=O+(w<<22&4294967295|w>>>10),w=A+(M^R&(O^M))+V[8]+1770035416&4294967295,A=R+(w<<7&4294967295|w>>>25),w=M+(O^A&(R^O))+V[9]+2336552879&4294967295,M=A+(w<<12&4294967295|w>>>20),w=O+(R^M&(A^R))+V[10]+4294925233&4294967295,O=M+(w<<17&4294967295|w>>>15),w=R+(A^O&(M^A))+V[11]+2304563134&4294967295,R=O+(w<<22&4294967295|w>>>10),w=A+(M^R&(O^M))+V[12]+1804603682&4294967295,A=R+(w<<7&4294967295|w>>>25),w=M+(O^A&(R^O))+V[13]+4254626195&4294967295,M=A+(w<<12&4294967295|w>>>20),w=O+(R^M&(A^R))+V[14]+2792965006&4294967295,O=M+(w<<17&4294967295|w>>>15),w=R+(A^O&(M^A))+V[15]+1236535329&4294967295,R=O+(w<<22&4294967295|w>>>10),w=A+(O^M&(R^O))+V[1]+4129170786&4294967295,A=R+(w<<5&4294967295|w>>>27),w=M+(R^O&(A^R))+V[6]+3225465664&4294967295,M=A+(w<<9&4294967295|w>>>23),w=O+(A^R&(M^A))+V[11]+643717713&4294967295,O=M+(w<<14&4294967295|w>>>18),w=R+(M^A&(O^M))+V[0]+3921069994&4294967295,R=O+(w<<20&4294967295|w>>>12),w=A+(O^M&(R^O))+V[5]+3593408605&4294967295,A=R+(w<<5&4294967295|w>>>27),w=M+(R^O&(A^R))+V[10]+38016083&4294967295,M=A+(w<<9&4294967295|w>>>23),w=O+(A^R&(M^A))+V[15]+3634488961&4294967295,O=M+(w<<14&4294967295|w>>>18),w=R+(M^A&(O^M))+V[4]+3889429448&4294967295,R=O+(w<<20&4294967295|w>>>12),w=A+(O^M&(R^O))+V[9]+568446438&4294967295,A=R+(w<<5&4294967295|w>>>27),w=M+(R^O&(A^R))+V[14]+3275163606&4294967295,M=A+(w<<9&4294967295|w>>>23),w=O+(A^R&(M^A))+V[3]+4107603335&4294967295,O=M+(w<<14&4294967295|w>>>18),w=R+(M^A&(O^M))+V[8]+1163531501&4294967295,R=O+(w<<20&4294967295|w>>>12),w=A+(O^M&(R^O))+V[13]+2850285829&4294967295,A=R+(w<<5&4294967295|w>>>27),w=M+(R^O&(A^R))+V[2]+4243563512&4294967295,M=A+(w<<9&4294967295|w>>>23),w=O+(A^R&(M^A))+V[7]+1735328473&4294967295,O=M+(w<<14&4294967295|w>>>18),w=R+(M^A&(O^M))+V[12]+2368359562&4294967295,R=O+(w<<20&4294967295|w>>>12),w=A+(R^O^M)+V[5]+4294588738&4294967295,A=R+(w<<4&4294967295|w>>>28),w=M+(A^R^O)+V[8]+2272392833&4294967295,M=A+(w<<11&4294967295|w>>>21),w=O+(M^A^R)+V[11]+1839030562&4294967295,O=M+(w<<16&4294967295|w>>>16),w=R+(O^M^A)+V[14]+4259657740&4294967295,R=O+(w<<23&4294967295|w>>>9),w=A+(R^O^M)+V[1]+2763975236&4294967295,A=R+(w<<4&4294967295|w>>>28),w=M+(A^R^O)+V[4]+1272893353&4294967295,M=A+(w<<11&4294967295|w>>>21),w=O+(M^A^R)+V[7]+4139469664&4294967295,O=M+(w<<16&4294967295|w>>>16),w=R+(O^M^A)+V[10]+3200236656&4294967295,R=O+(w<<23&4294967295|w>>>9),w=A+(R^O^M)+V[13]+681279174&4294967295,A=R+(w<<4&4294967295|w>>>28),w=M+(A^R^O)+V[0]+3936430074&4294967295,M=A+(w<<11&4294967295|w>>>21),w=O+(M^A^R)+V[3]+3572445317&4294967295,O=M+(w<<16&4294967295|w>>>16),w=R+(O^M^A)+V[6]+76029189&4294967295,R=O+(w<<23&4294967295|w>>>9),w=A+(R^O^M)+V[9]+3654602809&4294967295,A=R+(w<<4&4294967295|w>>>28),w=M+(A^R^O)+V[12]+3873151461&4294967295,M=A+(w<<11&4294967295|w>>>21),w=O+(M^A^R)+V[15]+530742520&4294967295,O=M+(w<<16&4294967295|w>>>16),w=R+(O^M^A)+V[2]+3299628645&4294967295,R=O+(w<<23&4294967295|w>>>9),w=A+(O^(R|~M))+V[0]+4096336452&4294967295,A=R+(w<<6&4294967295|w>>>26),w=M+(R^(A|~O))+V[7]+1126891415&4294967295,M=A+(w<<10&4294967295|w>>>22),w=O+(A^(M|~R))+V[14]+2878612391&4294967295,O=M+(w<<15&4294967295|w>>>17),w=R+(M^(O|~A))+V[5]+4237533241&4294967295,R=O+(w<<21&4294967295|w>>>11),w=A+(O^(R|~M))+V[12]+1700485571&4294967295,A=R+(w<<6&4294967295|w>>>26),w=M+(R^(A|~O))+V[3]+2399980690&4294967295,M=A+(w<<10&4294967295|w>>>22),w=O+(A^(M|~R))+V[10]+4293915773&4294967295,O=M+(w<<15&4294967295|w>>>17),w=R+(M^(O|~A))+V[1]+2240044497&4294967295,R=O+(w<<21&4294967295|w>>>11),w=A+(O^(R|~M))+V[8]+1873313359&4294967295,A=R+(w<<6&4294967295|w>>>26),w=M+(R^(A|~O))+V[15]+4264355552&4294967295,M=A+(w<<10&4294967295|w>>>22),w=O+(A^(M|~R))+V[6]+2734768916&4294967295,O=M+(w<<15&4294967295|w>>>17),w=R+(M^(O|~A))+V[13]+1309151649&4294967295,R=O+(w<<21&4294967295|w>>>11),w=A+(O^(R|~M))+V[4]+4149444226&4294967295,A=R+(w<<6&4294967295|w>>>26),w=M+(R^(A|~O))+V[11]+3174756917&4294967295,M=A+(w<<10&4294967295|w>>>22),w=O+(A^(M|~R))+V[2]+718787259&4294967295,O=M+(w<<15&4294967295|w>>>17),w=R+(M^(O|~A))+V[9]+3951481745&4294967295,N.g[0]=N.g[0]+A&4294967295,N.g[1]=N.g[1]+(O+(w<<21&4294967295|w>>>11))&4294967295,N.g[2]=N.g[2]+O&4294967295,N.g[3]=N.g[3]+M&4294967295}s.prototype.u=function(N,A){A===void 0&&(A=N.length);for(var R=A-this.blockSize,V=this.B,O=this.h,M=0;M<A;){if(O==0)for(;M<=R;)u(this,N,M),M+=this.blockSize;if(typeof N=="string"){for(;M<A;)if(V[O++]=N.charCodeAt(M++),O==this.blockSize){u(this,V),O=0;break}}else for(;M<A;)if(V[O++]=N[M++],O==this.blockSize){u(this,V),O=0;break}}this.h=O,this.o+=A},s.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var A=1;A<N.length-8;++A)N[A]=0;var R=8*this.o;for(A=N.length-8;A<N.length;++A)N[A]=R&255,R/=256;for(this.u(N),N=Array(16),A=R=0;4>A;++A)for(var V=0;32>V;V+=8)N[R++]=this.g[A]>>>V&255;return N};function h(N,A){var R=g;return Object.prototype.hasOwnProperty.call(R,N)?R[N]:R[N]=A(N)}function d(N,A){this.h=A;for(var R=[],V=!0,O=N.length-1;0<=O;O--){var M=N[O]|0;V&&M==A||(R[O]=M,V=!1)}this.g=R}var g={};function y(N){return-128<=N&&128>N?h(N,function(A){return new d([A|0],0>A?-1:0)}):new d([N|0],0>N?-1:0)}function p(N){if(isNaN(N)||!isFinite(N))return D;if(0>N)return Y(p(-N));for(var A=[],R=1,V=0;N>=R;V++)A[V]=N/R|0,R*=4294967296;return new d(A,0)}function T(N,A){if(N.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(N.charAt(0)=="-")return Y(T(N.substring(1),A));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=p(Math.pow(A,8)),V=D,O=0;O<N.length;O+=8){var M=Math.min(8,N.length-O),w=parseInt(N.substring(O,O+M),A);8>M?(M=p(Math.pow(A,M)),V=V.j(M).add(p(w))):(V=V.j(R),V=V.add(p(w)))}return V}var D=y(0),b=y(1),j=y(16777216);a=d.prototype,a.m=function(){if(X(this))return-Y(this).m();for(var N=0,A=1,R=0;R<this.g.length;R++){var V=this.i(R);N+=(0<=V?V:4294967296+V)*A,A*=4294967296}return N},a.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(L(this))return"0";if(X(this))return"-"+Y(this).toString(N);for(var A=p(Math.pow(N,6)),R=this,V="";;){var O=rt(R,A).g;R=Q(R,O.j(A));var M=((0<R.g.length?R.g[0]:R.h)>>>0).toString(N);if(R=O,L(R))return M+V;for(;6>M.length;)M="0"+M;V=M+V}},a.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function L(N){if(N.h!=0)return!1;for(var A=0;A<N.g.length;A++)if(N.g[A]!=0)return!1;return!0}function X(N){return N.h==-1}a.l=function(N){return N=Q(this,N),X(N)?-1:L(N)?0:1};function Y(N){for(var A=N.g.length,R=[],V=0;V<A;V++)R[V]=~N.g[V];return new d(R,~N.h).add(b)}a.abs=function(){return X(this)?Y(this):this},a.add=function(N){for(var A=Math.max(this.g.length,N.g.length),R=[],V=0,O=0;O<=A;O++){var M=V+(this.i(O)&65535)+(N.i(O)&65535),w=(M>>>16)+(this.i(O)>>>16)+(N.i(O)>>>16);V=w>>>16,M&=65535,w&=65535,R[O]=w<<16|M}return new d(R,R[R.length-1]&-2147483648?-1:0)};function Q(N,A){return N.add(Y(A))}a.j=function(N){if(L(this)||L(N))return D;if(X(this))return X(N)?Y(this).j(Y(N)):Y(Y(this).j(N));if(X(N))return Y(this.j(Y(N)));if(0>this.l(j)&&0>N.l(j))return p(this.m()*N.m());for(var A=this.g.length+N.g.length,R=[],V=0;V<2*A;V++)R[V]=0;for(V=0;V<this.g.length;V++)for(var O=0;O<N.g.length;O++){var M=this.i(V)>>>16,w=this.i(V)&65535,Rt=N.i(O)>>>16,Pt=N.i(O)&65535;R[2*V+2*O]+=w*Pt,nt(R,2*V+2*O),R[2*V+2*O+1]+=M*Pt,nt(R,2*V+2*O+1),R[2*V+2*O+1]+=w*Rt,nt(R,2*V+2*O+1),R[2*V+2*O+2]+=M*Rt,nt(R,2*V+2*O+2)}for(V=0;V<A;V++)R[V]=R[2*V+1]<<16|R[2*V];for(V=A;V<2*A;V++)R[V]=0;return new d(R,0)};function nt(N,A){for(;(N[A]&65535)!=N[A];)N[A+1]+=N[A]>>>16,N[A]&=65535,A++}function J(N,A){this.g=N,this.h=A}function rt(N,A){if(L(A))throw Error("division by zero");if(L(N))return new J(D,D);if(X(N))return A=rt(Y(N),A),new J(Y(A.g),Y(A.h));if(X(A))return A=rt(N,Y(A)),new J(Y(A.g),A.h);if(30<N.g.length){if(X(N)||X(A))throw Error("slowDivide_ only works with positive integers.");for(var R=b,V=A;0>=V.l(N);)R=ut(R),V=ut(V);var O=ct(R,1),M=ct(V,1);for(V=ct(V,2),R=ct(R,2);!L(V);){var w=M.add(V);0>=w.l(N)&&(O=O.add(R),M=w),V=ct(V,1),R=ct(R,1)}return A=Q(N,O.j(A)),new J(O,A)}for(O=D;0<=N.l(A);){for(R=Math.max(1,Math.floor(N.m()/A.m())),V=Math.ceil(Math.log(R)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),M=p(R),w=M.j(A);X(w)||0<w.l(N);)R-=V,M=p(R),w=M.j(A);L(M)&&(M=b),O=O.add(M),N=Q(N,w)}return new J(O,N)}a.A=function(N){return rt(this,N).h},a.and=function(N){for(var A=Math.max(this.g.length,N.g.length),R=[],V=0;V<A;V++)R[V]=this.i(V)&N.i(V);return new d(R,this.h&N.h)},a.or=function(N){for(var A=Math.max(this.g.length,N.g.length),R=[],V=0;V<A;V++)R[V]=this.i(V)|N.i(V);return new d(R,this.h|N.h)},a.xor=function(N){for(var A=Math.max(this.g.length,N.g.length),R=[],V=0;V<A;V++)R[V]=this.i(V)^N.i(V);return new d(R,this.h^N.h)};function ut(N){for(var A=N.g.length+1,R=[],V=0;V<A;V++)R[V]=N.i(V)<<1|N.i(V-1)>>>31;return new d(R,N.h)}function ct(N,A){var R=A>>5;A%=32;for(var V=N.g.length-R,O=[],M=0;M<V;M++)O[M]=0<A?N.i(M+R)>>>A|N.i(M+R+1)<<32-A:N.i(M+R);return new d(O,N.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,s_=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=p,d.fromString=T,mr=d}).apply(typeof Oy<"u"?Oy:typeof self<"u"?self:typeof window<"u"?window:{});var Po=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var l_,ql,u_,Qo,Xf,o_,c_,h_;(function(){var a,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,m,v){return o==Array.prototype||o==Object.prototype||(o[m]=v.value),o};function i(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof Po=="object"&&Po];for(var m=0;m<o.length;++m){var v=o[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=i(this);function u(o,m){if(m)t:{var v=s;o=o.split(".");for(var S=0;S<o.length-1;S++){var z=o[S];if(!(z in v))break t;v=v[z]}o=o[o.length-1],S=v[o],m=m(S),m!=S&&m!=null&&e(v,o,{configurable:!0,writable:!0,value:m})}}function h(o,m){o instanceof String&&(o+="");var v=0,S=!1,z={next:function(){if(!S&&v<o.length){var F=v++;return{value:m(F,o[F]),done:!1}}return S=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}u("Array.prototype.values",function(o){return o||function(){return h(this,function(m,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function y(o){var m=typeof o;return m=m!="object"?m:o?Array.isArray(o)?"array":m:"null",m=="array"||m=="object"&&typeof o.length=="number"}function p(o){var m=typeof o;return m=="object"&&o!=null||m=="function"}function T(o,m,v){return o.call.apply(o.bind,arguments)}function D(o,m,v){if(!o)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,S),o.apply(m,z)}}return function(){return o.apply(m,arguments)}}function b(o,m,v){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:D,b.apply(null,arguments)}function j(o,m){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),o.apply(this,S)}}function L(o,m){function v(){}v.prototype=m.prototype,o.aa=m.prototype,o.prototype=new v,o.prototype.constructor=o,o.Qb=function(S,z,F){for(var at=Array(arguments.length-2),Vt=2;Vt<arguments.length;Vt++)at[Vt-2]=arguments[Vt];return m.prototype[z].apply(S,at)}}function X(o){const m=o.length;if(0<m){const v=Array(m);for(let S=0;S<m;S++)v[S]=o[S];return v}return[]}function Y(o,m){for(let v=1;v<arguments.length;v++){const S=arguments[v];if(y(S)){const z=o.length||0,F=S.length||0;o.length=z+F;for(let at=0;at<F;at++)o[z+at]=S[at]}else o.push(S)}}class Q{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function nt(o){return/^[\s\xa0]*$/.test(o)}function J(){var o=g.navigator;return o&&(o=o.userAgent)?o:""}function rt(o){return rt[" "](o),o}rt[" "]=function(){};var ut=J().indexOf("Gecko")!=-1&&!(J().toLowerCase().indexOf("webkit")!=-1&&J().indexOf("Edge")==-1)&&!(J().indexOf("Trident")!=-1||J().indexOf("MSIE")!=-1)&&J().indexOf("Edge")==-1;function ct(o,m,v){for(const S in o)m.call(v,o[S],S,o)}function N(o,m){for(const v in o)m.call(void 0,o[v],v,o)}function A(o){const m={};for(const v in o)m[v]=o[v];return m}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(o,m){let v,S;for(let z=1;z<arguments.length;z++){S=arguments[z];for(v in S)o[v]=S[v];for(let F=0;F<R.length;F++)v=R[F],Object.prototype.hasOwnProperty.call(S,v)&&(o[v]=S[v])}}function O(o){var m=1;o=o.split(":");const v=[];for(;0<m&&o.length;)v.push(o.shift()),m--;return o.length&&v.push(o.join(":")),v}function M(o){g.setTimeout(()=>{throw o},0)}function w(){var o=kt;let m=null;return o.g&&(m=o.g,o.g=o.g.next,o.g||(o.h=null),m.next=null),m}class Rt{constructor(){this.h=this.g=null}add(m,v){const S=Pt.get();S.set(m,v),this.h?this.h.next=S:this.g=S,this.h=S}}var Pt=new Q(()=>new K,o=>o.reset());class K{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let lt,ft=!1,kt=new Rt,x=()=>{const o=g.Promise.resolve(void 0);lt=()=>{o.then(et)}};var et=()=>{for(var o;o=w();){try{o.h.call(o.g)}catch(v){M(v)}var m=Pt;m.j(o),100>m.h&&(m.h++,o.next=m.g,m.g=o)}ft=!1};function ot(){this.s=this.s,this.C=this.C}ot.prototype.s=!1,ot.prototype.ma=function(){this.s||(this.s=!0,this.N())},ot.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function it(o,m){this.type=o,this.g=this.target=m,this.defaultPrevented=!1}it.prototype.h=function(){this.defaultPrevented=!0};var pt=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var o=!1,m=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const v=()=>{};g.addEventListener("test",v,m),g.removeEventListener("test",v,m)}catch{}return o}();function Ct(o,m){if(it.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var v=this.type=o.type,S=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=m,m=o.relatedTarget){if(ut){t:{try{rt(m.nodeName);var z=!0;break t}catch{}z=!1}z||(m=null)}}else v=="mouseover"?m=o.fromElement:v=="mouseout"&&(m=o.toElement);this.relatedTarget=m,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:Tt[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&Ct.aa.h.call(this)}}L(Ct,it);var Tt={2:"touch",3:"pen",4:"mouse"};Ct.prototype.h=function(){Ct.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var De="closure_listenable_"+(1e6*Math.random()|0),Jt=0;function Mn(o,m,v,S,z){this.listener=o,this.proxy=null,this.src=m,this.type=v,this.capture=!!S,this.ha=z,this.key=++Jt,this.da=this.fa=!1}function Ui(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function ri(o){this.src=o,this.g={},this.h=0}ri.prototype.add=function(o,m,v,S,z){var F=o.toString();o=this.g[F],o||(o=this.g[F]=[],this.h++);var at=Rr(o,m,S,z);return-1<at?(m=o[at],v||(m.fa=!1)):(m=new Mn(m,this.src,F,!!S,z),m.fa=v,o.push(m)),m};function br(o,m){var v=m.type;if(v in o.g){var S=o.g[v],z=Array.prototype.indexOf.call(S,m,void 0),F;(F=0<=z)&&Array.prototype.splice.call(S,z,1),F&&(Ui(m),o.g[v].length==0&&(delete o.g[v],o.h--))}}function Rr(o,m,v,S){for(var z=0;z<o.length;++z){var F=o[z];if(!F.da&&F.listener==m&&F.capture==!!v&&F.ha==S)return z}return-1}var wr="closure_lm_"+(1e6*Math.random()|0),xs={};function fu(o,m,v,S,z){if(Array.isArray(m)){for(var F=0;F<m.length;F++)fu(o,m[F],v,S,z);return null}return v=du(v),o&&o[De]?o.K(m,v,p(S)?!!S.capture:!1,z):mn(o,m,v,!1,S,z)}function mn(o,m,v,S,z,F){if(!m)throw Error("Invalid event type");var at=p(z)?!!z.capture:!!z,Vt=pa(o);if(Vt||(o[wr]=Vt=new ri(o)),v=Vt.add(m,v,S,at,F),v.proxy)return v;if(S=bc(),v.proxy=S,S.src=o,S.listener=v,o.addEventListener)pt||(z=at),z===void 0&&(z=!1),o.addEventListener(m.toString(),S,z);else if(o.attachEvent)o.attachEvent(Cr(m.toString()),S);else if(o.addListener&&o.removeListener)o.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function bc(){function o(v){return m.call(o.src,o.listener,v)}const m=Rc;return o}function Os(o,m,v,S,z){if(Array.isArray(m))for(var F=0;F<m.length;F++)Os(o,m[F],v,S,z);else S=p(S)?!!S.capture:!!S,v=du(v),o&&o[De]?(o=o.i,m=String(m).toString(),m in o.g&&(F=o.g[m],v=Rr(F,v,S,z),-1<v&&(Ui(F[v]),Array.prototype.splice.call(F,v,1),F.length==0&&(delete o.g[m],o.h--)))):o&&(o=pa(o))&&(m=o.g[m.toString()],o=-1,m&&(o=Rr(m,v,S,z)),(v=-1<o?m[o]:null)&&ga(v))}function ga(o){if(typeof o!="number"&&o&&!o.da){var m=o.src;if(m&&m[De])br(m.i,o);else{var v=o.type,S=o.proxy;m.removeEventListener?m.removeEventListener(v,S,o.capture):m.detachEvent?m.detachEvent(Cr(v),S):m.addListener&&m.removeListener&&m.removeListener(S),(v=pa(m))?(br(v,o),v.h==0&&(v.src=null,m[wr]=null)):Ui(o)}}}function Cr(o){return o in xs?xs[o]:xs[o]="on"+o}function Rc(o,m){if(o.da)o=!0;else{m=new Ct(m,this);var v=o.listener,S=o.ha||o.src;o.fa&&ga(o),o=v.call(S,m)}return o}function pa(o){return o=o[wr],o instanceof ri?o:null}var Vs="__closure_events_fn_"+(1e9*Math.random()>>>0);function du(o){return typeof o=="function"?o:(o[Vs]||(o[Vs]=function(m){return o.handleEvent(m)}),o[Vs])}function se(){ot.call(this),this.i=new ri(this),this.M=this,this.F=null}L(se,ot),se.prototype[De]=!0,se.prototype.removeEventListener=function(o,m,v,S){Os(this,o,m,v,S)};function Gt(o,m){var v,S=o.F;if(S)for(v=[];S;S=S.F)v.push(S);if(o=o.M,S=m.type||m,typeof m=="string")m=new it(m,o);else if(m instanceof it)m.target=m.target||o;else{var z=m;m=new it(S,o),V(m,z)}if(z=!0,v)for(var F=v.length-1;0<=F;F--){var at=m.g=v[F];z=an(at,S,!0,m)&&z}if(at=m.g=o,z=an(at,S,!0,m)&&z,z=an(at,S,!1,m)&&z,v)for(F=0;F<v.length;F++)at=m.g=v[F],z=an(at,S,!1,m)&&z}se.prototype.N=function(){if(se.aa.N.call(this),this.i){var o=this.i,m;for(m in o.g){for(var v=o.g[m],S=0;S<v.length;S++)Ui(v[S]);delete o.g[m],o.h--}}this.F=null},se.prototype.K=function(o,m,v,S){return this.i.add(String(o),m,!1,v,S)},se.prototype.L=function(o,m,v,S){return this.i.add(String(o),m,!0,v,S)};function an(o,m,v,S){if(m=o.i.g[String(m)],!m)return!0;m=m.concat();for(var z=!0,F=0;F<m.length;++F){var at=m[F];if(at&&!at.da&&at.capture==v){var Vt=at.listener,Se=at.ha||at.src;at.fa&&br(o.i,at),z=Vt.call(Se,S)!==!1&&z}}return z&&!S.defaultPrevented}function qe(o,m,v){if(typeof o=="function")v&&(o=b(o,v));else if(o&&typeof o.handleEvent=="function")o=b(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(o,m||0)}function mu(o){o.g=qe(()=>{o.g=null,o.i&&(o.i=!1,mu(o))},o.l);const m=o.h;o.h=null,o.m.apply(null,m)}class wc extends ot{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:mu(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Dr(o){ot.call(this),this.h=o,this.g={}}L(Dr,ot);var Nr=[];function xr(o){ct(o.g,function(m,v){this.g.hasOwnProperty(v)&&ga(m)},o),o.g={}}Dr.prototype.N=function(){Dr.aa.N.call(this),xr(this)},Dr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Cn=g.JSON.stringify,ya=g.JSON.parse,Or=class{stringify(o){return g.JSON.stringify(o,void 0)}parse(o){return g.JSON.parse(o,void 0)}};function Is(){}Is.prototype.h=null;function Ms(o){return o.h||(o.h=o.i())}function Us(){}var ai={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function si(){it.call(this,"d")}L(si,it);function Ls(){it.call(this,"c")}L(Ls,it);var Un={},zs=null;function Li(){return zs=zs||new se}Un.La="serverreachability";function va(o){it.call(this,Un.La,o)}L(va,it);function zi(o){const m=Li();Gt(m,new va(m))}Un.STAT_EVENT="statevent";function gu(o,m){it.call(this,Un.STAT_EVENT,o),this.stat=m}L(gu,it);function te(o){const m=Li();Gt(m,new gu(m,o))}Un.Ma="timingevent";function Te(o,m){it.call(this,Un.Ma,o),this.size=m}L(Te,it);function me(o,m){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){o()},m)}function gn(){this.g=!0}gn.prototype.xa=function(){this.g=!1};function Ps(o,m,v,S,z,F){o.info(function(){if(o.g)if(F)for(var at="",Vt=F.split("&"),Se=0;Se<Vt.length;Se++){var It=Vt[Se].split("=");if(1<It.length){var xe=It[0];It=It[1];var Ae=xe.split("_");at=2<=Ae.length&&Ae[1]=="type"?at+(xe+"="+It+"&"):at+(xe+"=redacted&")}}else at=null;else at=F;return"XMLHTTP REQ ("+S+") [attempt "+z+"]: "+m+`
`+v+`
`+at})}function Cc(o,m,v,S,z,F,at){o.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+z+"]: "+m+`
`+v+`
`+F+" "+at})}function Pi(o,m,v,S){o.info(function(){return"XMLHTTP TEXT ("+m+"): "+Vr(o,v)+(S?" "+S:"")})}function pu(o,m){o.info(function(){return"TIMEOUT: "+m})}gn.prototype.info=function(){};function Vr(o,m){if(!o.g)return m;if(!m)return null;try{var v=JSON.parse(m);if(v){for(o=0;o<v.length;o++)if(Array.isArray(v[o])){var S=v[o];if(!(2>S.length)){var z=S[1];if(Array.isArray(z)&&!(1>z.length)){var F=z[0];if(F!="noop"&&F!="stop"&&F!="close")for(var at=1;at<z.length;at++)z[at]=""}}}}return Cn(v)}catch{return m}}var Bi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},li={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ln;function zn(){}L(zn,Is),zn.prototype.g=function(){return new XMLHttpRequest},zn.prototype.i=function(){return{}},Ln=new zn;function Ke(o,m,v,S){this.j=o,this.i=m,this.l=v,this.R=S||1,this.U=new Dr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new oe}function oe(){this.i=null,this.g="",this.h=!1}var Bs={},_a={};function Dn(o,m,v){o.L=1,o.v=zr(sn(m)),o.m=v,o.P=!0,ui(o,null)}function ui(o,m){o.F=Date.now(),Ir(o),o.A=sn(o.v);var v=o.A,S=o.R;Array.isArray(S)||(S=[String(S)]),Qs(v.i,"t",S),o.C=0,v=o.j.J,o.h=new oe,o.g=Vu(o.j,v?m:null,!o.m),0<o.O&&(o.M=new wc(b(o.Y,o,o.g),o.O)),m=o.U,v=o.g,S=o.ca;var z="readystatechange";Array.isArray(z)||(z&&(Nr[0]=z.toString()),z=Nr);for(var F=0;F<z.length;F++){var at=fu(v,z[F],S||m.handleEvent,!1,m.h||m);if(!at)break;m.g[at.key]=at}m=o.H?A(o.H):{},o.m?(o.u||(o.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,m)):(o.u="GET",o.g.ea(o.A,o.u,null,m)),zi(),Ps(o.i,o.u,o.A,o.l,o.R,o.m)}Ke.prototype.ca=function(o){o=o.target;const m=this.M;m&&_n(o)==3?m.j():this.Y(o)},Ke.prototype.Y=function(o){try{if(o==this.g)t:{const Ae=_n(this.g);var m=this.g.Ba();const pi=this.g.Z();if(!(3>Ae)&&(Ae!=3||this.g&&(this.h.h||this.g.oa()||bu(this.g)))){this.J||Ae!=4||m==7||(m==8||0>=pi?zi(3):zi(2)),ji(this);var v=this.g.Z();this.X=v;e:if(yu(this)){var S=bu(this.g);o="";var z=S.length,F=_n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ue(this),Pn(this);var at="";break e}this.h.i=new g.TextDecoder}for(m=0;m<z;m++)this.h.h=!0,o+=this.h.i.decode(S[m],{stream:!(F&&m==z-1)});S.length=0,this.h.g+=o,this.C=0,at=this.h.g}else at=this.g.oa();if(this.o=v==200,Cc(this.i,this.u,this.A,this.l,this.R,Ae,v),this.o){if(this.T&&!this.K){e:{if(this.g){var Vt,Se=this.g;if((Vt=Se.g?Se.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!nt(Vt)){var It=Vt;break e}}It=null}if(v=It)Pi(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Mr(this,v);else{this.o=!1,this.s=3,te(12),Ue(this),Pn(this);break t}}if(this.P){v=!0;let Le;for(;!this.J&&this.C<at.length;)if(Le=vu(this,at),Le==_a){Ae==4&&(this.s=4,te(14),v=!1),Pi(this.i,this.l,null,"[Incomplete Response]");break}else if(Le==Bs){this.s=4,te(15),Pi(this.i,this.l,at,"[Invalid Chunk]"),v=!1;break}else Pi(this.i,this.l,Le,null),Mr(this,Le);if(yu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ae!=4||at.length!=0||this.h.h||(this.s=1,te(16),v=!1),this.o=this.o&&v,!v)Pi(this.i,this.l,at,"[Invalid Chunked Response]"),Ue(this),Pn(this);else if(0<at.length&&!this.W){this.W=!0;var xe=this.j;xe.g==this&&xe.ba&&!xe.M&&(xe.j.info("Great, no buffering proxy detected. Bytes received: "+at.length),Qr(xe),xe.M=!0,te(11))}}else Pi(this.i,this.l,at,null),Mr(this,at);Ae==4&&Ue(this),this.o&&!this.J&&(Ae==4?Nu(this.j,this):(this.o=!1,Ir(this)))}else Vc(this.g),v==400&&0<at.indexOf("Unknown SID")?(this.s=3,te(12)):(this.s=0,te(13)),Ue(this),Pn(this)}}}catch{}finally{}};function yu(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function vu(o,m){var v=o.C,S=m.indexOf(`
`,v);return S==-1?_a:(v=Number(m.substring(v,S)),isNaN(v)?Bs:(S+=1,S+v>m.length?_a:(m=m.slice(S,S+v),o.C=S+v,m)))}Ke.prototype.cancel=function(){this.J=!0,Ue(this)};function Ir(o){o.S=Date.now()+o.I,_u(o,o.I)}function _u(o,m){if(o.B!=null)throw Error("WatchDog timer not null");o.B=me(b(o.ba,o),m)}function ji(o){o.B&&(g.clearTimeout(o.B),o.B=null)}Ke.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(pu(this.i,this.A),this.L!=2&&(zi(),te(17)),Ue(this),this.s=2,Pn(this)):_u(this,this.S-o)};function Pn(o){o.j.G==0||o.J||Nu(o.j,o)}function Ue(o){ji(o);var m=o.M;m&&typeof m.ma=="function"&&m.ma(),o.M=null,xr(o.U),o.g&&(m=o.g,o.g=null,m.abort(),m.ma())}function Mr(o,m){try{var v=o.j;if(v.G!=0&&(v.g==o||js(v.h,o))){if(!o.K&&js(v.h,o)&&v.G==3){try{var S=v.Da.g.parse(m)}catch{S=null}if(Array.isArray(S)&&S.length==3){var z=S;if(z[0]==0){t:if(!v.u){if(v.g)if(v.g.F+3e3<o.F)Oa(v),Na(v);else break t;$s(v),te(18)}}else v.za=z[1],0<v.za-v.T&&37500>z[2]&&v.F&&v.v==0&&!v.C&&(v.C=me(b(v.Za,v),6e3));if(1>=Ta(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else gi(v,11)}else if((o.K||v.g==o)&&Oa(v),!nt(m))for(z=v.Da.g.parse(m),m=0;m<z.length;m++){let It=z[m];if(v.T=It[0],It=It[1],v.G==2)if(It[0]=="c"){v.K=It[1],v.ia=It[2];const xe=It[3];xe!=null&&(v.la=xe,v.j.info("VER="+v.la));const Ae=It[4];Ae!=null&&(v.Aa=Ae,v.j.info("SVER="+v.Aa));const pi=It[5];pi!=null&&typeof pi=="number"&&0<pi&&(S=1.5*pi,v.L=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const Le=o.g;if(Le){const Qn=Le.g?Le.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qn){var F=S.h;F.g||Qn.indexOf("spdy")==-1&&Qn.indexOf("quic")==-1&&Qn.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Sa(F,F.h),F.h=null))}if(S.D){const Js=Le.g?Le.g.getResponseHeader("X-HTTP-Session-Id"):null;Js&&(S.ya=Js,Ft(S.I,S.D,Js))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-o.F,v.j.info("Handshake RTT: "+v.R+"ms")),S=v;var at=o;if(S.qa=Ou(S,S.J?S.ia:null,S.W),at.K){Xe(S.h,at);var Vt=at,Se=S.L;Se&&(Vt.I=Se),Vt.B&&(ji(Vt),Ir(Vt)),S.g=at}else Cu(S);0<v.i.length&&xa(v)}else It[0]!="stop"&&It[0]!="close"||gi(v,7);else v.G==3&&(It[0]=="stop"||It[0]=="close"?It[0]=="stop"?gi(v,7):Ks(v):It[0]!="noop"&&v.l&&v.l.ta(It),v.v=0)}}zi(4)}catch{}}var Eu=class{constructor(o,m){this.g=o,this.map=m}};function oi(o){this.l=o||10,g.PerformanceNavigationTiming?(o=g.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ea(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function Ta(o){return o.h?1:o.g?o.g.size:0}function js(o,m){return o.h?o.h==m:o.g?o.g.has(m):!1}function Sa(o,m){o.g?o.g.add(m):o.h=m}function Xe(o,m){o.h&&o.h==m?o.h=null:o.g&&o.g.has(m)&&o.g.delete(m)}oi.prototype.cancel=function(){if(this.i=ks(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function ks(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let m=o.i;for(const v of o.g.values())m=m.concat(v.D);return m}return X(o.i)}function Dc(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(y(o)){for(var m=[],v=o.length,S=0;S<v;S++)m.push(o[S]);return m}m=[],v=0;for(S in o)m[v++]=o[S];return m}function Aa(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(y(o)||typeof o=="string"){var m=[];o=o.length;for(var v=0;v<o;v++)m.push(v);return m}m=[],v=0;for(const S in o)m[v++]=S;return m}}}function qs(o,m){if(o.forEach&&typeof o.forEach=="function")o.forEach(m,void 0);else if(y(o)||typeof o=="string")Array.prototype.forEach.call(o,m,void 0);else for(var v=Aa(o),S=Dc(o),z=S.length,F=0;F<z;F++)m.call(void 0,S[F],v&&v[F],o)}var Ur=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Nc(o,m){if(o){o=o.split("&");for(var v=0;v<o.length;v++){var S=o[v].indexOf("="),z=null;if(0<=S){var F=o[v].substring(0,S);z=o[v].substring(S+1)}else F=o[v];m(F,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function ge(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof ge){this.h=o.h,Lr(this,o.j),this.o=o.o,this.g=o.g,ki(this,o.s),this.l=o.l;var m=o.i,v=new hi;v.i=m.i,m.g&&(v.g=new Map(m.g),v.h=m.h),ci(this,v),this.m=o.m}else o&&(m=String(o).match(Ur))?(this.h=!1,Lr(this,m[1]||"",!0),this.o=pn(m[2]||""),this.g=pn(m[3]||"",!0),ki(this,m[4]),this.l=pn(m[5]||"",!0),ci(this,m[6]||"",!0),this.m=pn(m[7]||"")):(this.h=!1,this.i=new hi(null,this.h))}ge.prototype.toString=function(){var o=[],m=this.j;m&&o.push(Pr(m,Hs,!0),":");var v=this.g;return(v||m=="file")&&(o.push("//"),(m=this.o)&&o.push(Pr(m,Hs,!0),"@"),o.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&o.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&o.push("/"),o.push(Pr(v,v.charAt(0)=="/"?xc:Gs,!0))),(v=this.i.toString())&&o.push("?",v),(v=this.m)&&o.push("#",Pr(v,ba)),o.join("")};function sn(o){return new ge(o)}function Lr(o,m,v){o.j=v?pn(m,!0):m,o.j&&(o.j=o.j.replace(/:$/,""))}function ki(o,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);o.s=m}else o.s=null}function ci(o,m,v){m instanceof hi?(o.i=m,Su(o.i,o.h)):(v||(m=Pr(m,Oc)),o.i=new hi(m,o.h))}function Ft(o,m,v){o.i.set(m,v)}function zr(o){return Ft(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function pn(o,m){return o?m?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Pr(o,m,v){return typeof o=="string"?(o=encodeURI(o).replace(m,Tu),v&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function Tu(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Hs=/[#\/\?@]/g,Gs=/[#\?:]/g,xc=/[#\?]/g,Oc=/[#\?@]/g,ba=/#/g;function hi(o,m){this.h=this.g=null,this.i=o||null,this.j=!!m}function yn(o){o.g||(o.g=new Map,o.h=0,o.i&&Nc(o.i,function(m,v){o.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}a=hi.prototype,a.add=function(o,m){yn(this),this.i=null,o=Bn(this,o);var v=this.g.get(o);return v||this.g.set(o,v=[]),v.push(m),this.h+=1,this};function fi(o,m){yn(o),m=Bn(o,m),o.g.has(m)&&(o.i=null,o.h-=o.g.get(m).length,o.g.delete(m))}function di(o,m){return yn(o),m=Bn(o,m),o.g.has(m)}a.forEach=function(o,m){yn(this),this.g.forEach(function(v,S){v.forEach(function(z){o.call(m,z,S,this)},this)},this)},a.na=function(){yn(this);const o=Array.from(this.g.values()),m=Array.from(this.g.keys()),v=[];for(let S=0;S<m.length;S++){const z=o[S];for(let F=0;F<z.length;F++)v.push(m[S])}return v},a.V=function(o){yn(this);let m=[];if(typeof o=="string")di(this,o)&&(m=m.concat(this.g.get(Bn(this,o))));else{o=Array.from(this.g.values());for(let v=0;v<o.length;v++)m=m.concat(o[v])}return m},a.set=function(o,m){return yn(this),this.i=null,o=Bn(this,o),di(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[m]),this.h+=1,this},a.get=function(o,m){return o?(o=this.V(o),0<o.length?String(o[0]):m):m};function Qs(o,m,v){fi(o,m),0<v.length&&(o.i=null,o.g.set(Bn(o,m),X(v)),o.h+=v.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],m=Array.from(this.g.keys());for(var v=0;v<m.length;v++){var S=m[v];const F=encodeURIComponent(String(S)),at=this.V(S);for(S=0;S<at.length;S++){var z=F;at[S]!==""&&(z+="="+encodeURIComponent(String(at[S]))),o.push(z)}}return this.i=o.join("&")};function Bn(o,m){return m=String(m),o.j&&(m=m.toLowerCase()),m}function Su(o,m){m&&!o.j&&(yn(o),o.i=null,o.g.forEach(function(v,S){var z=S.toLowerCase();S!=z&&(fi(this,S),Qs(this,z,v))},o)),o.j=m}function Br(o,m){const v=new gn;if(g.Image){const S=new Image;S.onload=j(vn,v,"TestLoadImage: loaded",!0,m,S),S.onerror=j(vn,v,"TestLoadImage: error",!1,m,S),S.onabort=j(vn,v,"TestLoadImage: abort",!1,m,S),S.ontimeout=j(vn,v,"TestLoadImage: timeout",!1,m,S),g.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=o}else m(!1)}function Nn(o,m){const v=new gn,S=new AbortController,z=setTimeout(()=>{S.abort(),vn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(o,{signal:S.signal}).then(F=>{clearTimeout(z),F.ok?vn(v,"TestPingServer: ok",!0,m):vn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(z),vn(v,"TestPingServer: error",!1,m)})}function vn(o,m,v,S,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),S(v)}catch{}}function jr(){this.g=new Or}function jn(o,m,v){const S=v||"";try{qs(o,function(z,F){let at=z;p(z)&&(at=Cn(z)),m.push(S+F+"="+encodeURIComponent(at))})}catch(z){throw m.push(S+"type="+encodeURIComponent("_badmap")),z}}function qi(o){this.l=o.Ub||null,this.j=o.eb||!1}L(qi,Is),qi.prototype.g=function(){return new mi(this.l,this.j)},qi.prototype.i=function(o){return function(){return o}}({});function mi(o,m){se.call(this),this.D=o,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}L(mi,se),a=mi.prototype,a.open=function(o,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=m,this.readyState=1,qn(this)},a.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(m.body=o),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,kn(this)),this.readyState=0},a.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,qn(this)),this.g&&(this.readyState=3,qn(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ys(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ys(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}a.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var m=o.value?o.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!o.done}))&&(this.response=this.responseText+=m)}o.done?kn(this):qn(this),this.readyState==3&&Ys(this)}},a.Ra=function(o){this.g&&(this.response=this.responseText=o,kn(this))},a.Qa=function(o){this.g&&(this.response=o,kn(this))},a.ga=function(){this.g&&kn(this)};function kn(o){o.readyState=4,o.l=null,o.j=null,o.v=null,qn(o)}a.setRequestHeader=function(o,m){this.u.append(o,m)},a.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,o.push(v[0]+": "+v[1]),v=m.next();return o.join(`\r
`)};function qn(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(mi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function Fs(o){let m="";return ct(o,function(v,S){m+=S,m+=":",m+=v,m+=`\r
`}),m}function Ne(o,m,v){t:{for(S in v){var S=!1;break t}S=!0}S||(v=Fs(v),typeof o=="string"?v!=null&&encodeURIComponent(String(v)):Ft(o,m,v))}function Ht(o){se.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}L(Ht,se);var Ra=/^https?$/i,kr=["POST","PUT"];a=Ht.prototype,a.Ha=function(o){this.J=o},a.ea=function(o,m,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);m=m?m.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ln.g(),this.v=this.o?Ms(this.o):Ms(Ln),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(m,String(o),!0),this.B=!1}catch(F){Au(this,F);return}if(o=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var z in S)v.set(z,S[z]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const F of S.keys())v.set(F,S.get(F));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(F=>F.toLowerCase()=="content-type"),z=g.FormData&&o instanceof g.FormData,!(0<=Array.prototype.indexOf.call(kr,m,void 0))||S||z||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,at]of v)this.g.setRequestHeader(F,at);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{qr(this),this.u=!0,this.g.send(o),this.u=!1}catch(F){Au(this,F)}};function Au(o,m){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=m,o.m=5,wa(o),Hn(o)}function wa(o){o.A||(o.A=!0,Gt(o,"complete"),Gt(o,"error"))}a.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,Gt(this,"complete"),Gt(this,"abort"),Hn(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hn(this,!0)),Ht.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?Ca(this):this.bb())},a.bb=function(){Ca(this)};function Ca(o){if(o.h&&typeof d<"u"&&(!o.v[1]||_n(o)!=4||o.Z()!=2)){if(o.u&&_n(o)==4)qe(o.Ea,0,o);else if(Gt(o,"readystatechange"),_n(o)==4){o.h=!1;try{const at=o.Z();t:switch(at){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var S;if(S=at===0){var z=String(o.D).match(Ur)[1]||null;!z&&g.self&&g.self.location&&(z=g.self.location.protocol.slice(0,-1)),S=!Ra.test(z?z.toLowerCase():"")}v=S}if(v)Gt(o,"complete"),Gt(o,"success");else{o.m=6;try{var F=2<_n(o)?o.g.statusText:""}catch{F=""}o.l=F+" ["+o.Z()+"]",wa(o)}}finally{Hn(o)}}}}function Hn(o,m){if(o.g){qr(o);const v=o.g,S=o.v[0]?()=>{}:null;o.g=null,o.v=null,m||Gt(o,"ready");try{v.onreadystatechange=S}catch{}}}function qr(o){o.I&&(g.clearTimeout(o.I),o.I=null)}a.isActive=function(){return!!this.g};function _n(o){return o.g?o.g.readyState:0}a.Z=function(){try{return 2<_n(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(o){if(this.g){var m=this.g.responseText;return o&&m.indexOf(o)==0&&(m=m.substring(o.length)),ya(m)}};function bu(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function Vc(o){const m={};o=(o.g&&2<=_n(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<o.length;S++){if(nt(o[S]))continue;var v=O(o[S]);const z=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const F=m[z]||[];m[z]=F,F.push(v)}N(m,function(S){return S.join(", ")})}a.Ba=function(){return this.m},a.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Hr(o,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[o]||m}function Da(o){this.Aa=0,this.i=[],this.j=new gn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Hr("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Hr("baseRetryDelayMs",5e3,o),this.cb=Hr("retryDelaySeedMs",1e4,o),this.Wa=Hr("forwardChannelMaxRetries",2,o),this.wa=Hr("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new oi(o&&o.concurrentRequestLimit),this.Da=new jr,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}a=Da.prototype,a.la=8,a.G=1,a.connect=function(o,m,v,S){te(0),this.W=o,this.H=m||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.I=Ou(this,null,this.W),xa(this)};function Ks(o){if(Ru(o),o.G==3){var m=o.U++,v=sn(o.I);if(Ft(v,"SID",o.K),Ft(v,"RID",m),Ft(v,"TYPE","terminate"),Gr(o,v),m=new Ke(o,o.j,m),m.L=2,m.v=zr(sn(v)),v=!1,g.navigator&&g.navigator.sendBeacon)try{v=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!v&&g.Image&&(new Image().src=m.v,v=!0),v||(m.g=Vu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Ir(m)}xu(o)}function Na(o){o.g&&(Qr(o),o.g.cancel(),o.g=null)}function Ru(o){Na(o),o.u&&(g.clearTimeout(o.u),o.u=null),Oa(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&g.clearTimeout(o.s),o.s=null)}function xa(o){if(!Ea(o.h)&&!o.s){o.s=!0;var m=o.Ga;lt||x(),ft||(lt(),ft=!0),kt.add(m,o),o.B=0}}function Ic(o,m){return Ta(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=m.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=me(b(o.Ga,o,m),Zs(o,o.B)),o.B++,!0)}a.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const z=new Ke(this,this.j,o);let F=this.o;if(this.S&&(F?(F=A(F),V(F,this.S)):F=this.S),this.m!==null||this.O||(z.H=F,F=null),this.P)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(m+=S,4096<m){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=wu(this,z,m),v=sn(this.I),Ft(v,"RID",o),Ft(v,"CVER",22),this.D&&Ft(v,"X-HTTP-Session-Id",this.D),Gr(this,v),F&&(this.O?m="headers="+encodeURIComponent(String(Fs(F)))+"&"+m:this.m&&Ne(v,this.m,F)),Sa(this.h,z),this.Ua&&Ft(v,"TYPE","init"),this.P?(Ft(v,"$req",m),Ft(v,"SID","null"),z.T=!0,Dn(z,v,null)):Dn(z,v,m),this.G=2}}else this.G==3&&(o?Xs(this,o):this.i.length==0||Ea(this.h)||Xs(this))};function Xs(o,m){var v;m?v=m.l:v=o.U++;const S=sn(o.I);Ft(S,"SID",o.K),Ft(S,"RID",v),Ft(S,"AID",o.T),Gr(o,S),o.m&&o.o&&Ne(S,o.m,o.o),v=new Ke(o,o.j,v,o.B+1),o.m===null&&(v.H=o.o),m&&(o.i=m.D.concat(o.i)),m=wu(o,v,1e3),v.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),Sa(o.h,v),Dn(v,S,m)}function Gr(o,m){o.H&&ct(o.H,function(v,S){Ft(m,S,v)}),o.l&&qs({},function(v,S){Ft(m,S,v)})}function wu(o,m,v){v=Math.min(o.i.length,v);var S=o.l?b(o.l.Na,o.l,o):null;t:{var z=o.i;let F=-1;for(;;){const at=["count="+v];F==-1?0<v?(F=z[0].g,at.push("ofs="+F)):F=0:at.push("ofs="+F);let Vt=!0;for(let Se=0;Se<v;Se++){let It=z[Se].g;const xe=z[Se].map;if(It-=F,0>It)F=Math.max(0,z[Se].g-100),Vt=!1;else try{jn(xe,at,"req"+It+"_")}catch{S&&S(xe)}}if(Vt){S=at.join("&");break t}}}return o=o.i.splice(0,v),m.D=o,S}function Cu(o){if(!o.g&&!o.u){o.Y=1;var m=o.Fa;lt||x(),ft||(lt(),ft=!0),kt.add(m,o),o.v=0}}function $s(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=me(b(o.Fa,o),Zs(o,o.v)),o.v++,!0)}a.Fa=function(){if(this.u=null,Du(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=me(b(this.ab,this),o)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,te(10),Na(this),Du(this))};function Qr(o){o.A!=null&&(g.clearTimeout(o.A),o.A=null)}function Du(o){o.g=new Ke(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var m=sn(o.qa);Ft(m,"RID","rpc"),Ft(m,"SID",o.K),Ft(m,"AID",o.T),Ft(m,"CI",o.F?"0":"1"),!o.F&&o.ja&&Ft(m,"TO",o.ja),Ft(m,"TYPE","xmlhttp"),Gr(o,m),o.m&&o.o&&Ne(m,o.m,o.o),o.L&&(o.g.I=o.L);var v=o.g;o=o.ia,v.L=1,v.v=zr(sn(m)),v.m=null,v.P=!0,ui(v,o)}a.Za=function(){this.C!=null&&(this.C=null,Na(this),$s(this),te(19))};function Oa(o){o.C!=null&&(g.clearTimeout(o.C),o.C=null)}function Nu(o,m){var v=null;if(o.g==m){Oa(o),Qr(o),o.g=null;var S=2}else if(js(o.h,m))v=m.D,Xe(o.h,m),S=1;else return;if(o.G!=0){if(m.o)if(S==1){v=m.m?m.m.length:0,m=Date.now()-m.F;var z=o.B;S=Li(),Gt(S,new Te(S,v)),xa(o)}else Cu(o);else if(z=m.s,z==3||z==0&&0<m.X||!(S==1&&Ic(o,m)||S==2&&$s(o)))switch(v&&0<v.length&&(m=o.h,m.i=m.i.concat(v)),z){case 1:gi(o,5);break;case 4:gi(o,10);break;case 3:gi(o,6);break;default:gi(o,2)}}}function Zs(o,m){let v=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(v*=2),v*m}function gi(o,m){if(o.j.info("Error code "+m),m==2){var v=b(o.fb,o),S=o.Xa;const z=!S;S=new ge(S||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Lr(S,"https"),zr(S),z?Br(S.toString(),v):Nn(S.toString(),v)}else te(2);o.G=0,o.l&&o.l.sa(m),xu(o),Ru(o)}a.fb=function(o){o?(this.j.info("Successfully pinged google.com"),te(2)):(this.j.info("Failed to ping google.com"),te(1))};function xu(o){if(o.G=0,o.ka=[],o.l){const m=ks(o.h);(m.length!=0||o.i.length!=0)&&(Y(o.ka,m),Y(o.ka,o.i),o.h.i.length=0,X(o.i),o.i.length=0),o.l.ra()}}function Ou(o,m,v){var S=v instanceof ge?sn(v):new ge(v);if(S.g!="")m&&(S.g=m+"."+S.g),ki(S,S.s);else{var z=g.location;S=z.protocol,m=m?m+"."+z.hostname:z.hostname,z=+z.port;var F=new ge(null);S&&Lr(F,S),m&&(F.g=m),z&&ki(F,z),v&&(F.l=v),S=F}return v=o.D,m=o.ya,v&&m&&Ft(S,v,m),Ft(S,"VER",o.la),Gr(o,S),S}function Vu(o,m,v){if(m&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=o.Ca&&!o.pa?new Ht(new qi({eb:v})):new Ht(o.pa),m.Ha(o.J),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function Iu(){}a=Iu.prototype,a.ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){};function Va(){}Va.prototype.g=function(o,m){return new $e(o,m)};function $e(o,m){se.call(this),this.g=new Da(m),this.l=o,this.h=m&&m.messageUrlParams||null,o=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(o?o["X-WebChannel-Content-Type"]=m.messageContentType:o={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(o?o["X-WebChannel-Client-Profile"]=m.va:o={"X-WebChannel-Client-Profile":m.va}),this.g.S=o,(o=m&&m.Sb)&&!nt(o)&&(this.g.m=o),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!nt(m)&&(this.g.D=m,o=this.h,o!==null&&m in o&&(o=this.h,m in o&&delete o[m])),this.j=new Gn(this)}L($e,se),$e.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},$e.prototype.close=function(){Ks(this.g)},$e.prototype.o=function(o){var m=this.g;if(typeof o=="string"){var v={};v.__data__=o,o=v}else this.u&&(v={},v.__data__=Cn(o),o=v);m.i.push(new Eu(m.Ya++,o)),m.G==3&&xa(m)},$e.prototype.N=function(){this.g.l=null,delete this.j,Ks(this.g),delete this.g,$e.aa.N.call(this)};function Mu(o){si.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var m=o.__sm__;if(m){t:{for(const v in m){o=v;break t}o=void 0}(this.i=o)&&(o=this.i,m=m!==null&&o in m?m[o]:void 0),this.data=m}else this.data=o}L(Mu,si);function Uu(){Ls.call(this),this.status=1}L(Uu,Ls);function Gn(o){this.g=o}L(Gn,Iu),Gn.prototype.ua=function(){Gt(this.g,"a")},Gn.prototype.ta=function(o){Gt(this.g,new Mu(o))},Gn.prototype.sa=function(o){Gt(this.g,new Uu)},Gn.prototype.ra=function(){Gt(this.g,"b")},Va.prototype.createWebChannel=Va.prototype.g,$e.prototype.send=$e.prototype.o,$e.prototype.open=$e.prototype.m,$e.prototype.close=$e.prototype.close,h_=function(){return new Va},c_=function(){return Li()},o_=Un,Xf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Bi.NO_ERROR=0,Bi.TIMEOUT=8,Bi.HTTP_ERROR=6,Qo=Bi,li.COMPLETE="complete",u_=li,Us.EventType=ai,ai.OPEN="a",ai.CLOSE="b",ai.ERROR="c",ai.MESSAGE="d",se.prototype.listen=se.prototype.K,ql=Us,Ht.prototype.listenOnce=Ht.prototype.L,Ht.prototype.getLastError=Ht.prototype.Ka,Ht.prototype.getLastErrorCode=Ht.prototype.Ba,Ht.prototype.getStatus=Ht.prototype.Z,Ht.prototype.getResponseJson=Ht.prototype.Oa,Ht.prototype.getResponseText=Ht.prototype.oa,Ht.prototype.send=Ht.prototype.ea,Ht.prototype.setWithCredentials=Ht.prototype.Ha,l_=Ht}).apply(typeof Po<"u"?Po:typeof self<"u"?self:typeof window<"u"?window:{});const Vy="@firebase/firestore",Iy="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ye.UNAUTHENTICATED=new Ye(null),Ye.GOOGLE_CREDENTIALS=new Ye("google-credentials-uid"),Ye.FIRST_PARTY=new Ye("first-party-uid"),Ye.MOCK_USER=new Ye("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cs="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha=new t_("@firebase/firestore");function us(){return ha.logLevel}function ht(a,...e){if(ha.logLevel<=Lt.DEBUG){const i=e.map(Rd);ha.debug(`Firestore (${Cs}): ${a}`,...i)}}function Ii(a,...e){if(ha.logLevel<=Lt.ERROR){const i=e.map(Rd);ha.error(`Firestore (${Cs}): ${a}`,...i)}}function vs(a,...e){if(ha.logLevel<=Lt.WARN){const i=e.map(Rd);ha.warn(`Firestore (${Cs}): ${a}`,...i)}}function Rd(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(a,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,f_(a,s,i)}function f_(a,e,i){let s=`FIRESTORE (${Cs}) INTERNAL ASSERTION FAILED: ${e} (ID: ${a.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw Ii(s),new Error(s)}function ae(a,e,i,s){let u="Unexpected state";typeof i=="string"?u=i:s=i,a||f_(e,u,s)}function zt(a,e){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const st={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class gt extends ws{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class dA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Ye.UNAUTHENTICATED))}shutdown(){}}class mA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class gA{constructor(e){this.t=e,this.currentUser=Ye.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){ae(this.o===void 0,42304);let s=this.i;const u=y=>this.i!==s?(s=this.i,i(y)):Promise.resolve();let h=new ds;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new ds,e.enqueueRetryable(()=>u(this.currentUser))};const d=()=>{const y=h;e.enqueueRetryable(async()=>{await y.promise,await u(this.currentUser)})},g=y=>{ht("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(y=>g(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(ht("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new ds)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==e?(ht("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ae(typeof s.accessToken=="string",31837,{l:s}),new d_(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ae(e===null||typeof e=="string",2055,{h:e}),new Ye(e)}}class pA{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=Ye.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class yA{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new pA(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable(()=>i(Ye.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class My{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vA{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,$S(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){ae(this.o===void 0,3512);const s=h=>{h.error!=null&&ht("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,ht("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>s(h))};const u=h=>{ht("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(h=>u(h)),setTimeout(()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?u(h):ht("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new My(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(ae(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new My(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _A(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<a;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const u=_A(40);for(let h=0;h<u.length;++h)s.length<20&&u[h]<i&&(s+=e.charAt(u[h]%62))}return s}}function Ot(a,e){return a<e?-1:a>e?1:0}function $f(a,e){const i=Math.min(a.length,e.length);for(let s=0;s<i;s++){const u=a.charAt(s),h=e.charAt(s);if(u!==h)return zf(u)===zf(h)?Ot(u,h):zf(u)?1:-1}return Ot(a.length,e.length)}const EA=55296,TA=57343;function zf(a){const e=a.charCodeAt(0);return e>=EA&&e<=TA}function _s(a,e,i){return a.length===e.length&&a.every((s,u)=>i(s,e[u]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uy="__name__";class Zn{constructor(e,i,s){i===void 0?i=0:i>e.length&&At(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&At(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return Zn.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Zn?e.forEach(s=>{i.push(s)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let u=0;u<s;u++){const h=Zn.compareSegments(e.get(u),i.get(u));if(h!==0)return h}return Ot(e.length,i.length)}static compareSegments(e,i){const s=Zn.isNumericId(e),u=Zn.isNumericId(i);return s&&!u?-1:!s&&u?1:s&&u?Zn.extractNumericId(e).compare(Zn.extractNumericId(i)):$f(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return mr.fromString(e.substring(4,e.length-2))}}class ie extends Zn{construct(e,i,s){return new ie(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new gt(st.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(u=>u.length>0))}return new ie(i)}static emptyPath(){return new ie([])}}const SA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Je extends Zn{construct(e,i,s){return new Je(e,i,s)}static isValidIdentifier(e){return SA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Je.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Uy}static keyField(){return new Je([Uy])}static fromServerFormat(e){const i=[];let s="",u=0;const h=()=>{if(s.length===0)throw new gt(st.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;u<e.length;){const g=e[u];if(g==="\\"){if(u+1===e.length)throw new gt(st.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[u+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new gt(st.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=y,u+=2}else g==="`"?(d=!d,u++):g!=="."||d?(s+=g,u++):(h(),u++)}if(h(),d)throw new gt(st.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Je(i)}static emptyPath(){return new Je([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e){this.path=e}static fromPath(e){return new vt(ie.fromString(e))}static fromName(e){return new vt(ie.fromString(e).popFirst(5))}static empty(){return new vt(ie.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ie.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ie.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new vt(new ie(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AA(a,e,i){if(!i)throw new gt(st.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function bA(a,e,i,s){if(e===!0&&s===!0)throw new gt(st.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function Ly(a){if(!vt.isDocumentKey(a))throw new gt(st.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function RA(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function wA(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":At(12329,{type:typeof a})}function Yo(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new gt(st.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=wA(a);throw new gt(st.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return a}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(a,e){const i={typeString:a};return e&&(i.value=e),i}function lu(a,e){if(!RA(a))throw new gt(st.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in e)if(e[s]){const u=e[s].typeString,h="value"in e[s]?{value:e[s].value}:void 0;if(!(s in a)){i=`JSON missing required field: '${s}'`;break}const d=a[s];if(u&&typeof d!==u){i=`JSON field '${s}' must be a ${u}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${s}' field to equal '${h.value}'`;break}}if(i)throw new gt(st.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zy=-62135596800,Py=1e6;class _e{static now(){return _e.fromMillis(Date.now())}static fromDate(e){return _e.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*Py);return new _e(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new gt(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new gt(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<zy)throw new gt(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new gt(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Py}_compareTo(e){return this.seconds===e.seconds?Ot(this.nanoseconds,e.nanoseconds):Ot(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:_e._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(lu(e,_e._jsonSchema))return new _e(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-zy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}_e._jsonSchemaVersion="firestore/timestamp/1.0",_e._jsonSchema={type:Ee("string",_e._jsonSchemaVersion),seconds:Ee("number"),nanoseconds:Ee("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{static fromTimestamp(e){return new St(e)}static min(){return new St(new _e(0,0))}static max(){return new St(new _e(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wl=-1;function CA(a,e){const i=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,u=St.fromTimestamp(s===1e9?new _e(i+1,0):new _e(i,s));return new yr(u,vt.empty(),e)}function DA(a){return new yr(a.readTime,a.key,Wl)}class yr{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new yr(St.min(),vt.empty(),Wl)}static max(){return new yr(St.max(),vt.empty(),Wl)}}function NA(a,e){let i=a.readTime.compareTo(e.readTime);return i!==0?i:(i=vt.comparator(a.documentKey,e.documentKey),i!==0?i:Ot(a.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class OA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fc(a){if(a.code!==st.FAILED_PRECONDITION||a.message!==xA)throw a;ht("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&At(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new tt((s,u)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(s,u)},this.catchCallback=h=>{this.wrapFailure(i,h).next(s,u)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof tt?i:tt.resolve(i)}catch(i){return tt.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):tt.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):tt.reject(i)}static resolve(e){return new tt((i,s)=>{i(e)})}static reject(e){return new tt((i,s)=>{s(e)})}static waitFor(e){return new tt((i,s)=>{let u=0,h=0,d=!1;e.forEach(g=>{++u,g.next(()=>{++h,d&&h===u&&i()},y=>s(y))}),d=!0,h===u&&i()})}static or(e){let i=tt.resolve(!1);for(const s of e)i=i.next(u=>u?tt.resolve(u):s());return i}static forEach(e,i){const s=[];return e.forEach((u,h)=>{s.push(i.call(this,u,h))}),this.waitFor(s)}static mapArray(e,i){return new tt((s,u)=>{const h=e.length,d=new Array(h);let g=0;for(let y=0;y<h;y++){const p=y;i(e[p]).next(T=>{d[p]=T,++g,g===h&&s(d)},T=>u(T))}})}static doWhile(e,i){return new tt((s,u)=>{const h=()=>{e()===!0?i().next(()=>{h()},u):s()};h()})}}function VA(a){const e=a.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Ds(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}dc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IA=-1;function mc(a){return a==null}function Zf(a){return a===0&&1/a==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_="";function MA(a){let e="";for(let i=0;i<a.length;i++)e.length>0&&(e=By(e)),e=UA(a.get(i),e);return By(e)}function UA(a,e){let i=e;const s=a.length;for(let u=0;u<s;u++){const h=a.charAt(u);switch(h){case"\0":i+="";break;case m_:i+="";break;default:i+=h}}return i}function By(a){return a+m_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jy(a){let e=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e++;return e}function uu(a,e){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e(i,a[i])}function LA(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e,i){this.comparator=e,this.root=i||je.EMPTY}insert(e,i){return new de(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,je.BLACK,null,null))}remove(e){return new de(this.comparator,this.root.remove(e,this.comparator).copy(null,null,je.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const u=this.comparator(e,s.key);if(u===0)return i+s.left.size;u<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,s)=>(e(i,s),!1))}toString(){const e=[];return this.inorderTraversal((i,s)=>(e.push(`${i}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bo(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bo(this.root,e,this.comparator,!0)}}class Bo{constructor(e,i,s,u){this.isReverse=u,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?s(e.key,i):1,i&&u&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class je{constructor(e,i,s,u,h){this.key=e,this.value=i,this.color=s??je.RED,this.left=u??je.EMPTY,this.right=h??je.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,u,h){return new je(e??this.key,i??this.value,s??this.color,u??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let u=this;const h=s(e,u.key);return u=h<0?u.copy(null,null,null,u.left.insert(e,i,s),null):h===0?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(e,i,s)),u.fixUp()}removeMin(){if(this.left.isEmpty())return je.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,u=this;if(i(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),i(e,u.key)===0){if(u.right.isEmpty())return je.EMPTY;s=u.right.min(),u=u.copy(s.key,s.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,je.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,je.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw At(43730,{key:this.key,value:this.value});if(this.right.isRed())throw At(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw At(27949);return e+(this.isRed()?0:1)}}je.EMPTY=null,je.RED=!0,je.BLACK=!1;je.EMPTY=new class{constructor(){this.size=0}get key(){throw At(57766)}get value(){throw At(16141)}get color(){throw At(16727)}get left(){throw At(29726)}get right(){throw At(36894)}copy(e,i,s,u,h){return this}insert(e,i,s){return new je(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e){this.comparator=e,this.data=new de(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,s)=>(e(i),!1))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const u=s.getNext();if(this.comparator(u.key,e[1])>=0)return;i(u.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new ky(this.data.getIterator())}getIteratorFrom(e){return new ky(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(s=>{i=i.add(s)}),i}isEqual(e){if(!(e instanceof Ce)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=s.getNext().key;if(this.comparator(u,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new Ce(this.comparator);return i.data=e,i}}class ky{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e){this.fields=e,e.sort(Je.comparator)}static empty(){return new cr([])}unionWith(e){let i=new Ce(Je.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new cr(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return _s(this.fields,e.fields,(i,s)=>i.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(u){try{return atob(u)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new g_("Invalid base64 string: "+h):h}}(e);return new ke(i)}static fromUint8Array(e){const i=function(u){let h="";for(let d=0;d<u.length;++d)h+=String.fromCharCode(u[d]);return h}(e);return new ke(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let u=0;u<i.length;u++)s[u]=i.charCodeAt(u);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ot(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ke.EMPTY_BYTE_STRING=new ke("");const zA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vr(a){if(ae(!!a,39018),typeof a=="string"){let e=0;const i=zA.exec(a);if(ae(!!i,46558,{timestamp:a}),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),e=Number(u)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:fe(a.seconds),nanos:fe(a.nanos)}}function fe(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function _r(a){return typeof a=="string"?ke.fromBase64String(a):ke.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_="server_timestamp",y_="__type__",v_="__previous_value__",__="__local_write_time__";function Cd(a){return(a?.mapValue?.fields||{})[y_]?.stringValue===p_}function gc(a){const e=a.mapValue.fields[v_];return Cd(e)?gc(e):e}function tu(a){const e=vr(a.mapValue.fields[__].timestampValue);return new _e(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(e,i,s,u,h,d,g,y,p,T){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=u,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=p,this.isUsingEmulator=T}}const ic="(default)";class eu{constructor(e,i){this.projectId=e,this.database=i||ic}static empty(){return new eu("","")}get isDefaultDatabase(){return this.database===ic}isEqual(e){return e instanceof eu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BA="__type__",jA="__max__",jo={mapValue:{}},kA="__vector__",Jf="value";function Er(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Cd(a)?4:HA(a)?9007199254740991:qA(a)?10:11:At(28295,{value:a})}function ei(a,e){if(a===e)return!0;const i=Er(a);if(i!==Er(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return tu(a).isEqual(tu(e));case 3:return function(u,h){if(typeof u.timestampValue=="string"&&typeof h.timestampValue=="string"&&u.timestampValue.length===h.timestampValue.length)return u.timestampValue===h.timestampValue;const d=vr(u.timestampValue),g=vr(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(a,e);case 5:return a.stringValue===e.stringValue;case 6:return function(u,h){return _r(u.bytesValue).isEqual(_r(h.bytesValue))}(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return function(u,h){return fe(u.geoPointValue.latitude)===fe(h.geoPointValue.latitude)&&fe(u.geoPointValue.longitude)===fe(h.geoPointValue.longitude)}(a,e);case 2:return function(u,h){if("integerValue"in u&&"integerValue"in h)return fe(u.integerValue)===fe(h.integerValue);if("doubleValue"in u&&"doubleValue"in h){const d=fe(u.doubleValue),g=fe(h.doubleValue);return d===g?Zf(d)===Zf(g):isNaN(d)&&isNaN(g)}return!1}(a,e);case 9:return _s(a.arrayValue.values||[],e.arrayValue.values||[],ei);case 10:case 11:return function(u,h){const d=u.mapValue.fields||{},g=h.mapValue.fields||{};if(jy(d)!==jy(g))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(g[y]===void 0||!ei(d[y],g[y])))return!1;return!0}(a,e);default:return At(52216,{left:a})}}function nu(a,e){return(a.values||[]).find(i=>ei(i,e))!==void 0}function Es(a,e){if(a===e)return 0;const i=Er(a),s=Er(e);if(i!==s)return Ot(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ot(a.booleanValue,e.booleanValue);case 2:return function(h,d){const g=fe(h.integerValue||h.doubleValue),y=fe(d.integerValue||d.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1}(a,e);case 3:return qy(a.timestampValue,e.timestampValue);case 4:return qy(tu(a),tu(e));case 5:return $f(a.stringValue,e.stringValue);case 6:return function(h,d){const g=_r(h),y=_r(d);return g.compareTo(y)}(a.bytesValue,e.bytesValue);case 7:return function(h,d){const g=h.split("/"),y=d.split("/");for(let p=0;p<g.length&&p<y.length;p++){const T=Ot(g[p],y[p]);if(T!==0)return T}return Ot(g.length,y.length)}(a.referenceValue,e.referenceValue);case 8:return function(h,d){const g=Ot(fe(h.latitude),fe(d.latitude));return g!==0?g:Ot(fe(h.longitude),fe(d.longitude))}(a.geoPointValue,e.geoPointValue);case 9:return Hy(a.arrayValue,e.arrayValue);case 10:return function(h,d){const g=h.fields||{},y=d.fields||{},p=g[Jf]?.arrayValue,T=y[Jf]?.arrayValue,D=Ot(p?.values?.length||0,T?.values?.length||0);return D!==0?D:Hy(p,T)}(a.mapValue,e.mapValue);case 11:return function(h,d){if(h===jo.mapValue&&d===jo.mapValue)return 0;if(h===jo.mapValue)return 1;if(d===jo.mapValue)return-1;const g=h.fields||{},y=Object.keys(g),p=d.fields||{},T=Object.keys(p);y.sort(),T.sort();for(let D=0;D<y.length&&D<T.length;++D){const b=$f(y[D],T[D]);if(b!==0)return b;const j=Es(g[y[D]],p[T[D]]);if(j!==0)return j}return Ot(y.length,T.length)}(a.mapValue,e.mapValue);default:throw At(23264,{he:i})}}function qy(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return Ot(a,e);const i=vr(a),s=vr(e),u=Ot(i.seconds,s.seconds);return u!==0?u:Ot(i.nanos,s.nanos)}function Hy(a,e){const i=a.values||[],s=e.values||[];for(let u=0;u<i.length&&u<s.length;++u){const h=Es(i[u],s[u]);if(h)return h}return Ot(i.length,s.length)}function Ts(a){return Wf(a)}function Wf(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(i){const s=vr(i);return`time(${s.seconds},${s.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?function(i){return _r(i).toBase64()}(a.bytesValue):"referenceValue"in a?function(i){return vt.fromName(i).toString()}(a.referenceValue):"geoPointValue"in a?function(i){return`geo(${i.latitude},${i.longitude})`}(a.geoPointValue):"arrayValue"in a?function(i){let s="[",u=!0;for(const h of i.values||[])u?u=!1:s+=",",s+=Wf(h);return s+"]"}(a.arrayValue):"mapValue"in a?function(i){const s=Object.keys(i.fields||{}).sort();let u="{",h=!0;for(const d of s)h?h=!1:u+=",",u+=`${d}:${Wf(i.fields[d])}`;return u+"}"}(a.mapValue):At(61005,{value:a})}function Fo(a){switch(Er(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=gc(a);return e?16+Fo(e):16;case 5:return 2*a.stringValue.length;case 6:return _r(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((u,h)=>u+Fo(h),0)}(a.arrayValue);case 10:case 11:return function(s){let u=0;return uu(s.fields,(h,d)=>{u+=h.length+Fo(d)}),u}(a.mapValue);default:throw At(13486,{value:a})}}function td(a){return!!a&&"integerValue"in a}function Dd(a){return!!a&&"arrayValue"in a}function Gy(a){return!!a&&"nullValue"in a}function Qy(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Pf(a){return!!a&&"mapValue"in a}function qA(a){return(a?.mapValue?.fields||{})[BA]?.stringValue===kA}function Fl(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const e={mapValue:{fields:{}}};return uu(a.mapValue.fields,(i,s)=>e.mapValue.fields[i]=Fl(s)),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Fl(a.arrayValue.values[i]);return e}return{...a}}function HA(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===jA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this.value=e}static empty(){return new Jn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!Pf(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fl(i)}setAll(e){let i=Je.emptyPath(),s={},u=[];e.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const y=this.getFieldsMap(i);this.applyChanges(y,s,u),s={},u=[],i=g.popLast()}d?s[g.lastSegment()]=Fl(d):u.push(g.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,s,u)}delete(e){const i=this.field(e.popLast());Pf(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ei(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let u=i.mapValue.fields[e.get(s)];Pf(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=u),i=u}return i.mapValue.fields}applyChanges(e,i,s){uu(i,(u,h)=>e[u]=h);for(const u of s)delete e[u]}clone(){return new Jn(Fl(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e,i,s,u,h,d,g){this.key=e,this.documentType=i,this.version=s,this.readTime=u,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Fe(e,0,St.min(),St.min(),St.min(),Jn.empty(),0)}static newFoundDocument(e,i,s,u){return new Fe(e,1,i,St.min(),s,u,0)}static newNoDocument(e,i){return new Fe(e,2,i,St.min(),St.min(),Jn.empty(),0)}static newUnknownDocument(e,i){return new Fe(e,3,i,St.min(),St.min(),Jn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Jn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Jn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Fe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Fe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(e,i){this.position=e,this.inclusive=i}}function Yy(a,e,i){let s=0;for(let u=0;u<a.position.length;u++){const h=e[u],d=a.position[u];if(h.field.isKeyField()?s=vt.comparator(vt.fromName(d.referenceValue),i.key):s=Es(d,i.data.field(h.field)),h.dir==="desc"&&(s*=-1),s!==0)break}return s}function Fy(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!ei(a.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e,i="asc"){this.field=e,this.dir=i}}function GA(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{}class we extends E_{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new YA(e,i,s):i==="array-contains"?new XA(e,s):i==="in"?new $A(e,s):i==="not-in"?new ZA(e,s):i==="array-contains-any"?new JA(e,s):new we(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new FA(e,s):new KA(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Es(i,this.value)):i!==null&&Er(this.value)===Er(i)&&this.matchesComparison(Es(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return At(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ni extends E_{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new ni(e,i)}matches(e){return T_(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function T_(a){return a.op==="and"}function S_(a){return QA(a)&&T_(a)}function QA(a){for(const e of a.filters)if(e instanceof ni)return!1;return!0}function ed(a){if(a instanceof we)return a.field.canonicalString()+a.op.toString()+Ts(a.value);if(S_(a))return a.filters.map(e=>ed(e)).join(",");{const e=a.filters.map(i=>ed(i)).join(",");return`${a.op}(${e})`}}function A_(a,e){return a instanceof we?function(s,u){return u instanceof we&&s.op===u.op&&s.field.isEqual(u.field)&&ei(s.value,u.value)}(a,e):a instanceof ni?function(s,u){return u instanceof ni&&s.op===u.op&&s.filters.length===u.filters.length?s.filters.reduce((h,d,g)=>h&&A_(d,u.filters[g]),!0):!1}(a,e):void At(19439)}function b_(a){return a instanceof we?function(i){return`${i.field.canonicalString()} ${i.op} ${Ts(i.value)}`}(a):a instanceof ni?function(i){return i.op.toString()+" {"+i.getFilters().map(b_).join(" ,")+"}"}(a):"Filter"}class YA extends we{constructor(e,i,s){super(e,i,s),this.key=vt.fromName(s.referenceValue)}matches(e){const i=vt.comparator(e.key,this.key);return this.matchesComparison(i)}}class FA extends we{constructor(e,i){super(e,"in",i),this.keys=R_("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class KA extends we{constructor(e,i){super(e,"not-in",i),this.keys=R_("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function R_(a,e){return(e.arrayValue?.values||[]).map(i=>vt.fromName(i.referenceValue))}class XA extends we{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Dd(i)&&nu(i.arrayValue,this.value)}}class $A extends we{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&nu(this.value.arrayValue,i)}}class ZA extends we{constructor(e,i){super(e,"not-in",i)}matches(e){if(nu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!nu(this.value.arrayValue,i)}}class JA extends we{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Dd(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>nu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e,i=null,s=[],u=[],h=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=u,this.limit=h,this.startAt=d,this.endAt=g,this.Te=null}}function Ky(a,e=null,i=[],s=[],u=null,h=null,d=null){return new WA(a,e,i,s,u,h,d)}function Nd(a){const e=zt(a);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(s=>ed(s)).join(","),i+="|ob:",i+=e.orderBy.map(s=>function(h){return h.field.canonicalString()+h.dir}(s)).join(","),mc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(s=>Ts(s)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(s=>Ts(s)).join(",")),e.Te=i}return e.Te}function xd(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!GA(a.orderBy[i],e.orderBy[i]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!A_(a.filters[i],e.filters[i]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!Fy(a.startAt,e.startAt)&&Fy(a.endAt,e.endAt)}function nd(a){return vt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e,i=null,s=[],u=[],h=null,d="F",g=null,y=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=u,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function tb(a,e,i,s,u,h,d,g){return new pc(a,e,i,s,u,h,d,g)}function Od(a){return new pc(a)}function Xy(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function eb(a){return a.collectionGroup!==null}function Kl(a){const e=zt(a);if(e.Ie===null){e.Ie=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ie.push(h),i.add(h.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Ce(Je.comparator);return d.filters.forEach(y=>{y.getFlattenedFilters().forEach(p=>{p.isInequality()&&(g=g.add(p.field))})}),g})(e).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ie.push(new ac(h,s))}),i.has(Je.keyField().canonicalString())||e.Ie.push(new ac(Je.keyField(),s))}return e.Ie}function ti(a){const e=zt(a);return e.Ee||(e.Ee=nb(e,Kl(a))),e.Ee}function nb(a,e){if(a.limitType==="F")return Ky(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map(u=>{const h=u.dir==="desc"?"asc":"desc";return new ac(u.field,h)});const i=a.endAt?new rc(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new rc(a.startAt.position,a.startAt.inclusive):null;return Ky(a.path,a.collectionGroup,e,a.filters,a.limit,i,s)}}function id(a,e,i){return new pc(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,i,a.startAt,a.endAt)}function yc(a,e){return xd(ti(a),ti(e))&&a.limitType===e.limitType}function w_(a){return`${Nd(ti(a))}|lt:${a.limitType}`}function os(a){return`Query(target=${function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(u=>b_(u)).join(", ")}]`),mc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(u=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(u)).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(u=>Ts(u)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(u=>Ts(u)).join(",")),`Target(${s})`}(ti(a))}; limitType=${a.limitType})`}function vc(a,e){return e.isFoundDocument()&&function(s,u){const h=u.key.path;return s.collectionGroup!==null?u.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(h):vt.isDocumentKey(s.path)?s.path.isEqual(h):s.path.isImmediateParentOf(h)}(a,e)&&function(s,u){for(const h of Kl(s))if(!h.field.isKeyField()&&u.data.field(h.field)===null)return!1;return!0}(a,e)&&function(s,u){for(const h of s.filters)if(!h.matches(u))return!1;return!0}(a,e)&&function(s,u){return!(s.startAt&&!function(d,g,y){const p=Yy(d,g,y);return d.inclusive?p<=0:p<0}(s.startAt,Kl(s),u)||s.endAt&&!function(d,g,y){const p=Yy(d,g,y);return d.inclusive?p>=0:p>0}(s.endAt,Kl(s),u))}(a,e)}function ib(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function C_(a){return(e,i)=>{let s=!1;for(const u of Kl(a)){const h=rb(u,e,i);if(h!==0)return h;s=s||u.field.isKeyField()}return 0}}function rb(a,e,i){const s=a.field.isKeyField()?vt.comparator(e.key,i.key):function(h,d,g){const y=d.data.field(h),p=g.data.field(h);return y!==null&&p!==null?Es(y,p):At(42886)}(a.field,e,i);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return At(19790,{direction:a.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[u,h]of s)if(this.equalsFn(u,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),u=this.inner[s];if(u===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let h=0;h<u.length;h++)if(this.equalsFn(u[h][0],e))return void(u[h]=[e,i]);u.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],e))return s.length===1?delete this.inner[i]:s.splice(u,1),this.innerSize--,!0;return!1}forEach(e){uu(this.inner,(i,s)=>{for(const[u,h]of s)e(u,h)})}isEmpty(){return LA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ab=new de(vt.comparator);function Tr(){return ab}const D_=new de(vt.comparator);function Hl(...a){let e=D_;for(const i of a)e=e.insert(i.key,i);return e}function sb(a){let e=D_;return a.forEach((i,s)=>e=e.insert(i,s.overlayedDocument)),e}function ua(){return Xl()}function N_(){return Xl()}function Xl(){return new ma(a=>a.toString(),(a,e)=>a.isEqual(e))}const lb=new Ce(vt.comparator);function Bt(...a){let e=lb;for(const i of a)e=e.add(i);return e}const ub=new Ce(Ot);function ob(){return ub}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cb(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zf(e)?"-0":e}}function hb(a){return{integerValue:""+a}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(){this._=void 0}}function fb(a,e,i){return a instanceof rd?function(u,h){const d={fields:{[y_]:{stringValue:p_},[__]:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return h&&Cd(h)&&(h=gc(h)),h&&(d.fields[v_]=h),{mapValue:d}}(i,e):a instanceof sc?x_(a,e):a instanceof lc?O_(a,e):function(u,h){const d=mb(u,h),g=$y(d)+$y(u.Ae);return td(d)&&td(u.Ae)?hb(g):cb(u.serializer,g)}(a,e)}function db(a,e,i){return a instanceof sc?x_(a,e):a instanceof lc?O_(a,e):i}function mb(a,e){return a instanceof ad?function(s){return td(s)||function(h){return!!h&&"doubleValue"in h}(s)}(e)?e:{integerValue:0}:null}class rd extends _c{}class sc extends _c{constructor(e){super(),this.elements=e}}function x_(a,e){const i=V_(e);for(const s of a.elements)i.some(u=>ei(u,s))||i.push(s);return{arrayValue:{values:i}}}class lc extends _c{constructor(e){super(),this.elements=e}}function O_(a,e){let i=V_(e);for(const s of a.elements)i=i.filter(u=>!ei(u,s));return{arrayValue:{values:i}}}class ad extends _c{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function $y(a){return fe(a.integerValue||a.doubleValue)}function V_(a){return Dd(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function gb(a,e){return a.field.isEqual(e.field)&&function(s,u){return s instanceof sc&&u instanceof sc||s instanceof lc&&u instanceof lc?_s(s.elements,u.elements,ei):s instanceof ad&&u instanceof ad?ei(s.Ae,u.Ae):s instanceof rd&&u instanceof rd}(a.transform,e.transform)}class oa{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new oa}static exists(e){return new oa(void 0,e)}static updateTime(e){return new oa(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ko(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class Vd{}function I_(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new yb(a.key,oa.none()):new Id(a.key,a.data,oa.none());{const i=a.data,s=Jn.empty();let u=new Ce(Je.comparator);for(let h of e.fields)if(!u.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?s.delete(h):s.set(h,d),u=u.add(h)}return new Ec(a.key,s,new cr(u.toArray()),oa.none())}}function pb(a,e,i){a instanceof Id?function(u,h,d){const g=u.value.clone(),y=Jy(u.fieldTransforms,h,d.transformResults);g.setAll(y),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(a,e,i):a instanceof Ec?function(u,h,d){if(!Ko(u.precondition,h))return void h.convertToUnknownDocument(d.version);const g=Jy(u.fieldTransforms,h,d.transformResults),y=h.data;y.setAll(M_(u)),y.setAll(g),h.convertToFoundDocument(d.version,y).setHasCommittedMutations()}(a,e,i):function(u,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function $l(a,e,i,s){return a instanceof Id?function(h,d,g,y){if(!Ko(h.precondition,d))return g;const p=h.value.clone(),T=Wy(h.fieldTransforms,y,d);return p.setAll(T),d.convertToFoundDocument(d.version,p).setHasLocalMutations(),null}(a,e,i,s):a instanceof Ec?function(h,d,g,y){if(!Ko(h.precondition,d))return g;const p=Wy(h.fieldTransforms,y,d),T=d.data;return T.setAll(M_(h)),T.setAll(p),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(D=>D.field))}(a,e,i,s):function(h,d,g){return Ko(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(a,e,i)}function Zy(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!function(s,u){return s===void 0&&u===void 0||!(!s||!u)&&_s(s,u,(h,d)=>gb(h,d))}(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class Id extends Vd{constructor(e,i,s,u=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class Ec extends Vd{constructor(e,i,s,u,h=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=u,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function M_(a){const e=new Map;return a.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=a.data.field(i);e.set(i,s)}}),e}function Jy(a,e,i){const s=new Map;ae(a.length===i.length,32656,{Re:i.length,Ve:a.length});for(let u=0;u<i.length;u++){const h=a[u],d=h.transform,g=e.data.field(h.field);s.set(h.field,db(d,g,i[u]))}return s}function Wy(a,e,i){const s=new Map;for(const u of a){const h=u.transform,d=i.data.field(u.field);s.set(u.field,fb(h,d,e))}return s}class yb extends Vd{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(e,i,s,u){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=u}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const h=this.mutations[u];h.key.isEqual(e.key)&&pb(h,e,s[u])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=$l(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=$l(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=N_();return this.mutations.forEach(u=>{const h=e.get(u.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(u.key)?null:g;const y=I_(d,g);y!==null&&s.set(u.key,y),d.isValidDocument()||d.convertToNoDocument(St.min())}),s}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Bt())}isEqual(e){return this.batchId===e.batchId&&_s(this.mutations,e.mutations,(i,s)=>Zy(i,s))&&_s(this.baseMutations,e.baseMutations,(i,s)=>Zy(i,s))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ve,Ut;function U_(a){if(a===void 0)return Ii("GRPC error has no .code"),st.UNKNOWN;switch(a){case ve.OK:return st.OK;case ve.CANCELLED:return st.CANCELLED;case ve.UNKNOWN:return st.UNKNOWN;case ve.DEADLINE_EXCEEDED:return st.DEADLINE_EXCEEDED;case ve.RESOURCE_EXHAUSTED:return st.RESOURCE_EXHAUSTED;case ve.INTERNAL:return st.INTERNAL;case ve.UNAVAILABLE:return st.UNAVAILABLE;case ve.UNAUTHENTICATED:return st.UNAUTHENTICATED;case ve.INVALID_ARGUMENT:return st.INVALID_ARGUMENT;case ve.NOT_FOUND:return st.NOT_FOUND;case ve.ALREADY_EXISTS:return st.ALREADY_EXISTS;case ve.PERMISSION_DENIED:return st.PERMISSION_DENIED;case ve.FAILED_PRECONDITION:return st.FAILED_PRECONDITION;case ve.ABORTED:return st.ABORTED;case ve.OUT_OF_RANGE:return st.OUT_OF_RANGE;case ve.UNIMPLEMENTED:return st.UNIMPLEMENTED;case ve.DATA_LOSS:return st.DATA_LOSS;default:return At(39323,{code:a})}}(Ut=ve||(ve={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tb(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb=new mr([4294967295,4294967295],0);function tv(a){const e=Tb().encode(a),i=new s_;return i.update(e),new Uint8Array(i.digest())}function ev(a){const e=new DataView(a.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),u=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new mr([i,s],0),new mr([u,h],0)]}class Md{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Gl(`Invalid padding: ${i}`);if(s<0)throw new Gl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Gl(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new Gl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=mr.fromNumber(this.ge)}ye(e,i,s){let u=e.add(i.multiply(mr.fromNumber(s)));return u.compare(Sb)===1&&(u=new mr([u.getBits(0),u.getBits(1)],0)),u.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=tv(e),[s,u]=ev(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(s,u,h);if(!this.we(d))return!1}return!0}static create(e,i,s){const u=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new Md(h,u,i);return s.forEach(g=>d.insert(g)),d}insert(e){if(this.ge===0)return;const i=tv(e),[s,u]=ev(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(s,u,h);this.Se(d)}}Se(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class Gl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e,i,s,u,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=u,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const u=new Map;return u.set(e,ou.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new Tc(St.min(),u,new de(Ot),Tr(),Bt())}}class ou{constructor(e,i,s,u,h){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=u,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new ou(s,i,Bt(),Bt(),Bt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e,i,s,u){this.be=e,this.removedTargetIds=i,this.key=s,this.De=u}}class L_{constructor(e,i){this.targetId=e,this.Ce=i}}class z_{constructor(e,i,s=ke.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=u}}class nv{constructor(){this.ve=0,this.Fe=iv(),this.Me=ke.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Bt(),i=Bt(),s=Bt();return this.Fe.forEach((u,h)=>{switch(h){case 0:e=e.add(u);break;case 2:i=i.add(u);break;case 1:s=s.add(u);break;default:At(38017,{changeType:h})}}),new ou(this.Me,this.xe,e,i,s)}qe(){this.Oe=!1,this.Fe=iv()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ae(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Ab{constructor(e){this.Ge=e,this.ze=new Map,this.je=Tr(),this.Je=ko(),this.He=ko(),this.Ye=new de(Ot)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,i=>{const s=this.nt(i);switch(e.state){case 0:this.rt(i)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(e.resumeToken));break;default:At(56790,{state:e.state})}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach((s,u)=>{this.rt(u)&&i(u)})}st(e){const i=e.targetId,s=e.Ce.count,u=this.ot(i);if(u){const h=u.target;if(nd(h))if(s===0){const d=new vt(h.path);this.et(i,d,Fe.newNoDocument(d,St.min()))}else ae(s===1,20013,{expectedCount:s});else{const d=this._t(i);if(d!==s){const g=this.ut(e),y=g?this.ct(g,e,d):1;if(y!==0){this.it(i);const p=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,p)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:u=0},hashCount:h=0}=i;let d,g;try{d=_r(s).toUint8Array()}catch(y){if(y instanceof g_)return vs("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new Md(d,u,h)}catch(y){return vs(y instanceof Gl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.ge===0?null:g}ct(e,i,s){return i.Ce.count===s-this.Pt(e,i.targetId)?0:2}Pt(e,i){const s=this.Ge.getRemoteKeysForTarget(i);let u=0;return s.forEach(h=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(g)||(this.et(i,h,null),u++)}),u}Tt(e){const i=new Map;this.ze.forEach((h,d)=>{const g=this.ot(d);if(g){if(h.current&&nd(g.target)){const y=new vt(g.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,Fe.newNoDocument(y,e))}h.Be&&(i.set(d,h.ke()),h.qe())}});let s=Bt();this.He.forEach((h,d)=>{let g=!0;d.forEachWhile(y=>{const p=this.ot(y);return!p||p.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(h))}),this.je.forEach((h,d)=>d.setReadTime(e));const u=new Tc(e,i,this.Ye,this.je,s);return this.je=Tr(),this.Je=ko(),this.He=ko(),this.Ye=new de(Ot),u}Xe(e,i){if(!this.rt(e))return;const s=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,s),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,s){if(!this.rt(e))return;const u=this.nt(e);this.Et(e,i)?u.Qe(i,1):u.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),s&&(this.je=this.je.insert(i,s))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new nv,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Ce(Ot),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Ce(Ot),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ht("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new nv),this.Ge.getRemoteKeysForTarget(e).forEach(i=>{this.et(e,i,null)})}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function ko(){return new de(vt.comparator)}function iv(){return new de(vt.comparator)}const bb={asc:"ASCENDING",desc:"DESCENDING"},Rb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},wb={and:"AND",or:"OR"};class Cb{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function sd(a,e){return a.useProto3Json||mc(e)?e:{value:e}}function Db(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Nb(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function ms(a){return ae(!!a,49232),St.fromTimestamp(function(i){const s=vr(i);return new _e(s.seconds,s.nanos)}(a))}function xb(a,e){return ld(a,e).canonicalString()}function ld(a,e){const i=function(u){return new ie(["projects",u.projectId,"databases",u.database])}(a).child("documents");return e===void 0?i:i.child(e)}function P_(a){const e=ie.fromString(a);return ae(H_(e),10190,{key:e.toString()}),e}function Bf(a,e){const i=P_(e);if(i.get(1)!==a.databaseId.projectId)throw new gt(st.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new gt(st.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new vt(j_(i))}function B_(a,e){return xb(a.databaseId,e)}function Ob(a){const e=P_(a);return e.length===4?ie.emptyPath():j_(e)}function rv(a){return new ie(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function j_(a){return ae(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function Vb(a,e){let i;if("targetChange"in e){e.targetChange;const s=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:At(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),u=e.targetChange.targetIds||[],h=function(p,T){return p.useProto3Json?(ae(T===void 0||typeof T=="string",58123),ke.fromBase64String(T||"")):(ae(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),ke.fromUint8Array(T||new Uint8Array))}(a,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(p){const T=p.code===void 0?st.UNKNOWN:U_(p.code);return new gt(T,p.message||"")}(d);i=new z_(s,u,h,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const u=Bf(a,s.document.name),h=ms(s.document.updateTime),d=s.document.createTime?ms(s.document.createTime):St.min(),g=new Jn({mapValue:{fields:s.document.fields}}),y=Fe.newFoundDocument(u,h,d,g),p=s.targetIds||[],T=s.removedTargetIds||[];i=new Xo(p,T,y.key,y)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const u=Bf(a,s.document),h=s.readTime?ms(s.readTime):St.min(),d=Fe.newNoDocument(u,h),g=s.removedTargetIds||[];i=new Xo([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const u=Bf(a,s.document),h=s.removedTargetIds||[];i=new Xo([],h,u,null)}else{if(!("filter"in e))return At(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:u=0,unchangedNames:h}=s,d=new Eb(u,h),g=s.targetId;i=new L_(g,d)}}return i}function Ib(a,e){return{documents:[B_(a,e.path)]}}function Mb(a,e){const i={structuredQuery:{}},s=e.path;let u;e.collectionGroup!==null?(u=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(u=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=B_(a,u);const h=function(p){if(p.length!==0)return q_(ni.create(p,"and"))}(e.filters);h&&(i.structuredQuery.where=h);const d=function(p){if(p.length!==0)return p.map(T=>function(b){return{field:cs(b.field),direction:zb(b.dir)}}(T))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=sd(a,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ft:i,parent:u}}function Ub(a){let e=Ob(a.parent);const i=a.structuredQuery,s=i.from?i.from.length:0;let u=null;if(s>0){ae(s===1,65062);const T=i.from[0];T.allDescendants?u=T.collectionId:e=e.child(T.collectionId)}let h=[];i.where&&(h=function(D){const b=k_(D);return b instanceof ni&&S_(b)?b.getFilters():[b]}(i.where));let d=[];i.orderBy&&(d=function(D){return D.map(b=>function(L){return new ac(hs(L.field),function(Y){switch(Y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(L.direction))}(b))}(i.orderBy));let g=null;i.limit&&(g=function(D){let b;return b=typeof D=="object"?D.value:D,mc(b)?null:b}(i.limit));let y=null;i.startAt&&(y=function(D){const b=!!D.before,j=D.values||[];return new rc(j,b)}(i.startAt));let p=null;return i.endAt&&(p=function(D){const b=!D.before,j=D.values||[];return new rc(j,b)}(i.endAt)),tb(e,u,d,h,g,"F",y,p)}function Lb(a,e){const i=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return At(28987,{purpose:u})}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function k_(a){return a.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=hs(i.unaryFilter.field);return we.create(s,"==",{doubleValue:NaN});case"IS_NULL":const u=hs(i.unaryFilter.field);return we.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=hs(i.unaryFilter.field);return we.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=hs(i.unaryFilter.field);return we.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return At(61313);default:return At(60726)}}(a):a.fieldFilter!==void 0?function(i){return we.create(hs(i.fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return At(58110);default:return At(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(a):a.compositeFilter!==void 0?function(i){return ni.create(i.compositeFilter.filters.map(s=>k_(s)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return At(1026)}}(i.compositeFilter.op))}(a):At(30097,{filter:a})}function zb(a){return bb[a]}function Pb(a){return Rb[a]}function Bb(a){return wb[a]}function cs(a){return{fieldPath:a.canonicalString()}}function hs(a){return Je.fromServerFormat(a.fieldPath)}function q_(a){return a instanceof we?function(i){if(i.op==="=="){if(Qy(i.value))return{unaryFilter:{field:cs(i.field),op:"IS_NAN"}};if(Gy(i.value))return{unaryFilter:{field:cs(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Qy(i.value))return{unaryFilter:{field:cs(i.field),op:"IS_NOT_NAN"}};if(Gy(i.value))return{unaryFilter:{field:cs(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:cs(i.field),op:Pb(i.op),value:i.value}}}(a):a instanceof ni?function(i){const s=i.getFilters().map(u=>q_(u));return s.length===1?s[0]:{compositeFilter:{op:Bb(i.op),filters:s}}}(a):At(54877,{filter:a})}function H_(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e,i,s,u,h=St.min(),d=St.min(),g=ke.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=u,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(e){return new hr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new hr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(e){this.yt=e}}function kb(a){const e=Ub({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?id(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(){this.Cn=new Hb}addToCollectionParentIndex(e,i){return this.Cn.add(i),tt.resolve()}getCollectionParents(e,i){return tt.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return tt.resolve()}deleteFieldIndex(e,i){return tt.resolve()}deleteAllFieldIndexes(e){return tt.resolve()}createTargetIndexes(e,i){return tt.resolve()}getDocumentsMatchingTarget(e,i){return tt.resolve(null)}getIndexType(e,i){return tt.resolve(0)}getFieldIndexes(e,i){return tt.resolve([])}getNextCollectionGroupToUpdate(e){return tt.resolve(null)}getMinOffset(e,i){return tt.resolve(yr.min())}getMinOffsetFromCollectionGroup(e,i){return tt.resolve(yr.min())}updateCollectionGroup(e,i,s){return tt.resolve()}updateIndexEntries(e,i){return tt.resolve()}}class Hb{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),u=this.index[i]||new Ce(ie.comparator),h=!u.has(s);return this.index[i]=u.add(s),h}has(e){const i=e.lastSegment(),s=e.popLast(),u=this.index[i];return u&&u.has(s)}getEntries(e){return(this.index[e]||new Ce(ie.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},G_=41943040;class rn{static withCacheSize(e){return new rn(e,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rn.DEFAULT_COLLECTION_PERCENTILE=10,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rn.DEFAULT=new rn(G_,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rn.DISABLED=new rn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ss(0)}static cr(){return new Ss(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv="LruGarbageCollector",Gb=1048576;function lv([a,e],[i,s]){const u=Ot(a,i);return u===0?Ot(e,s):u}class Qb{constructor(e){this.Ir=e,this.buffer=new Ce(lv),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();lv(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Yb{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ht(sv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Ds(i)?ht(sv,"Ignoring IndexedDB error during garbage collection: ",i):await fc(i)}await this.Vr(3e5)})}}class Fb{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next(s=>Math.floor(i/100*s))}nthSequenceNumber(e,i){if(i===0)return tt.resolve(dc.ce);const s=new Qb(i);return this.mr.forEachTarget(e,u=>s.Ar(u.sequenceNumber)).next(()=>this.mr.pr(e,u=>s.Ar(u))).next(()=>s.maxValue)}removeTargets(e,i,s){return this.mr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ht("LruGarbageCollector","Garbage collection skipped; disabled"),tt.resolve(av)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ht("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),av):this.yr(e,i))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let s,u,h,d,g,y,p;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(D=>(D>this.params.maximumSequenceNumbersToCollect?(ht("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${D}`),u=this.params.maximumSequenceNumbersToCollect):u=D,d=Date.now(),this.nthSequenceNumber(e,u))).next(D=>(s=D,g=Date.now(),this.removeTargets(e,s,i))).next(D=>(h=D,y=Date.now(),this.removeOrphanedDocuments(e,s))).next(D=>(p=Date.now(),us()<=Lt.DEBUG&&ht("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${u} in `+(g-d)+`ms
	Removed ${h} targets in `+(y-g)+`ms
	Removed ${D} documents in `+(p-y)+`ms
Total Duration: ${p-T}ms`),tt.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:h,documentsRemoved:D})))}}function Kb(a,e){return new Fb(a,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(){this.changes=new ma(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Fe.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?tt.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(e,i,s,u){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=u}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next(u=>(s=u,this.remoteDocumentCache.getEntry(e,i))).next(u=>(s!==null&&$l(s.mutation,u,cr.empty(),_e.now()),u))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.getLocalViewOfDocuments(e,s,Bt()).next(()=>s))}getLocalViewOfDocuments(e,i,s=Bt()){const u=ua();return this.populateOverlays(e,u,i).next(()=>this.computeViews(e,i,u,s).next(h=>{let d=Hl();return h.forEach((g,y)=>{d=d.insert(g,y.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const s=ua();return this.populateOverlays(e,s,i).next(()=>this.computeViews(e,i,s,Bt()))}populateOverlays(e,i,s){const u=[];return s.forEach(h=>{i.has(h)||u.push(h)}),this.documentOverlayCache.getOverlays(e,u).next(h=>{h.forEach((d,g)=>{i.set(d,g)})})}computeViews(e,i,s,u){let h=Tr();const d=Xl(),g=function(){return Xl()}();return i.forEach((y,p)=>{const T=s.get(p.key);u.has(p.key)&&(T===void 0||T.mutation instanceof Ec)?h=h.insert(p.key,p):T!==void 0?(d.set(p.key,T.mutation.getFieldMask()),$l(T.mutation,p,T.mutation.getFieldMask(),_e.now())):d.set(p.key,cr.empty())}),this.recalculateAndSaveOverlays(e,h).next(y=>(y.forEach((p,T)=>d.set(p,T)),i.forEach((p,T)=>g.set(p,new $b(T,d.get(p)??null))),g))}recalculateAndSaveOverlays(e,i){const s=Xl();let u=new de((d,g)=>d-g),h=Bt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const g of d)g.keys().forEach(y=>{const p=i.get(y);if(p===null)return;let T=s.get(y)||cr.empty();T=g.applyToLocalView(p,T),s.set(y,T);const D=(u.get(g.batchId)||Bt()).add(y);u=u.insert(g.batchId,D)})}).next(()=>{const d=[],g=u.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),p=y.key,T=y.value,D=N_();T.forEach(b=>{if(!h.has(b)){const j=I_(i.get(b),s.get(b));j!==null&&D.set(b,j),h=h.add(b)}}),d.push(this.documentOverlayCache.saveOverlays(e,p,D))}return tt.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,i,s,u){return function(d){return vt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):eb(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,u):this.getDocumentsMatchingCollectionQuery(e,i,s,u)}getNextDocuments(e,i,s,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,u).next(h=>{const d=u-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,u-h.size):tt.resolve(ua());let g=Wl,y=h;return d.next(p=>tt.forEach(p,(T,D)=>(g<D.largestBatchId&&(g=D.largestBatchId),h.get(T)?tt.resolve():this.remoteDocumentCache.getEntry(e,T).next(b=>{y=y.insert(T,b)}))).next(()=>this.populateOverlays(e,p,h)).next(()=>this.computeViews(e,y,p,Bt())).next(T=>({batchId:g,changes:sb(T)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new vt(i)).next(s=>{let u=Hl();return s.isFoundDocument()&&(u=u.insert(s.key,s)),u})}getDocumentsMatchingCollectionGroupQuery(e,i,s,u){const h=i.collectionGroup;let d=Hl();return this.indexManager.getCollectionParents(e,h).next(g=>tt.forEach(g,y=>{const p=function(D,b){return new pc(b,null,D.explicitOrderBy.slice(),D.filters.slice(),D.limit,D.limitType,D.startAt,D.endAt)}(i,y.child(h));return this.getDocumentsMatchingCollectionQuery(e,p,s,u).next(T=>{T.forEach((D,b)=>{d=d.insert(D,b)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,s,u){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,h,u))).next(d=>{h.forEach((y,p)=>{const T=p.getKey();d.get(T)===null&&(d=d.insert(T,Fe.newInvalidDocument(T)))});let g=Hl();return d.forEach((y,p)=>{const T=h.get(y);T!==void 0&&$l(T.mutation,p,cr.empty(),_e.now()),vc(i,p)&&(g=g.insert(y,p))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return tt.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,function(u){return{id:u.id,version:u.version,createTime:ms(u.createTime)}}(i)),tt.resolve()}getNamedQuery(e,i){return tt.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,function(u){return{name:u.name,query:kb(u.bundledQuery),readTime:ms(u.readTime)}}(i)),tt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(){this.overlays=new de(vt.comparator),this.qr=new Map}getOverlay(e,i){return tt.resolve(this.overlays.get(i))}getOverlays(e,i){const s=ua();return tt.forEach(i,u=>this.getOverlay(e,u).next(h=>{h!==null&&s.set(u,h)})).next(()=>s)}saveOverlays(e,i,s){return s.forEach((u,h)=>{this.St(e,i,h)}),tt.resolve()}removeOverlaysForBatchId(e,i,s){const u=this.qr.get(s);return u!==void 0&&(u.forEach(h=>this.overlays=this.overlays.remove(h)),this.qr.delete(s)),tt.resolve()}getOverlaysForCollection(e,i,s){const u=ua(),h=i.length+1,d=new vt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const y=g.getNext().value,p=y.getKey();if(!i.isPrefixOf(p.path))break;p.path.length===h&&y.largestBatchId>s&&u.set(y.getKey(),y)}return tt.resolve(u)}getOverlaysForCollectionGroup(e,i,s,u){let h=new de((p,T)=>p-T);const d=this.overlays.getIterator();for(;d.hasNext();){const p=d.getNext().value;if(p.getKey().getCollectionGroup()===i&&p.largestBatchId>s){let T=h.get(p.largestBatchId);T===null&&(T=ua(),h=h.insert(p.largestBatchId,T)),T.set(p.getKey(),p)}}const g=ua(),y=h.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((p,T)=>g.set(p,T)),!(g.size()>=u)););return tt.resolve(g)}St(e,i,s){const u=this.overlays.get(s.key);if(u!==null){const d=this.qr.get(u.largestBatchId).delete(s.key);this.qr.set(u.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new _b(i,s));let h=this.qr.get(i);h===void 0&&(h=Bt(),this.qr.set(i,h)),this.qr.set(i,h.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(){this.sessionToken=ke.EMPTY_BYTE_STRING}getSessionToken(e){return tt.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,tt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(){this.Qr=new Ce(Me.$r),this.Ur=new Ce(Me.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const s=new Me(e,i);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,i){e.forEach(s=>this.addReference(s,i))}removeReference(e,i){this.Gr(new Me(e,i))}zr(e,i){e.forEach(s=>this.removeReference(s,i))}jr(e){const i=new vt(new ie([])),s=new Me(i,e),u=new Me(i,e+1),h=[];return this.Ur.forEachInRange([s,u],d=>{this.Gr(d),h.push(d.key)}),h}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new vt(new ie([])),s=new Me(i,e),u=new Me(i,e+1);let h=Bt();return this.Ur.forEachInRange([s,u],d=>{h=h.add(d.key)}),h}containsKey(e){const i=new Me(e,0),s=this.Qr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Me{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return vt.comparator(e.key,i.key)||Ot(e.Yr,i.Yr)}static Kr(e,i){return Ot(e.Yr,i.Yr)||vt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ce(Me.$r)}checkEmpty(e){return tt.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,u){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new vb(h,i,s,u);this.mutationQueue.push(d);for(const g of u)this.Zr=this.Zr.add(new Me(g.key,h)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return tt.resolve(d)}lookupMutationBatch(e,i){return tt.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,u=this.ei(s),h=u<0?0:u;return tt.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return tt.resolve(this.mutationQueue.length===0?IA:this.tr-1)}getAllMutationBatches(e){return tt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Me(i,0),u=new Me(i,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([s,u],d=>{const g=this.Xr(d.Yr);h.push(g)}),tt.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new Ce(Ot);return i.forEach(u=>{const h=new Me(u,0),d=new Me(u,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],g=>{s=s.add(g.Yr)})}),tt.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,u=s.length+1;let h=s;vt.isDocumentKey(h)||(h=h.child(""));const d=new Me(new vt(h),0);let g=new Ce(Ot);return this.Zr.forEachWhile(y=>{const p=y.key.path;return!!s.isPrefixOf(p)&&(p.length===u&&(g=g.add(y.Yr)),!0)},d),tt.resolve(this.ti(g))}ti(e){const i=[];return e.forEach(s=>{const u=this.Xr(s);u!==null&&i.push(u)}),i}removeMutationBatch(e,i){ae(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return tt.forEach(i.mutations,u=>{const h=new Me(u.key,i.batchId);return s=s.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.Zr=s})}ir(e){}containsKey(e,i){const s=new Me(i,0),u=this.Zr.firstAfterOrEqual(s);return tt.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(e){return this.mutationQueue.length,tt.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(e){this.ri=e,this.docs=function(){return new de(vt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,u=this.docs.get(s),h=u?u.size:0,d=this.ri(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return tt.resolve(s?s.document.mutableCopy():Fe.newInvalidDocument(i))}getEntries(e,i){let s=Tr();return i.forEach(u=>{const h=this.docs.get(u);s=s.insert(u,h?h.document.mutableCopy():Fe.newInvalidDocument(u))}),tt.resolve(s)}getDocumentsMatchingQuery(e,i,s,u){let h=Tr();const d=i.path,g=new vt(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:p,value:{document:T}}=y.getNext();if(!d.isPrefixOf(p.path))break;p.path.length>d.length+1||NA(DA(T),s)<=0||(u.has(T.key)||vc(i,T))&&(h=h.insert(T.key,T.mutableCopy()))}return tt.resolve(h)}getAllFromCollectionGroup(e,i,s,u){At(9500)}ii(e,i){return tt.forEach(this.docs,s=>i(s))}newChangeBuffer(e){return new i2(this)}getSize(e){return tt.resolve(this.size)}}class i2 extends Xb{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach((s,u)=>{u.isValidDocument()?i.push(this.Nr.addEntry(e,u)):this.Nr.removeEntry(s)}),tt.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e){this.persistence=e,this.si=new ma(i=>Nd(i),xd),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.oi=0,this._i=new Ud,this.targetCount=0,this.ai=Ss.ur()}forEachTarget(e,i){return this.si.forEach((s,u)=>i(u)),tt.resolve()}getLastRemoteSnapshotVersion(e){return tt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return tt.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),tt.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.oi&&(this.oi=i),tt.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Ss(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,tt.resolve()}updateTargetData(e,i){return this.Pr(i),tt.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,tt.resolve()}removeTargets(e,i,s){let u=0;const h=[];return this.si.forEach((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(e,g.targetId)),u++)}),tt.waitFor(h).next(()=>u)}getTargetCount(e){return tt.resolve(this.targetCount)}getTargetData(e,i){const s=this.si.get(i)||null;return tt.resolve(s)}addMatchingKeys(e,i,s){return this._i.Wr(i,s),tt.resolve()}removeMatchingKeys(e,i,s){this._i.zr(i,s);const u=this.persistence.referenceDelegate,h=[];return u&&i.forEach(d=>{h.push(u.markPotentiallyOrphaned(e,d))}),tt.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),tt.resolve()}getMatchingKeysForTargetId(e,i){const s=this._i.Hr(i);return tt.resolve(s)}containsKey(e,i){return tt.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_{constructor(e,i){this.ui={},this.overlays={},this.ci=new dc(0),this.li=!1,this.li=!0,this.hi=new t2,this.referenceDelegate=e(this),this.Pi=new r2(this),this.indexManager=new qb,this.remoteDocumentCache=function(u){return new n2(u)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new jb(i),this.Ii=new Jb(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new Wb,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.ui[e.toKey()];return s||(s=new e2(i,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,s){ht("MemoryPersistence","Starting transaction:",e);const u=new a2(this.ci.next());return this.referenceDelegate.Ei(),s(u).next(h=>this.referenceDelegate.di(u).next(()=>h)).toPromise().then(h=>(u.raiseOnCommittedEvent(),h))}Ai(e,i){return tt.or(Object.values(this.ui).map(s=>()=>s.containsKey(e,i)))}}class a2 extends OA{constructor(e){super(),this.currentSequenceNumber=e}}class Ld{constructor(e){this.persistence=e,this.Ri=new Ud,this.Vi=null}static mi(e){return new Ld(e)}get fi(){if(this.Vi)return this.Vi;throw At(60996)}addReference(e,i,s){return this.Ri.addReference(s,i),this.fi.delete(s.toString()),tt.resolve()}removeReference(e,i,s){return this.Ri.removeReference(s,i),this.fi.add(s.toString()),tt.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),tt.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach(u=>this.fi.add(u.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next(u=>{u.forEach(h=>this.fi.add(h.toString()))}).next(()=>s.removeTargetData(e,i))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return tt.forEach(this.fi,s=>{const u=vt.fromPath(s);return this.gi(e,u).next(h=>{h||i.removeEntry(u,St.min())})}).next(()=>(this.Vi=null,i.apply(e)))}updateLimboDocument(e,i){return this.gi(e,i).next(s=>{s?this.fi.delete(i.toString()):this.fi.add(i.toString())})}Ti(e){return 0}gi(e,i){return tt.or([()=>tt.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class uc{constructor(e,i){this.persistence=e,this.pi=new ma(s=>MA(s.path),(s,u)=>s.isEqual(u)),this.garbageCollector=Kb(this,i)}static mi(e,i){return new uc(e,i)}Ei(){}di(e){return tt.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>i.next(u=>s+u))}wr(e){let i=0;return this.pr(e,s=>{i++}).next(()=>i)}pr(e,i){return tt.forEach(this.pi,(s,u)=>this.br(e,s,u).next(h=>h?tt.resolve():i(u)))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const u=this.persistence.getRemoteDocumentCache(),h=u.newChangeBuffer();return u.ii(e,d=>this.br(e,d,i).next(g=>{g||(s++,h.removeEntry(d,St.min()))})).next(()=>h.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),tt.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),tt.resolve()}removeReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),tt.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),tt.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Fo(e.data.value)),i}br(e,i,s){return tt.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const u=this.pi.get(i);return tt.resolve(u!==void 0&&u>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(e,i,s,u){this.targetId=e,this.fromCache=i,this.Es=s,this.ds=u}static As(e,i){let s=Bt(),u=Bt();for(const h of i.docChanges)switch(h.type){case 0:s=s.add(h.doc.key);break;case 1:u=u.add(h.doc.key)}return new zd(e,i.fromCache,s,u)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return F1()?8:VA(Q1())>0?6:4}()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,s,u){const h={result:null};return this.ys(e,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.ws(e,i,u,s).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new s2;return this.Ss(e,i,d).next(g=>{if(h.result=g,this.Vs)return this.bs(e,i,d,g.size)})}).next(()=>h.result)}bs(e,i,s,u){return s.documentReadCount<this.fs?(us()<=Lt.DEBUG&&ht("QueryEngine","SDK will not create cache indexes for query:",os(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),tt.resolve()):(us()<=Lt.DEBUG&&ht("QueryEngine","Query:",os(i),"scans",s.documentReadCount,"local documents and returns",u,"documents as results."),s.documentReadCount>this.gs*u?(us()<=Lt.DEBUG&&ht("QueryEngine","The SDK decides to create cache indexes for query:",os(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ti(i))):tt.resolve())}ys(e,i){if(Xy(i))return tt.resolve(null);let s=ti(i);return this.indexManager.getIndexType(e,s).next(u=>u===0?null:(i.limit!==null&&u===1&&(i=id(i,null,"F"),s=ti(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next(h=>{const d=Bt(...h);return this.ps.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,s).next(y=>{const p=this.Ds(i,g);return this.Cs(i,p,d,y.readTime)?this.ys(e,id(i,null,"F")):this.vs(e,p,i,y)}))})))}ws(e,i,s,u){return Xy(i)||u.isEqual(St.min())?tt.resolve(null):this.ps.getDocuments(e,s).next(h=>{const d=this.Ds(i,h);return this.Cs(i,d,s,u)?tt.resolve(null):(us()<=Lt.DEBUG&&ht("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),os(i)),this.vs(e,d,i,CA(u,Wl)).next(g=>g))})}Ds(e,i){let s=new Ce(C_(e));return i.forEach((u,h)=>{vc(e,h)&&(s=s.add(h))}),s}Cs(e,i,s,u){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(u)>0)}Ss(e,i,s){return us()<=Lt.DEBUG&&ht("QueryEngine","Using full collection scan to execute query:",os(i)),this.ps.getDocumentsMatchingQuery(e,i,yr.min(),s)}vs(e,i,s,u){return this.ps.getDocumentsMatchingQuery(e,s,u).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pd="LocalStore",u2=3e8;class o2{constructor(e,i,s,u){this.persistence=e,this.Fs=i,this.serializer=u,this.Ms=new de(Ot),this.xs=new ma(h=>Nd(h),xd),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Zb(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Ms))}}function c2(a,e,i,s){return new o2(a,e,i,s)}async function Y_(a,e){const i=zt(a);return await i.persistence.runTransaction("Handle user change","readonly",s=>{let u;return i.mutationQueue.getAllMutationBatches(s).next(h=>(u=h,i.Bs(e),i.mutationQueue.getAllMutationBatches(s))).next(h=>{const d=[],g=[];let y=Bt();for(const p of u){d.push(p.batchId);for(const T of p.mutations)y=y.add(T.key)}for(const p of h){g.push(p.batchId);for(const T of p.mutations)y=y.add(T.key)}return i.localDocuments.getDocuments(s,y).next(p=>({Ls:p,removedBatchIds:d,addedBatchIds:g}))})})}function F_(a){const e=zt(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Pi.getLastRemoteSnapshotVersion(i))}function h2(a,e){const i=zt(a),s=e.snapshotVersion;let u=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});u=i.Ms;const g=[];e.targetChanges.forEach((T,D)=>{const b=u.get(D);if(!b)return;g.push(i.Pi.removeMatchingKeys(h,T.removedDocuments,D).next(()=>i.Pi.addMatchingKeys(h,T.addedDocuments,D)));let j=b.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(D)!==null?j=j.withResumeToken(ke.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):T.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(T.resumeToken,s)),u=u.insert(D,j),function(X,Y,Q){return X.resumeToken.approximateByteSize()===0||Y.snapshotVersion.toMicroseconds()-X.snapshotVersion.toMicroseconds()>=u2?!0:Q.addedDocuments.size+Q.modifiedDocuments.size+Q.removedDocuments.size>0}(b,j,T)&&g.push(i.Pi.updateTargetData(h,j))});let y=Tr(),p=Bt();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,T))}),g.push(f2(h,d,e.documentUpdates).next(T=>{y=T.ks,p=T.qs})),!s.isEqual(St.min())){const T=i.Pi.getLastRemoteSnapshotVersion(h).next(D=>i.Pi.setTargetsMetadata(h,h.currentSequenceNumber,s));g.push(T)}return tt.waitFor(g).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,y,p)).next(()=>y)}).then(h=>(i.Ms=u,h))}function f2(a,e,i){let s=Bt(),u=Bt();return i.forEach(h=>s=s.add(h)),e.getEntries(a,s).next(h=>{let d=Tr();return i.forEach((g,y)=>{const p=h.get(g);y.isFoundDocument()!==p.isFoundDocument()&&(u=u.add(g)),y.isNoDocument()&&y.version.isEqual(St.min())?(e.removeEntry(g,y.readTime),d=d.insert(g,y)):!p.isValidDocument()||y.version.compareTo(p.version)>0||y.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(y),d=d.insert(g,y)):ht(Pd,"Ignoring outdated watch update for ",g,". Current version:",p.version," Watch version:",y.version)}),{ks:d,qs:u}})}function d2(a,e){const i=zt(a);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let u;return i.Pi.getTargetData(s,e).next(h=>h?(u=h,tt.resolve(u)):i.Pi.allocateTargetId(s).next(d=>(u=new hr(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.Pi.addTargetData(s,u).next(()=>u))))}).then(s=>{const u=i.Ms.get(s.targetId);return(u===null||s.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(s.targetId,s),i.xs.set(e,s.targetId)),s})}async function ud(a,e,i){const s=zt(a),u=s.Ms.get(e),h=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",h,d=>s.persistence.referenceDelegate.removeTarget(d,u))}catch(d){if(!Ds(d))throw d;ht(Pd,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ms=s.Ms.remove(e),s.xs.delete(u.target)}function uv(a,e,i){const s=zt(a);let u=St.min(),h=Bt();return s.persistence.runTransaction("Execute query","readwrite",d=>function(y,p,T){const D=zt(y),b=D.xs.get(T);return b!==void 0?tt.resolve(D.Ms.get(b)):D.Pi.getTargetData(p,T)}(s,d,ti(e)).next(g=>{if(g)return u=g.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,g.targetId).next(y=>{h=y})}).next(()=>s.Fs.getDocumentsMatchingQuery(d,e,i?u:St.min(),i?h:Bt())).next(g=>(m2(s,ib(e),g),{documents:g,Qs:h})))}function m2(a,e,i){let s=a.Os.get(e)||St.min();i.forEach((u,h)=>{h.readTime.compareTo(s)>0&&(s=h.readTime)}),a.Os.set(e,s)}class ov{constructor(){this.activeTargetIds=ob()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class g2{constructor(){this.Mo=new ov,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,s){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new ov,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cv="ConnectivityMonitor";class hv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ht(cv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ht(cv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qo=null;function od(){return qo===null?qo=function(){return 268435456+Math.round(2147483648*Math.random())}():qo++,"0x"+qo.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jf="RestConnection",y2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class v2{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${s}/databases/${u}`,this.Wo=this.databaseId.database===ic?`project_id=${s}`:`project_id=${s}&database_id=${u}`}Go(e,i,s,u,h){const d=od(),g=this.zo(e,i.toUriEncodedString());ht(jf,`Sending RPC '${e}' ${d}:`,g,s);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,u,h);const{host:p}=new URL(g),T=Ad(p);return this.Jo(e,g,y,s,T).then(D=>(ht(jf,`Received RPC '${e}' ${d}: `,D),D),D=>{throw vs(jf,`RPC '${e}' ${d} failed with error: `,D,"url: ",g,"request:",s),D})}Ho(e,i,s,u,h,d){return this.Go(e,i,s,u,h)}jo(e,i,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Cs}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((u,h)=>e[h]=u),s&&s.headers.forEach((u,h)=>e[h]=u)}zo(e,i){const s=y2[e];return`${this.Uo}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qe="WebChannelConnection";class E2 extends v2{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,s,u,h){const d=od();return new Promise((g,y)=>{const p=new l_;p.setWithCredentials(!0),p.listenOnce(u_.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Qo.NO_ERROR:const D=p.getResponseJson();ht(Qe,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(D)),g(D);break;case Qo.TIMEOUT:ht(Qe,`RPC '${e}' ${d} timed out`),y(new gt(st.DEADLINE_EXCEEDED,"Request time out"));break;case Qo.HTTP_ERROR:const b=p.getStatus();if(ht(Qe,`RPC '${e}' ${d} failed with status:`,b,"response text:",p.getResponseText()),b>0){let j=p.getResponseJson();Array.isArray(j)&&(j=j[0]);const L=j?.error;if(L&&L.status&&L.message){const X=function(Q){const nt=Q.toLowerCase().replace(/_/g,"-");return Object.values(st).indexOf(nt)>=0?nt:st.UNKNOWN}(L.status);y(new gt(X,L.message))}else y(new gt(st.UNKNOWN,"Server responded with status "+p.getStatus()))}else y(new gt(st.UNAVAILABLE,"Connection failed."));break;default:At(9055,{l_:e,streamId:d,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ht(Qe,`RPC '${e}' ${d} completed.`)}});const T=JSON.stringify(u);ht(Qe,`RPC '${e}' ${d} sending request:`,u),p.send(i,"POST",T,s,15)})}T_(e,i,s){const u=od(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=h_(),g=c_(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(y.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,s),y.encodeInitMessageHeaders=!0;const T=h.join("");ht(Qe,`Creating RPC '${e}' stream ${u}: ${T}`,y);const D=d.createWebChannel(T,y);this.I_(D);let b=!1,j=!1;const L=new _2({Yo:Y=>{j?ht(Qe,`Not sending because RPC '${e}' stream ${u} is closed:`,Y):(b||(ht(Qe,`Opening RPC '${e}' stream ${u} transport.`),D.open(),b=!0),ht(Qe,`RPC '${e}' stream ${u} sending:`,Y),D.send(Y))},Zo:()=>D.close()}),X=(Y,Q,nt)=>{Y.listen(Q,J=>{try{nt(J)}catch(rt){setTimeout(()=>{throw rt},0)}})};return X(D,ql.EventType.OPEN,()=>{j||(ht(Qe,`RPC '${e}' stream ${u} transport opened.`),L.o_())}),X(D,ql.EventType.CLOSE,()=>{j||(j=!0,ht(Qe,`RPC '${e}' stream ${u} transport closed`),L.a_(),this.E_(D))}),X(D,ql.EventType.ERROR,Y=>{j||(j=!0,vs(Qe,`RPC '${e}' stream ${u} transport errored. Name:`,Y.name,"Message:",Y.message),L.a_(new gt(st.UNAVAILABLE,"The operation could not be completed")))}),X(D,ql.EventType.MESSAGE,Y=>{if(!j){const Q=Y.data[0];ae(!!Q,16349);const nt=Q,J=nt?.error||nt[0]?.error;if(J){ht(Qe,`RPC '${e}' stream ${u} received error:`,J);const rt=J.status;let ut=function(A){const R=ve[A];if(R!==void 0)return U_(R)}(rt),ct=J.message;ut===void 0&&(ut=st.INTERNAL,ct="Unknown error status: "+rt+" with message "+J.message),j=!0,L.a_(new gt(ut,ct)),D.close()}else ht(Qe,`RPC '${e}' stream ${u} received:`,Q),L.u_(Q)}}),X(g,o_.STAT_EVENT,Y=>{Y.stat===Xf.PROXY?ht(Qe,`RPC '${e}' stream ${u} detected buffering proxy`):Y.stat===Xf.NOPROXY&&ht(Qe,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{L.__()},0),L}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(i=>i===e)}}function kf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K_(a){return new Cb(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_{constructor(e,i,s=1e3,u=1.5,h=6e4){this.Mi=e,this.timerId=i,this.d_=s,this.A_=u,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),u=Math.max(0,i-s);u>0&&ht("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,u,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv="PersistentStream";class T2{constructor(e,i,s,u,h,d,g,y){this.Mi=e,this.S_=s,this.b_=u,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new X_(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===st.RESOURCE_EXHAUSTED?(Ii(i.toString()),Ii("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===st.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,u])=>{this.D_===i&&this.G_(s,u)},s=>{e(()=>{const u=new gt(st.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(u)})})}G_(e,i){const s=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(u=>{s(()=>this.z_(u))}),this.stream.onMessage(u=>{s(()=>++this.F_==1?this.J_(u):this.onNext(u))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ht(fv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget(()=>this.D_===e?i():(ht(fv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class S2 extends T2{constructor(e,i,s,u,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,u,d),this.serializer=h}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=Vb(this.serializer,e),s=function(h){if(!("targetChange"in h))return St.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?St.min():d.readTime?ms(d.readTime):St.min()}(e);return this.listener.H_(i,s)}Y_(e){const i={};i.database=rv(this.serializer),i.addTarget=function(h,d){let g;const y=d.target;if(g=nd(y)?{documents:Ib(h,y)}:{query:Mb(h,y).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=Nb(h,d.resumeToken);const p=sd(h,d.expectedCount);p!==null&&(g.expectedCount=p)}else if(d.snapshotVersion.compareTo(St.min())>0){g.readTime=Db(h,d.snapshotVersion.toTimestamp());const p=sd(h,d.expectedCount);p!==null&&(g.expectedCount=p)}return g}(this.serializer,e);const s=Lb(this.serializer,e);s&&(i.labels=s),this.q_(i)}Z_(e){const i={};i.database=rv(this.serializer),i.removeTarget=e,this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{}class b2 extends A2{constructor(e,i,s,u){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=u,this.ia=!1}sa(){if(this.ia)throw new gt(st.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,s,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.Go(e,ld(i,s),u,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===st.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new gt(st.UNKNOWN,h.toString())})}Ho(e,i,s,u,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Ho(e,ld(i,s),u,d,g,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===st.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new gt(st.UNKNOWN,d.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class R2{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ii(i),this.aa=!1):ht("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const As="RemoteStore";class w2{constructor(e,i,s,u,h){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo(d=>{s.enqueueAndForget(async()=>{hu(this)&&(ht(As,"Restarting streams for network reachability change."),await async function(y){const p=zt(y);p.Ea.add(4),await cu(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Sc(p)}(this))})}),this.Ra=new R2(s,u)}}async function Sc(a){if(hu(a))for(const e of a.da)await e(!0)}async function cu(a){for(const e of a.da)await e(!1)}function $_(a,e){const i=zt(a);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),qd(i)?kd(i):Ns(i).O_()&&jd(i,e))}function Bd(a,e){const i=zt(a),s=Ns(i);i.Ia.delete(e),s.O_()&&Z_(i,e),i.Ia.size===0&&(s.O_()?s.L_():hu(i)&&i.Ra.set("Unknown"))}function jd(a,e){if(a.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(St.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Ns(a).Y_(e)}function Z_(a,e){a.Va.Ue(e),Ns(a).Z_(e)}function kd(a){a.Va=new Ab({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),At:e=>a.Ia.get(e)||null,ht:()=>a.datastore.serializer.databaseId}),Ns(a).start(),a.Ra.ua()}function qd(a){return hu(a)&&!Ns(a).x_()&&a.Ia.size>0}function hu(a){return zt(a).Ea.size===0}function J_(a){a.Va=void 0}async function C2(a){a.Ra.set("Online")}async function D2(a){a.Ia.forEach((e,i)=>{jd(a,e)})}async function N2(a,e){J_(a),qd(a)?(a.Ra.ha(e),kd(a)):a.Ra.set("Unknown")}async function x2(a,e,i){if(a.Ra.set("Online"),e instanceof z_&&e.state===2&&e.cause)try{await async function(u,h){const d=h.cause;for(const g of h.targetIds)u.Ia.has(g)&&(await u.remoteSyncer.rejectListen(g,d),u.Ia.delete(g),u.Va.removeTarget(g))}(a,e)}catch(s){ht(As,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await dv(a,s)}else if(e instanceof Xo?a.Va.Ze(e):e instanceof L_?a.Va.st(e):a.Va.tt(e),!i.isEqual(St.min()))try{const s=await F_(a.localStore);i.compareTo(s)>=0&&await function(h,d){const g=h.Va.Tt(d);return g.targetChanges.forEach((y,p)=>{if(y.resumeToken.approximateByteSize()>0){const T=h.Ia.get(p);T&&h.Ia.set(p,T.withResumeToken(y.resumeToken,d))}}),g.targetMismatches.forEach((y,p)=>{const T=h.Ia.get(y);if(!T)return;h.Ia.set(y,T.withResumeToken(ke.EMPTY_BYTE_STRING,T.snapshotVersion)),Z_(h,y);const D=new hr(T.target,y,p,T.sequenceNumber);jd(h,D)}),h.remoteSyncer.applyRemoteEvent(g)}(a,i)}catch(s){ht(As,"Failed to raise snapshot:",s),await dv(a,s)}}async function dv(a,e,i){if(!Ds(e))throw e;a.Ea.add(1),await cu(a),a.Ra.set("Offline"),i||(i=()=>F_(a.localStore)),a.asyncQueue.enqueueRetryable(async()=>{ht(As,"Retrying IndexedDB access"),await i(),a.Ea.delete(1),await Sc(a)})}async function mv(a,e){const i=zt(a);i.asyncQueue.verifyOperationInProgress(),ht(As,"RemoteStore received new credentials");const s=hu(i);i.Ea.add(3),await cu(i),s&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Sc(i)}async function O2(a,e){const i=zt(a);e?(i.Ea.delete(2),await Sc(i)):e||(i.Ea.add(2),await cu(i),i.Ra.set("Unknown"))}function Ns(a){return a.ma||(a.ma=function(i,s,u){const h=zt(i);return h.sa(),new S2(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(a.datastore,a.asyncQueue,{Xo:C2.bind(null,a),t_:D2.bind(null,a),r_:N2.bind(null,a),H_:x2.bind(null,a)}),a.da.push(async e=>{e?(a.ma.B_(),qd(a)?kd(a):a.Ra.set("Unknown")):(await a.ma.stop(),J_(a))})),a.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(e,i,s,u,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=u,this.removalCallback=h,this.deferred=new ds,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,u,h){const d=Date.now()+s,g=new Hd(e,i,d,u,h);return g.start(s),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new gt(st.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function W_(a,e){if(Ii("AsyncQueue",`${e}: ${a}`),Ds(a))return new gt(st.UNAVAILABLE,`${e}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{static emptySet(e){return new gs(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||vt.comparator(i.key,s.key):(i,s)=>vt.comparator(i.key,s.key),this.keyedMap=Hl(),this.sortedSet=new de(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,s)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof gs)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=s.getNext().key;if(!u.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new gs;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(){this.ga=new de(vt.comparator)}track(e){const i=e.doc.key,s=this.ga.get(i);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(i,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(i):e.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):At(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal((i,s)=>{e.push(s)}),e}}class bs{constructor(e,i,s,u,h,d,g,y,p){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=u,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=p}static fromInitialDocuments(e,i,s,u,h){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new bs(e,i,gs.emptySet(i),d,s,u,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==s[u].type||!i[u].doc.isEqual(s[u].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class I2{constructor(){this.queries=pv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const u=zt(i),h=u.queries;u.queries=pv(),h.forEach((d,g)=>{for(const y of g.Sa)y.onError(s)})})(this,new gt(st.ABORTED,"Firestore shutting down"))}}function pv(){return new ma(a=>w_(a),yc)}async function M2(a,e){const i=zt(a);let s=3;const u=e.query;let h=i.queries.get(u);h?!h.ba()&&e.Da()&&(s=2):(h=new V2,s=e.Da()?0:1);try{switch(s){case 0:h.wa=await i.onListen(u,!0);break;case 1:h.wa=await i.onListen(u,!1);break;case 2:await i.onFirstRemoteStoreListen(u)}}catch(d){const g=W_(d,`Initialization of query '${os(e.query)}' failed`);return void e.onError(g)}i.queries.set(u,h),h.Sa.push(e),e.va(i.onlineState),h.wa&&e.Fa(h.wa)&&Gd(i)}async function U2(a,e){const i=zt(a),s=e.query;let u=3;const h=i.queries.get(s);if(h){const d=h.Sa.indexOf(e);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?u=e.Da()?0:1:!h.ba()&&e.Da()&&(u=2))}switch(u){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function L2(a,e){const i=zt(a);let s=!1;for(const u of e){const h=u.query,d=i.queries.get(h);if(d){for(const g of d.Sa)g.Fa(u)&&(s=!0);d.wa=u}}s&&Gd(i)}function z2(a,e,i){const s=zt(a),u=s.queries.get(e);if(u)for(const h of u.Sa)h.onError(i);s.queries.delete(e)}function Gd(a){a.Ca.forEach(e=>{e.next()})}var cd,yv;(yv=cd||(cd={})).Ma="default",yv.Cache="cache";class P2{constructor(e,i,s){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const u of e.docChanges)u.type!==3&&s.push(u);e=new bs(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=bs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==cd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(e){this.key=e}}class e0{constructor(e){this.key=e}}class B2{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Bt(),this.mutatedKeys=Bt(),this.eu=C_(e),this.tu=new gs(this.eu)}get nu(){return this.Ya}ru(e,i){const s=i?i.iu:new gv,u=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=u,g=!1;const y=this.query.limitType==="F"&&u.size===this.query.limit?u.last():null,p=this.query.limitType==="L"&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((T,D)=>{const b=u.get(T),j=vc(this.query,D)?D:null,L=!!b&&this.mutatedKeys.has(b.key),X=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let Y=!1;b&&j?b.data.isEqual(j.data)?L!==X&&(s.track({type:3,doc:j}),Y=!0):this.su(b,j)||(s.track({type:2,doc:j}),Y=!0,(y&&this.eu(j,y)>0||p&&this.eu(j,p)<0)&&(g=!0)):!b&&j?(s.track({type:0,doc:j}),Y=!0):b&&!j&&(s.track({type:1,doc:b}),Y=!0,(y||p)&&(g=!0)),Y&&(j?(d=d.add(j),h=X?h.add(T):h.delete(T)):(d=d.delete(T),h=h.delete(T)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),h=h.delete(T.key),s.track({type:1,doc:T})}return{tu:d,iu:s,Cs:g,mutatedKeys:h}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,u){const h=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort((T,D)=>function(j,L){const X=Y=>{switch(Y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return At(20277,{Rt:Y})}};return X(j)-X(L)}(T.type,D.type)||this.eu(T.doc,D.doc)),this.ou(s),u=u??!1;const g=i&&!u?this._u():[],y=this.Xa.size===0&&this.current&&!u?1:0,p=y!==this.Za;return this.Za=y,d.length!==0||p?{snapshot:new bs(this.query,e.tu,h,d,e.mutatedKeys,y===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new gv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(i=>this.Ya=this.Ya.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.Ya=this.Ya.delete(i)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Bt(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const i=[];return e.forEach(s=>{this.Xa.has(s)||i.push(new e0(s))}),this.Xa.forEach(s=>{e.has(s)||i.push(new t0(s))}),i}cu(e){this.Ya=e.Qs,this.Xa=Bt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return bs.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Qd="SyncEngine";class j2{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class k2{constructor(e){this.key=e,this.hu=!1}}class q2{constructor(e,i,s,u,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=u,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ma(g=>w_(g),yc),this.Iu=new Map,this.Eu=new Set,this.du=new de(vt.comparator),this.Au=new Map,this.Ru=new Ud,this.Vu={},this.mu=new Map,this.fu=Ss.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function H2(a,e,i=!0){const s=s0(a);let u;const h=s.Tu.get(e);return h?(s.sharedClientState.addLocalQueryTarget(h.targetId),u=h.view.lu()):u=await n0(s,e,i,!0),u}async function G2(a,e){const i=s0(a);await n0(i,e,!0,!1)}async function n0(a,e,i,s){const u=await d2(a.localStore,ti(e)),h=u.targetId,d=a.sharedClientState.addLocalQueryTarget(h,i);let g;return s&&(g=await Q2(a,e,h,d==="current",u.resumeToken)),a.isPrimaryClient&&i&&$_(a.remoteStore,u),g}async function Q2(a,e,i,s,u){a.pu=(D,b,j)=>async function(X,Y,Q,nt){let J=Y.view.ru(Q);J.Cs&&(J=await uv(X.localStore,Y.query,!1).then(({documents:N})=>Y.view.ru(N,J)));const rt=nt&&nt.targetChanges.get(Y.targetId),ut=nt&&nt.targetMismatches.get(Y.targetId)!=null,ct=Y.view.applyChanges(J,X.isPrimaryClient,rt,ut);return _v(X,Y.targetId,ct.au),ct.snapshot}(a,D,b,j);const h=await uv(a.localStore,e,!0),d=new B2(e,h.Qs),g=d.ru(h.documents),y=ou.createSynthesizedTargetChangeForCurrentChange(i,s&&a.onlineState!=="Offline",u),p=d.applyChanges(g,a.isPrimaryClient,y);_v(a,i,p.au);const T=new j2(e,i,d);return a.Tu.set(e,T),a.Iu.has(i)?a.Iu.get(i).push(e):a.Iu.set(i,[e]),p.snapshot}async function Y2(a,e,i){const s=zt(a),u=s.Tu.get(e),h=s.Iu.get(u.targetId);if(h.length>1)return s.Iu.set(u.targetId,h.filter(d=>!yc(d,e))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(u.targetId),s.sharedClientState.isActiveQueryTarget(u.targetId)||await ud(s.localStore,u.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(u.targetId),i&&Bd(s.remoteStore,u.targetId),hd(s,u.targetId)}).catch(fc)):(hd(s,u.targetId),await ud(s.localStore,u.targetId,!0))}async function F2(a,e){const i=zt(a),s=i.Tu.get(e),u=i.Iu.get(s.targetId);i.isPrimaryClient&&u.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Bd(i.remoteStore,s.targetId))}async function i0(a,e){const i=zt(a);try{const s=await h2(i.localStore,e);e.targetChanges.forEach((u,h)=>{const d=i.Au.get(h);d&&(ae(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1,22616),u.addedDocuments.size>0?d.hu=!0:u.modifiedDocuments.size>0?ae(d.hu,14607):u.removedDocuments.size>0&&(ae(d.hu,42227),d.hu=!1))}),await a0(i,s,e)}catch(s){await fc(s)}}function vv(a,e,i){const s=zt(a);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const u=[];s.Tu.forEach((h,d)=>{const g=d.view.va(e);g.snapshot&&u.push(g.snapshot)}),function(d,g){const y=zt(d);y.onlineState=g;let p=!1;y.queries.forEach((T,D)=>{for(const b of D.Sa)b.va(g)&&(p=!0)}),p&&Gd(y)}(s.eventManager,e),u.length&&s.Pu.H_(u),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function K2(a,e,i){const s=zt(a);s.sharedClientState.updateQueryState(e,"rejected",i);const u=s.Au.get(e),h=u&&u.key;if(h){let d=new de(vt.comparator);d=d.insert(h,Fe.newNoDocument(h,St.min()));const g=Bt().add(h),y=new Tc(St.min(),new Map,new de(Ot),d,g);await i0(s,y),s.du=s.du.remove(h),s.Au.delete(e),Yd(s)}else await ud(s.localStore,e,!1).then(()=>hd(s,e,i)).catch(fc)}function hd(a,e,i=null){a.sharedClientState.removeLocalQueryTarget(e);for(const s of a.Iu.get(e))a.Tu.delete(s),i&&a.Pu.yu(s,i);a.Iu.delete(e),a.isPrimaryClient&&a.Ru.jr(e).forEach(s=>{a.Ru.containsKey(s)||r0(a,s)})}function r0(a,e){a.Eu.delete(e.path.canonicalString());const i=a.du.get(e);i!==null&&(Bd(a.remoteStore,i),a.du=a.du.remove(e),a.Au.delete(i),Yd(a))}function _v(a,e,i){for(const s of i)s instanceof t0?(a.Ru.addReference(s.key,e),X2(a,s)):s instanceof e0?(ht(Qd,"Document no longer in limbo: "+s.key),a.Ru.removeReference(s.key,e),a.Ru.containsKey(s.key)||r0(a,s.key)):At(19791,{wu:s})}function X2(a,e){const i=e.key,s=i.path.canonicalString();a.du.get(i)||a.Eu.has(s)||(ht(Qd,"New document in limbo: "+i),a.Eu.add(s),Yd(a))}function Yd(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const e=a.Eu.values().next().value;a.Eu.delete(e);const i=new vt(ie.fromString(e)),s=a.fu.next();a.Au.set(s,new k2(i)),a.du=a.du.insert(i,s),$_(a.remoteStore,new hr(ti(Od(i.path)),s,"TargetPurposeLimboResolution",dc.ce))}}async function a0(a,e,i){const s=zt(a),u=[],h=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach((g,y)=>{d.push(s.pu(y,e,i).then(p=>{if((p||i)&&s.isPrimaryClient){const T=p?!p.fromCache:i?.targetChanges.get(y.targetId)?.current;s.sharedClientState.updateQueryState(y.targetId,T?"current":"not-current")}if(p){u.push(p);const T=zd.As(y.targetId,p);h.push(T)}}))}),await Promise.all(d),s.Pu.H_(u),await async function(y,p){const T=zt(y);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",D=>tt.forEach(p,b=>tt.forEach(b.Es,j=>T.persistence.referenceDelegate.addReference(D,b.targetId,j)).next(()=>tt.forEach(b.ds,j=>T.persistence.referenceDelegate.removeReference(D,b.targetId,j)))))}catch(D){if(!Ds(D))throw D;ht(Pd,"Failed to update sequence numbers: "+D)}for(const D of p){const b=D.targetId;if(!D.fromCache){const j=T.Ms.get(b),L=j.snapshotVersion,X=j.withLastLimboFreeSnapshotVersion(L);T.Ms=T.Ms.insert(b,X)}}}(s.localStore,h))}async function $2(a,e){const i=zt(a);if(!i.currentUser.isEqual(e)){ht(Qd,"User change. New user:",e.toKey());const s=await Y_(i.localStore,e);i.currentUser=e,function(h,d){h.mu.forEach(g=>{g.forEach(y=>{y.reject(new gt(st.CANCELLED,d))})}),h.mu.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await a0(i,s.Ls)}}function Z2(a,e){const i=zt(a),s=i.Au.get(e);if(s&&s.hu)return Bt().add(s.key);{let u=Bt();const h=i.Iu.get(e);if(!h)return u;for(const d of h){const g=i.Tu.get(d);u=u.unionWith(g.view.nu)}return u}}function s0(a){const e=zt(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=i0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Z2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=K2.bind(null,e),e.Pu.H_=L2.bind(null,e.eventManager),e.Pu.yu=z2.bind(null,e.eventManager),e}class oc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=K_(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return c2(this.persistence,new l2,e.initialUser,this.serializer)}Cu(e){return new Q_(Ld.mi,this.serializer)}Du(e){return new g2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}oc.provider={build:()=>new oc};class J2 extends oc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){ae(this.persistence.referenceDelegate instanceof uc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new Yb(s,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?rn.withCacheSize(this.cacheSizeBytes):rn.DEFAULT;return new Q_(s=>uc.mi(s,i),this.serializer)}}class fd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>vv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=$2.bind(null,this.syncEngine),await O2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new I2}()}createDatastore(e){const i=K_(e.databaseInfo.databaseId),s=function(h){return new E2(h)}(e.databaseInfo);return function(h,d,g,y){return new b2(h,d,g,y)}(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return function(s,u,h,d,g){return new w2(s,u,h,d,g)}(this.localStore,this.datastore,e.asyncQueue,i=>vv(this.syncEngine,i,0),function(){return hv.v()?new hv:new p2}())}createSyncEngine(e,i){return function(u,h,d,g,y,p,T){const D=new q2(u,h,d,g,y,p);return T&&(D.gu=!0),D}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await async function(i){const s=zt(i);ht(As,"RemoteStore shutting down."),s.Ea.add(5),await cu(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}fd.provider={build:()=>new fd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ii("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sr="FirestoreClient";class tR{constructor(e,i,s,u,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=u,this.user=Ye.UNAUTHENTICATED,this.clientId=wd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(s,async d=>{ht(Sr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(ht(Sr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ds;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=W_(i,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function qf(a,e){a.asyncQueue.verifyOperationInProgress(),ht(Sr,"Initializing OfflineComponentProvider");const i=a.configuration;await e.initialize(i);let s=i.initialUser;a.setCredentialChangeListener(async u=>{s.isEqual(u)||(await Y_(e.localStore,u),s=u)}),e.persistence.setDatabaseDeletedListener(()=>a.terminate()),a._offlineComponents=e}async function Ev(a,e){a.asyncQueue.verifyOperationInProgress();const i=await eR(a);ht(Sr,"Initializing OnlineComponentProvider"),await e.initialize(i,a.configuration),a.setCredentialChangeListener(s=>mv(e.remoteStore,s)),a.setAppCheckTokenChangeListener((s,u)=>mv(e.remoteStore,u)),a._onlineComponents=e}async function eR(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){ht(Sr,"Using user provided OfflineComponentProvider");try{await qf(a,a._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(u){return u.name==="FirebaseError"?u.code===st.FAILED_PRECONDITION||u.code===st.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11}(i))throw i;vs("Error using user provided cache. Falling back to memory cache: "+i),await qf(a,new oc)}}else ht(Sr,"Using default OfflineComponentProvider"),await qf(a,new J2(void 0));return a._offlineComponents}async function nR(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(ht(Sr,"Using user provided OnlineComponentProvider"),await Ev(a,a._uninitializedComponentsProvider._online)):(ht(Sr,"Using default OnlineComponentProvider"),await Ev(a,new fd))),a._onlineComponents}async function Tv(a){const e=await nR(a),i=e.eventManager;return i.onListen=H2.bind(null,e.syncEngine),i.onUnlisten=Y2.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=G2.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=F2.bind(null,e.syncEngine),i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l0(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0="firestore.googleapis.com",Av=!0;class bv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new gt(st.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=u0,this.ssl=Av}else this.host=e.host,this.ssl=e.ssl??Av;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=G_;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Gb)throw new gt(st.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}bA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=l0(e.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new gt(st.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new gt(st.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new gt(st.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,u){return s.timeoutSeconds===u.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Fd{constructor(e,i,s,u){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new gt(st.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new gt(st.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new dA;switch(s.type){case"firstParty":return new yA(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new gt(st.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=Sv.get(i);s&&(ht("ComponentProvider","Removing Datastore"),Sv.delete(i),s.terminate())}(this),Promise.resolve()}}function iR(a,e,i,s={}){a=Yo(a,Fd);const u=Ad(e),h=a._getSettings(),d={...h,emulatorOptions:a._getEmulatorOptions()},g=`${e}:${i}`;u&&(j1(`https://${g}`),G1("Firestore",!0)),h.host!==u0&&h.host!==g&&vs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...h,host:g,ssl:u,emulatorOptions:s};if(!tc(y,d)&&(a._setSettings(y),s.mockUserToken)){let p,T;if(typeof s.mockUserToken=="string")p=s.mockUserToken,T=Ye.MOCK_USER;else{p=k1(s.mockUserToken,a._app?.options.projectId);const D=s.mockUserToken.sub||s.mockUserToken.user_id;if(!D)throw new gt(st.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Ye(D)}a._authCredentials=new mA(new d_(p,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ac(this.firestore,e,this._query)}}class We{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new iu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new We(this.firestore,e,this._key)}toJSON(){return{type:We._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,s){if(lu(i,We._jsonSchema))return new We(e,s||null,new vt(ie.fromString(i.referencePath)))}}We._jsonSchemaVersion="firestore/documentReference/1.0",We._jsonSchema={type:Ee("string",We._jsonSchemaVersion),referencePath:Ee("string")};class iu extends Ac{constructor(e,i,s){super(e,i,Od(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new We(this.firestore,null,new vt(e))}withConverter(e){return new iu(this.firestore,e,this._path)}}function rR(a,e,...i){if(a=Wv(a),arguments.length===1&&(e=wd.newId()),AA("doc","path",e),a instanceof Fd){const s=ie.fromString(e,...i);return Ly(s),new We(a,null,new vt(s))}{if(!(a instanceof We||a instanceof iu))throw new gt(st.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(ie.fromString(e,...i));return Ly(s),new We(a.firestore,a instanceof iu?a.converter:null,new vt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv="AsyncQueue";class wv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new X_(this,"async_queue_retry"),this._c=()=>{const s=kf();s&&ht(Rv,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const i=kf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=kf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const i=new ds;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ds(e))throw e;ht(Rv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const i=this.ac.then(()=>(this.rc=!0,e().catch(s=>{throw this.nc=s,this.rc=!1,Ii("INTERNAL UNHANDLED ERROR: ",Cv(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=i,i}enqueueAfterDelay(e,i,s){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const u=Hd.createAndSchedule(this,e,i,s,h=>this.hc(h));return this.tc.push(u),u}uc(){this.nc&&At(47125,{Pc:Cv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function Cv(a){let e=a.message||"";return a.stack&&(e=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dv(a){return function(i,s){if(typeof i!="object"||i===null)return!1;const u=i;for(const h of s)if(h in u&&typeof u[h]=="function")return!0;return!1}(a,["next","error","complete"])}class dd extends Fd{constructor(e,i,s,u){super(e,i,s,u),this.type="firestore",this._queue=new wv,this._persistenceKey=u?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new wv(e),this._firestoreClient=void 0,await e}}}function aR(a,e){const i=typeof a=="object"?a:tA(),s=typeof a=="string"?a:ic,u=XS(i,"firestore").getImmediate({identifier:s});if(!u._initialized){const h=P1("firestore");h&&iR(u,...h)}return u}function sR(a){if(a._terminated)throw new gt(st.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||lR(a),a._firestoreClient}function lR(a){const e=a._freezeSettings(),i=function(u,h,d,g){return new PA(u,h,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,l0(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)}(a._databaseId,a._app?.options.appId||"",a._persistenceKey,e);a._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),a._firestoreClient=new tR(a._authCredentials,a._appCheckCredentials,a._queue,i,a._componentsProvider&&function(u){const h=u?._online.build();return{_offline:u?._offline.build(h),_online:h}}(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wn(ke.fromBase64String(e))}catch(i){throw new gt(st.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Wn(ke.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Wn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(lu(e,Wn._jsonSchema))return Wn.fromBase64String(e.bytes)}}Wn._jsonSchemaVersion="firestore/bytes/1.0",Wn._jsonSchema={type:Ee("string",Wn._jsonSchemaVersion),bytes:Ee("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new gt(st.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Je(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new gt(st.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new gt(st.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ot(this._lat,e._lat)||Ot(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:gr._jsonSchemaVersion}}static fromJSON(e){if(lu(e,gr._jsonSchema))return new gr(e.latitude,e.longitude)}}gr._jsonSchemaVersion="firestore/geoPoint/1.0",gr._jsonSchema={type:Ee("string",gr._jsonSchemaVersion),latitude:Ee("number"),longitude:Ee("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,u){if(s.length!==u.length)return!1;for(let h=0;h<s.length;++h)if(s[h]!==u[h])return!1;return!0}(this._values,e._values)}toJSON(){return{type:pr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(lu(e,pr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(i=>typeof i=="number"))return new pr(e.vectorValues);throw new gt(st.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}pr._jsonSchemaVersion="firestore/vectorValue/1.0",pr._jsonSchema={type:Ee("string",pr._jsonSchemaVersion),vectorValues:Ee("object")};const uR=new RegExp("[~\\*/\\[\\]]");function oR(a,e,i){if(e.search(uR)>=0)throw Nv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a);try{return new o0(...e.split("."))._internalPath}catch{throw Nv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a)}}function Nv(a,e,i,s,u){let h=`Function ${e}() called with invalid data`;h+=". ";let d="";return new gt(st.INVALID_ARGUMENT,h+a+d)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(e,i,s,u,h){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=u,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new We(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new cR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(h0("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class cR extends c0{data(){return super.data()}}function h0(a,e){return typeof e=="string"?oR(a,e):e instanceof o0?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hR(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new gt(st.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fR{convertValue(e,i="none"){switch(Er(e)){case 0:return null;case 1:return e.booleanValue;case 2:return fe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(_r(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw At(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return uu(e,(u,h)=>{s[u]=this.convertValue(h,i)}),s}convertVectorValue(e){const i=e.fields?.[Jf].arrayValue?.values?.map(s=>fe(s.doubleValue));return new pr(i)}convertGeoPoint(e){return new gr(fe(e.latitude),fe(e.longitude))}convertArray(e,i){return(e.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(e,i){switch(i){case"previous":const s=gc(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(tu(e));default:return null}}convertTimestamp(e){const i=vr(e);return new _e(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=ie.fromString(e);ae(H_(s),9688,{name:e});const u=new eu(s.get(1),s.get(3)),h=new vt(s.popFirst(5));return u.isEqual(i)||Ii(`Document ${h} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}class Ql{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ca extends c0{constructor(e,i,s,u,h,d){super(e,i,s,u,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new $o(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(h0("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new gt(st.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=ca._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ca._jsonSchemaVersion="firestore/documentSnapshot/1.0",ca._jsonSchema={type:Ee("string",ca._jsonSchemaVersion),bundleSource:Ee("string","DocumentSnapshot"),bundleName:Ee("string"),bundle:Ee("string")};class $o extends ca{data(e={}){return super.data(e)}}class ps{constructor(e,i,s,u){this._firestore=e,this._userDataWriter=i,this._snapshot=u,this.metadata=new Ql(u.hasPendingWrites,u.fromCache),this.query=s}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(s=>{e.call(i,new $o(this._firestore,this._userDataWriter,s.key,s,new Ql(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new gt(st.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(u,h){if(u._snapshot.oldDocs.isEmpty()){let d=0;return u._snapshot.docChanges.map(g=>{const y=new $o(u._firestore,u._userDataWriter,g.doc.key,g.doc,new Ql(u._snapshot.mutatedKeys.has(g.doc.key),u._snapshot.fromCache),u.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}})}{let d=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(g=>h||g.type!==3).map(g=>{const y=new $o(u._firestore,u._userDataWriter,g.doc.key,g.doc,new Ql(u._snapshot.mutatedKeys.has(g.doc.key),u._snapshot.fromCache),u.query.converter);let p=-1,T=-1;return g.type!==0&&(p=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),T=d.indexOf(g.doc.key)),{type:dR(g.type),doc:y,oldIndex:p,newIndex:T}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new gt(st.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ps._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=wd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],u=[];return this.docs.forEach(h=>{h._document!==null&&(i.push(h._document),s.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),u.push(h.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function dR(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return At(61501,{type:a})}}ps._jsonSchemaVersion="firestore/querySnapshot/1.0",ps._jsonSchema={type:Ee("string",ps._jsonSchemaVersion),bundleSource:Ee("string","QuerySnapshot"),bundleName:Ee("string"),bundle:Ee("string")};class f0 extends fR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new We(this.firestore,null,i)}}function mR(a,...e){a=Wv(a);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||Dv(e[s])||(i=e[s++]);const u={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Dv(e[s])){const y=e[s];e[s]=y.next?.bind(y),e[s+1]=y.error?.bind(y),e[s+2]=y.complete?.bind(y)}let h,d,g;if(a instanceof We)d=Yo(a.firestore,dd),g=Od(a._key.path),h={next:y=>{e[s]&&e[s](gR(d,a,y))},error:e[s+1],complete:e[s+2]};else{const y=Yo(a,Ac);d=Yo(y.firestore,dd),g=y._query;const p=new f0(d);h={next:T=>{e[s]&&e[s](new ps(d,p,y,T))},error:e[s+1],complete:e[s+2]},hR(a._query)}return function(p,T,D,b){const j=new W2(b),L=new P2(T,j,D);return p.asyncQueue.enqueueAndForget(async()=>M2(await Tv(p),L)),()=>{j.Nu(),p.asyncQueue.enqueueAndForget(async()=>U2(await Tv(p),L))}}(sR(d),g,u,h)}function gR(a,e,i){const s=i.docs.get(e._key),u=new f0(a);return new ca(a,u,e._key,s,new Ql(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(u){Cs=u})(WS),nc(new Zl("firestore",(s,{instanceIdentifier:u,options:h})=>{const d=s.getProvider("app").getImmediate(),g=new dd(new gA(s.getProvider("auth-internal")),new vA(d,s.getProvider("app-check-internal")),function(p,T){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new gt(st.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new eu(p.options.projectId,T)}(d,u),d);return h={useFetchStreams:i,...h},g._setSettings(h),g},"PUBLIC").setMultipleInstances(!0)),fs(Vy,Iy,e),fs(Vy,Iy,"esm2020")})();const pR={apiKey:"AIzaSyD_aYwJ5z2PPiGMgWpK7RULqtQCVnVMmO8",authDomain:"geniewordle.firebaseapp.com",databaseURL:"https://geniewordle-default-rtdb.firebaseio.com",projectId:"geniewordle",storageBucket:"geniewordle.firebasestorage.app",messagingSenderId:"488615969313",appId:"1:488615969313:web:8c9e6cbe0474195b7b1960",measurementId:"G-PHZ10T7ZWX"},yR=i_(pR),vR=aR(yR);function _R(){const[a,e]=q.useState({}),[i,s]=q.useState(null),[u,h]=q.useState(""),[d,g]=q.useState(""),[y,p]=q.useState("active"),[T,D]=q.useState(""),b=q.useRef(null),j=()=>{e({})},L=(X,Y)=>{Y!=="empty"&&e(Q=>{const nt={...Q},J=nt[X]||"empty",rt={correct:3,present:2,absent:1,empty:0};return(J==="empty"||Y==="absent"&&!["correct","present"].includes(J)||rt[Y]>rt[J])&&(nt[X]=Y),nt})};return q.useEffect(()=>{if(i){const X=mR(rR(vR,"games",i),Y=>{const Q=Y.data();Q&&(h(Q.hints?.[Q.hints.length-1]?.hint||u),p(Q.status),D(Q.word.length))});return()=>X()}},[i]),G.jsx(t1,{children:G.jsx("div",{className:"app",children:G.jsxs(xT,{children:[G.jsx(ls,{path:"/",element:G.jsx(_1,{})}),G.jsx(ls,{path:"/game",element:G.jsx(A1,{onKeyPress:L,keyStatuses:a,resetKeyStatuses:j,gameId:i,setGameId:s,setGameStatus:p,setHint:h,setExplanation:g,wordLength:T,setWordLength:D,gameStatus:y,setKeyStatuses:e,gridKeyPressRef:b})}),G.jsx(ls,{path:"/signup",element:G.jsx(b1,{})}),G.jsx(ls,{path:"/select-level",element:G.jsx(R1,{})}),G.jsx(ls,{path:"/rewards",element:G.jsx(C1,{})})]})})})}v1.createRoot(document.getElementById("root")).render(G.jsx(e1,{children:G.jsx(_R,{})}));
